var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__reflectGet=Reflect.get,__knownSymbol=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),__typeError=e=>{throw TypeError(e)},__pow=Math.pow,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var r={};for(var n in e)__hasOwnProp.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))t.indexOf(n)<0&&__propIsEnum.call(e,n)&&(r[n]=e[n]);return r},__publicField=(e,t,r)=>__defNormalProp(e,"symbol"!=typeof t?t+"":t,r),__accessCheck=(e,t,r)=>t.has(e)||__typeError("Cannot "+r),__privateGet=(e,t,r)=>(__accessCheck(e,t,"read from private field"),r?r.call(e):t.get(e)),__privateAdd=(e,t,r)=>t.has(e)?__typeError("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),__privateSet=(e,t,r,n)=>(__accessCheck(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),__privateMethod=(e,t,r)=>(__accessCheck(e,t,"access private method"),r),__privateWrapper=(e,t,r,n)=>({set _(n){__privateSet(e,t,n,r)},get _(){return __privateGet(e,t,n)}}),__superGet=(e,t,r)=>__reflectGet(__getProtoOf(e),r,t),__async=(e,t,r)=>new Promise((n,i)=>{var a=e=>{try{o(r.next(e))}catch(t){i(t)}},s=e=>{try{o(r.throw(e))}catch(t){i(t)}},o=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,s);o((r=r.apply(e,t)).next())}),__forAwait=(e,t,r)=>(t=e[__knownSymbol("asyncIterator")])?t.call(e):(e=e[__knownSymbol("iterator")](),t={},(r=(r,n)=>(n=e[r])&&(t[r]=t=>new Promise((r,i,a)=>(t=n.call(e,t),a=t.done,Promise.resolve(t.value).then(e=>r({value:e,done:a}),i)))))("next"),r("return"),t);!function(e){"use strict";var t,r,n,i,a,s,o,l,c,d,u,h,p,f,m,_,v,g,y,b,x,w,k,S,A,M,C,N,E,j,G,P,R,T,L,D,I,F,O,z,W,$,B,V,H,U,q,X,K,Y,Q,J,Z,ee,te,re,ne,ie,ae,se,oe,le,ce,de,ue,he,pe,fe,me,_e,ve,ge,ye,be,xe,we,ke,Se,Ae,Me,Ce,Ne,Ee,je,Ge,Pe,Re,Te,Le,De,Ie,Fe,Oe,ze,We,$e,Be,Ve,He,Ue,qe,Xe,Ke,Ye,Qe,Je,Ze,et,tt,rt,nt,it,at,st,ot,lt,ct,dt,ut,ht,pt,ft,mt,_t,vt,gt,yt,bt,xt,wt,kt,St,At,Mt,Ct,Nt,Et,jt,Gt,Pt,Rt,Tt,Lt,Dt,It,Ft,Ot,zt,Wt,$t,Bt,Vt,Ht,Ut,qt,Xt,Kt,Yt,Qt,Jt,Zt,er,tr,rr,nr,ir,ar,sr,or,lr,cr,dr,ur,hr,pr,fr,mr,_r,vr,gr,yr,br,xr,wr,kr,Sr,Ar,Mr,Cr,Nr,Er,jr,Gr,Pr,Rr,Tr,Lr,Dr,Ir,Fr,Or,zr,Wr,$r,Br,Vr,Hr,Ur,qr,Xr,Kr,Yr,Qr,Jr,Zr,en,tn,rn,nn,an,sn,on,ln,cn,dn,un,hn,pn,fn,mn,_n,vn,gn,yn,bn,xn,wn,kn,Sn,An,Mn,Cn,Nn,En,jn,Gn,Pn,Rn,Tn,Ln,Dn,In,Fn,On,zn,Wn,$n,Bn,Vn,Hn,Un,qn,Xn,Kn,Yn,Qn,Jn,Zn,ei,ti,ri,ni,ii,ai,si,oi,li,ci,di,ui,hi,pi,fi,mi,_i,vi,gi,yi,bi,xi,wi,ki,Si,Ai,Mi,Ci,Ni,Ei,ji,Gi,Pi,Ri,Ti,Li,Di,Ii,Fi,Oi,zi,Wi,$i,Bi,Vi,Hi,Ui,qi,Xi,Ki,Yi,Qi,Ji,Zi,ea,ta,ra,na,ia,aa,sa,oa,la,ca,da,ua,ha,pa,fa,ma,_a,va,ga,ya,ba,xa,wa,ka,Sa,Aa,Ma,Ca,Na,Ea,ja,Ga,Pa,Ra,Ta,La,Da,Ia,Fa,Oa,za,Wa,$a,Ba,Va,Ha,Ua,qa,Xa,Ka,Ya,Qa,Ja,Za,es,ts,rs,ns,is,as,ss,os,ls,cs,ds,us,hs,ps,fs,ms,_s,vs,gs,ys,bs,xs,ws,ks,Ss,As,Ms,Cs,Ns,Es,js,Gs,Ps,Rs,Ts,Ls,Ds,Is,Fs,Os,zs,Ws,$s,Bs,Vs,Hs,Us,qs,Xs,Ks,Ys,Qs,Js,Zs,eo,to,ro,no,io,ao,so,oo,lo,co,uo,ho,po,fo,mo,_o,vo,go,yo,bo,xo,wo,ko,So,Ao,Mo,Co,No,Eo,jo,Go,Po,Ro,To,Lo,Do,Io,Fo,Oo,zo,Wo,$o,Bo,Vo,Ho,Uo,qo,Xo,Ko,Yo,Qo,Jo,Zo,el,tl,rl,nl,il,al,sl,ol,ll,cl,dl,ul,hl,pl,fl,ml,_l,vl,gl,yl,bl,xl,wl,kl,Sl,Al,Ml,Cl,Nl,El,jl,Gl,Pl,Rl,Tl,Ll,Dl,Il,Fl,Ol,zl,Wl,$l,Bl,Vl,Hl,Ul,ql,Xl,Kl,Yl,Ql,Jl,Zl,ec,tc,rc,nc,ic,ac,sc,oc,lc,cc,dc,uc,hc,pc,fc,mc,_c,vc,gc,yc,bc,xc,wc,kc,Sc,Ac,Mc,Cc,Nc,Ec,jc,Gc,Pc,Rc,Tc,Lc,Dc,Ic,Fc,Oc,zc,Wc,$c,Bc,Vc,Hc,Uc,qc,Xc,Kc,Yc,Qc,Jc,Zc,ed,td,rd,nd,id,ad,sd,od="undefined"!=typeof document?document.currentScript:null;function ld(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function cd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dd,ud,hd,pd,fd={exports:{}},md={},_d={exports:{}},vd={};function gd(){if(dd)return vd;dd=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),u=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,f={};function m(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}function _(){}function v(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=m.prototype;var g=v.prototype=new _;g.constructor=v,p(g,m.prototype),g.isPureReactComponent=!0;var y=Array.isArray,b=Object.prototype.hasOwnProperty,x={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function k(t,r,n){var i,a={},s=null,o=null;if(null!=r)for(i in void 0!==r.ref&&(o=r.ref),void 0!==r.key&&(s=""+r.key),r)b.call(r,i)&&!w.hasOwnProperty(i)&&(a[i]=r[i]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:e,type:t,key:s,ref:o,props:a,_owner:x.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var A=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(r,n,i,a,s){var o=typeof r;"undefined"!==o&&"boolean"!==o||(r=null);var l=!1;if(null===r)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(r.$$typeof){case e:case t:l=!0}}if(l)return s=s(l=r),r=""===a?"."+M(l,0):a,y(s)?(i="",null!=r&&(i=r.replace(A,"$&/")+"/"),C(s,n,i,"",function(e){return e})):null!=s&&(S(s)&&(s=function(t,r){return{$$typeof:e,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(A,"$&/")+"/")+r)),n.push(s)),1;if(l=0,a=""===a?".":a+":",y(r))for(var c=0;c<r.length;c++){var d=a+M(o=r[c],c);l+=C(o,n,i,d,s)}else if(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(r),"function"==typeof d)for(r=d.call(r),c=0;!(o=r.next()).done;)l+=C(o=o.value,n,i,d=a+M(o,c++),s);else if("object"===o)throw n=String(r),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(r).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,r){if(null==e)return e;var n=[],i=0;return C(e,n,"","",function(e){return t.call(r,e,i++)}),n}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},G={transition:null},P={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:G,ReactCurrentOwner:x};function R(){throw Error("act(...) is not supported in production builds of React.")}return vd.Children={map:N,forEach:function(e,t,r){N(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},vd.Component=m,vd.Fragment=r,vd.Profiler=i,vd.PureComponent=v,vd.StrictMode=n,vd.Suspense=l,vd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,vd.act=R,vd.cloneElement=function(t,r,n){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=p({},t.props),a=t.key,s=t.ref,o=t._owner;if(null!=r){if(void 0!==r.ref&&(s=r.ref,o=x.current),void 0!==r.key&&(a=""+r.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in r)b.call(r,c)&&!w.hasOwnProperty(c)&&(i[c]=void 0===r[c]&&void 0!==l?l[c]:r[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:e,type:t.type,key:a,ref:s,props:i,_owner:o}},vd.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},vd.createElement=k,vd.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},vd.createRef=function(){return{current:null}},vd.forwardRef=function(e){return{$$typeof:o,render:e}},vd.isValidElement=S,vd.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:E}},vd.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},vd.startTransition=function(e){var t=G.transition;G.transition={};try{e()}finally{G.transition=t}},vd.unstable_act=R,vd.useCallback=function(e,t){return j.current.useCallback(e,t)},vd.useContext=function(e){return j.current.useContext(e)},vd.useDebugValue=function(){},vd.useDeferredValue=function(e){return j.current.useDeferredValue(e)},vd.useEffect=function(e,t){return j.current.useEffect(e,t)},vd.useId=function(){return j.current.useId()},vd.useImperativeHandle=function(e,t,r){return j.current.useImperativeHandle(e,t,r)},vd.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},vd.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},vd.useMemo=function(e,t){return j.current.useMemo(e,t)},vd.useReducer=function(e,t,r){return j.current.useReducer(e,t,r)},vd.useRef=function(e){return j.current.useRef(e)},vd.useState=function(e){return j.current.useState(e)},vd.useSyncExternalStore=function(e,t,r){return j.current.useSyncExternalStore(e,t,r)},vd.useTransition=function(){return j.current.useTransition()},vd.version="18.3.1",vd}function yd(){return ud||(ud=1,_d.exports=gd()),_d.exports}
/**
   * @license React
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var bd=(pd||(pd=1,fd.exports=function(){if(hd)return md;hd=1;var e=yd(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(e,r,s){var o,l={},c=null,d=null;for(o in void 0!==s&&(c=""+s),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)n.call(r,o)&&!a.hasOwnProperty(o)&&(l[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===l[o]&&(l[o]=r[o]);return{$$typeof:t,type:e,key:c,ref:d,props:l,_owner:i.current}}return md.Fragment=r,md.jsx=s,md.jsxs=s,md}()),fd.exports),xd=yd();const wd=cd(xd),kd=ld({__proto__:null,default:wd},[xd]);var Sd,Ad,Md,Cd,Nd,Ed={},jd={exports:{}},Gd={},Pd={exports:{}},Rd={};function Td(){return Ad||(Ad=1,Pd.exports=(Sd||(Sd=1,function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<i(a,t)))break e;e[n]=t,e[r]=a,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,r))c<a&&0>i(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>i(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,u=null,h=3,p=!1,f=!1,m=!1,_="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,g="undefined"!=typeof setImmediate?setImmediate:null;function y(e){for(var i=r(c);null!==i;){if(null===i.callback)n(c);else{if(!(i.startTime<=e))break;n(c),i.sortIndex=i.expirationTime,t(l,i)}i=r(c)}}function b(e){if(m=!1,y(e),!f)if(null!==r(l))f=!0,P(x);else{var t=r(c);null!==t&&R(b,t.startTime-e)}}function x(t,i){f=!1,m&&(m=!1,v(A),A=-1),p=!0;var a=h;try{for(y(i),u=r(l);null!==u&&(!(u.expirationTime>i)||t&&!N());){var s=u.callback;if("function"==typeof s){u.callback=null,h=u.priorityLevel;var o=s(u.expirationTime<=i);i=e.unstable_now(),"function"==typeof o?u.callback=o:u===r(l)&&n(l),y(i)}else n(l);u=r(l)}if(null!==u)var d=!0;else{var _=r(c);null!==_&&R(b,_.startTime-i),d=!1}return d}finally{u=null,h=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,A=-1,M=5,C=-1;function N(){return!(e.unstable_now()-C<M)}function E(){if(null!==S){var t=e.unstable_now();C=t;var r=!0;try{r=S(!0,t)}finally{r?w():(k=!1,S=null)}}else k=!1}if("function"==typeof g)w=function(){g(E)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,G=j.port2;j.port1.onmessage=E,w=function(){G.postMessage(null)}}else w=function(){_(E,0)};function P(e){S=e,k||(k=!0,w())}function R(t,r){A=_(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){f||p||(f=!0,P(x))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},e.unstable_scheduleCallback=function(n,i,a){var s=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?s+a:s,n){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return n={id:d++,callback:i,priorityLevel:n,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(n.sortIndex=a,t(c,n),null===r(l)&&n===r(c)&&(m?(v(A),A=-1):m=!0,R(b,a-s))):(n.sortIndex=o,t(l,n),f||p||(f=!0,P(x))),n},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}}(Rd)),Rd)),Pd.exports}
/**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */function Ld(){if(Md)return Gd;Md=1;var e=yd(),t=Td();function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(e,t){s(e,t),s(e+"Capture",t)}function s(e,t){for(i[e]=t,e=0;e<t.length;e++)n.add(t[e])}var o=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},u={};function h(e,t,r,n,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function _(e,t,r,n){var i=p.hasOwnProperty(t)?p[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!l.call(u,e)||!l.call(d,e)&&(c.test(e)?u[e]=!0:(d[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,m);p[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,m);p[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,m);p[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),G=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=G&&e[G]||e["@@iterator"])?e:null}var R,T=Object.assign;function L(e){if(void 0===R)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var D=!1;function I(e,t){if(!e||D)return"";D=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"==typeof c.stack){for(var i=c.stack.split("\n"),a=n.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{D=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L(e):""}function F(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function O(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case b:return"Fragment";case y:return"Portal";case w:return"Profiler";case x:return"StrictMode";case M:return"Suspense";case C:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return O(e(t))}catch(r){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function B(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function H(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function U(e,t){var r=t.checked;return T({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function K(e,t){X(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Q(e,t.type,r):t.hasOwnProperty("defaultValue")&&Q(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Y(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Q(e,t,r){"number"===t&&H(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var J=Array.isArray;function Z(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ee(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return T({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function te(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(J(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function re(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,oe,le=(oe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return oe(e,t)})}:oe);function ce(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ue=["Webkit","ms","Moz","O"];function he(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function pe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=he(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(de).forEach(function(e){ue.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var fe=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(r(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ge(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ye=null,be=null,xe=null;function we(e){if(e=_i(e)){if("function"!=typeof ye)throw Error(r(280));var t=e.stateNode;t&&(t=gi(t),ye(e.stateNode,e.type,t))}}function ke(e){be?xe?xe.push(e):xe=[e]:be=e}function Se(){if(be){var e=be,t=xe;if(xe=be=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Ae(e,t){return e(t)}function Me(){}var Ce=!1;function Ne(e,t,r){if(Ce)return e(t,r);Ce=!0;try{return Ae(e,t,r)}finally{Ce=!1,(null!==be||null!==xe)&&(Me(),Se())}}function Ee(e,t){var n=e.stateNode;if(null===n)return null;var i=gi(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var je=!1;if(o)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){je=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(oe){je=!1}function Pe(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Re=!1,Te=null,Le=!1,De=null,Ie={onError:function(e){Re=!0,Te=e}};function Fe(e,t,r,n,i,a,s,o,l){Re=!1,Te=null,Pe.apply(Ie,arguments)}function Oe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Oe(e)!==e)throw Error(r(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Oe(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(i=a.return)){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return We(a),e;if(s===i)return We(a),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?Be(e):null}function Be(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Be(e);if(null!==t)return t;e=e.sibling}return null}var Ve=t.unstable_scheduleCallback,He=t.unstable_cancelCallback,Ue=t.unstable_shouldYield,qe=t.unstable_requestPaint,Xe=t.unstable_now,Ke=t.unstable_getCurrentPriorityLevel,Ye=t.unstable_ImmediatePriority,Qe=t.unstable_UserBlockingPriority,Je=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,et=t.unstable_IdlePriority,tt=null,rt=null;var nt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/at|0)|0},it=Math.log,at=Math.LN2;var st=64,ot=4194304;function lt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ct(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&r;if(0!==s){var o=s&~i;0!==o?n=lt(o):0!==(a&=s)&&(n=lt(a))}else 0!==(s=r&~i)?n=lt(s):0!==a&&(n=lt(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(a=t&-t)||16===i&&4194240&a))return t;if(4&n&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-nt(t)),n|=e[r],t&=~i;return n}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=st;return!(4194240&(st<<=1))&&(st=64),e}function pt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-nt(t)]=r}function mt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-nt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var _t=0;function vt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var gt,yt,bt,xt,wt,kt=!1,St=[],At=null,Mt=null,Ct=null,Nt=new Map,Et=new Map,jt=[],Gt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Rt(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&yt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Tt(e){var t=mi(e.target);if(null!==t){var r=Oe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=ze(r)))return e.blockedOn=t,void wt(e.priority,function(){bt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ut(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=_i(r))&&yt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Dt(e,t,r){Lt(e)&&r.delete(t)}function It(){kt=!1,null!==At&&Lt(At)&&(At=null),null!==Mt&&Lt(Mt)&&(Mt=null),null!==Ct&&Lt(Ct)&&(Ct=null),Nt.forEach(Dt),Et.forEach(Dt)}function Ft(e,r){e.blockedOn===r&&(e.blockedOn=null,kt||(kt=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,It)))}function Ot(e){function t(t){return Ft(t,e)}if(0<St.length){Ft(St[0],e);for(var r=1;r<St.length;r++){var n=St[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&Ft(At,e),null!==Mt&&Ft(Mt,e),null!==Ct&&Ft(Ct,e),Nt.forEach(t),Et.forEach(t),r=0;r<jt.length;r++)(n=jt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<jt.length&&null===(r=jt[0]).blockedOn;)Tt(r),null===r.blockedOn&&jt.shift()}var zt=v.ReactCurrentBatchConfig,Wt=!0;function $t(e,t,r,n){var i=_t,a=zt.transition;zt.transition=null;try{_t=1,Vt(e,t,r,n)}finally{_t=i,zt.transition=a}}function Bt(e,t,r,n){var i=_t,a=zt.transition;zt.transition=null;try{_t=4,Vt(e,t,r,n)}finally{_t=i,zt.transition=a}}function Vt(e,t,r,n){if(Wt){var i=Ut(e,t,r,n);if(null===i)Wn(e,t,n,Ht,r),Pt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return At=Rt(At,e,t,r,n,i),!0;case"dragenter":return Mt=Rt(Mt,e,t,r,n,i),!0;case"mouseover":return Ct=Rt(Ct,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Rt(Nt.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Et.set(a,Rt(Et.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Pt(e,n),4&t&&-1<Gt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&gt(a),null===(a=Ut(e,t,r,n))&&Wn(e,t,n,Ht,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else Wn(e,t,n,null,r)}}var Ht=null;function Ut(e,t,r,n){if(Ht=null,null!==(e=mi(e=ge(n))))if(null===(t=Oe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ht=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Ye:return 1;case Qe:return 4;case Je:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Xt=null,Kt=null,Yt=null;function Qt(){if(Yt)return Yt;var e,t,r=Kt,n=r.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===i[a-t];t++);return Yt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function er(){return!1}function tr(e){function t(t,r,n,i,a){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:er,this.isPropagationStopped=er,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var rr,nr,ir,ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=tr(ar),or=T({},ar,{view:0,detail:0}),lr=tr(or),cr=T({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(rr=e.screenX-ir.screenX,nr=e.screenY-ir.screenY):nr=rr=0,ir=e),rr)},movementY:function(e){return"movementY"in e?e.movementY:nr}}),dr=tr(cr),ur=tr(T({},cr,{dataTransfer:0})),hr=tr(T({},or,{relatedTarget:0})),pr=tr(T({},ar,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=T({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mr=tr(fr),_r=tr(T({},ar,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function br(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yr[e])&&!!t[e]}function xr(){return br}var wr=T({},or,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kr=tr(wr),Sr=tr(T({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ar=tr(T({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr})),Mr=tr(T({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cr=T({},cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nr=tr(Cr),Er=[9,13,27,32],jr=o&&"CompositionEvent"in window,Gr=null;o&&"documentMode"in document&&(Gr=document.documentMode);var Pr=o&&"TextEvent"in window&&!Gr,Rr=o&&(!jr||Gr&&8<Gr&&11>=Gr),Tr=String.fromCharCode(32),Lr=!1;function Dr(e,t){switch(e){case"keyup":return-1!==Er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ir(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Fr=!1;var Or={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Or[e.type]:"textarea"===t}function Wr(e,t,r,n){ke(n),0<(t=Bn(t,"onChange")).length&&(r=new sr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $r=null,Br=null;function Vr(e){Ln(e,0)}function Hr(e){if(V(vi(e)))return e}function Ur(e,t){if("change"===e)return t}var qr=!1;if(o){var Xr;if(o){var Kr="oninput"in document;if(!Kr){var Yr=document.createElement("div");Yr.setAttribute("oninput","return;"),Kr="function"==typeof Yr.oninput}Xr=Kr}else Xr=!1;qr=Xr&&(!document.documentMode||9<document.documentMode)}function Qr(){$r&&($r.detachEvent("onpropertychange",Jr),Br=$r=null)}function Jr(e){if("value"===e.propertyName&&Hr(Br)){var t=[];Wr(t,Br,e,ge(e)),Ne(Vr,t)}}function Zr(e,t,r){"focusin"===e?(Qr(),Br=r,($r=t).attachEvent("onpropertychange",Jr)):"focusout"===e&&Qr()}function en(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hr(Br)}function tn(e,t){if("click"===e)return Hr(t)}function rn(e,t){if("input"===e||"change"===e)return Hr(t)}var nn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function an(e,t){if(nn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!l.call(t,i)||!nn(e[i],t[i]))return!1}return!0}function sn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function on(e,t){var r,n=sn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sn(n)}}function ln(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ln(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function cn(){for(var e=window,t=H();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=H((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function un(e){var t=cn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ln(r.ownerDocument.documentElement,r)){if(null!==n&&dn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=void 0===n.end?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=on(r,a);var s=on(r,n);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hn=o&&"documentMode"in document&&11>=document.documentMode,pn=null,fn=null,mn=null,_n=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;_n||null==pn||pn!==H(n)||("selectionStart"in(n=pn)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},mn&&an(mn,n)||(mn=n,0<(n=Bn(fn,"onSelect")).length&&(t=new sr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pn)))}function gn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yn={animationend:gn("Animation","AnimationEnd"),animationiteration:gn("Animation","AnimationIteration"),animationstart:gn("Animation","AnimationStart"),transitionend:gn("Transition","TransitionEnd")},bn={},xn={};function wn(e){if(bn[e])return bn[e];if(!yn[e])return e;var t,r=yn[e];for(t in r)if(r.hasOwnProperty(t)&&t in xn)return bn[e]=r[t];return e}o&&(xn=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);var kn=wn("animationend"),Sn=wn("animationiteration"),An=wn("animationstart"),Mn=wn("transitionend"),Cn=new Map,Nn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Cn.set(e,t),a(t,[e])}for(var jn=0;jn<Nn.length;jn++){var Gn=Nn[jn];En(Gn.toLowerCase(),"on"+(Gn[0].toUpperCase()+Gn.slice(1)))}En(kn,"onAnimationEnd"),En(Sn,"onAnimationIteration"),En(An,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Mn,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pn));function Tn(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,s,o,l,c){if(Fe.apply(this,arguments),Re){if(!Re)throw Error(r(198));var d=Te;Re=!1,Te=null,Le||(Le=!0,De=d)}}(i,t,void 0,e),e.currentTarget=null}function Ln(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Tn(i,o,c),a=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Tn(i,o,c),a=l}}}if(Le)throw e=De,Le=!1,De=null,e}function Dn(e,t){var r=t[hi];void 0===r&&(r=t[hi]=new Set);var n=e+"__bubble";r.has(n)||(zn(t,e,2,!1),r.add(n))}function In(e,t,r){var n=0;t&&(n|=4),zn(r,e,n,t)}var Fn="_reactListening"+Math.random().toString(36).slice(2);function On(e){if(!e[Fn]){e[Fn]=!0,n.forEach(function(t){"selectionchange"!==t&&(Rn.has(t)||In(t,!1,e),In(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fn]||(t[Fn]=!0,In("selectionchange",!1,t))}}function zn(e,t,r,n){switch(qt(t)){case 1:var i=$t;break;case 4:i=Bt;break;default:i=Vt}r=i.bind(null,t,r,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Wn(e,t,r,n,i){var a=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=mi(o)))return;if(5===(l=s.tag)||6===l){n=a=s;continue e}o=o.parentNode}}n=n.return}Ne(function(){var n=a,i=ge(r),s=[];e:{var o=Cn.get(e);if(void 0!==o){var l=sr,c=e;switch(e){case"keypress":if(0===Jt(r))break e;case"keydown":case"keyup":l=kr;break;case"focusin":c="focus",l=hr;break;case"focusout":c="blur",l=hr;break;case"beforeblur":case"afterblur":l=hr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ur;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ar;break;case kn:case Sn:case An:l=pr;break;case Mn:l=Mr;break;case"scroll":l=lr;break;case"wheel":l=Nr;break;case"copy":case"cut":case"paste":l=mr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sr}var d=!!(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,f=n;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Ee(f,h))&&d.push($n(f,m,p)))),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,r,i),s.push({event:o,listeners:d}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!mi(c)&&!c[ui])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?mi(c):null)&&(c!==(u=Oe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=dr,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Sr,m="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:vi(l),p=null==c?o:vi(c),(o=new d(m,f+"leave",l,r,i)).target=u,o.relatedTarget=p,m=null,mi(i)===n&&((d=new d(h,f+"enter",c,r,i)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,f=0,p=d=l;p;p=Vn(p))f++;for(p=0,m=h;m;m=Vn(m))p++;for(;0<f-p;)d=Vn(d),f--;for(;0<p-f;)h=Vn(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=Vn(d),h=Vn(h)}d=null}else d=null;null!==l&&Hn(s,o,l,d,!1),null!==c&&null!==u&&Hn(s,u,c,d,!0)}if("select"===(l=(o=n?vi(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var _=Ur;else if(zr(o))if(qr)_=rn;else{_=en;var v=Zr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(_=tn);switch(_&&(_=_(e,n))?Wr(s,_,r,i):(v&&v(e,o,n),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&Q(o,"number",o.value)),v=n?vi(n):window,e){case"focusin":(zr(v)||"true"===v.contentEditable)&&(pn=v,fn=n,mn=null);break;case"focusout":mn=fn=pn=null;break;case"mousedown":_n=!0;break;case"contextmenu":case"mouseup":case"dragend":_n=!1,vn(s,r,i);break;case"selectionchange":if(hn)break;case"keydown":case"keyup":vn(s,r,i)}var g;if(jr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Fr?Dr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Rr&&"ko"!==r.locale&&(Fr||"onCompositionStart"!==y?"onCompositionEnd"===y&&Fr&&(g=Qt()):(Kt="value"in(Xt=i)?Xt.value:Xt.textContent,Fr=!0)),0<(v=Bn(n,y)).length&&(y=new _r(y,e,null,r,i),s.push({event:y,listeners:v}),g?y.data=g:null!==(g=Ir(r))&&(y.data=g))),(g=Pr?function(e,t){switch(e){case"compositionend":return Ir(t);case"keypress":return 32!==t.which?null:(Lr=!0,Tr);case"textInput":return(e=t.data)===Tr&&Lr?null:e;default:return null}}(e,r):function(e,t){if(Fr)return"compositionend"===e||!jr&&Dr(e,t)?(e=Qt(),Yt=Kt=Xt=null,Fr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Bn(n,"onBeforeInput")).length&&(i=new _r("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=g))}Ln(s,t)})}function $n(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ee(e,r))&&n.unshift($n(e,a,i)),null!=(a=Ee(e,t))&&n.push($n(e,a,i))),e=e.return}return n}function Vn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hn(e,t,r,n,i){for(var a=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Ee(r,a))&&s.unshift($n(r,l,o)):i||null!=(l=Ee(r,a))&&s.push($n(r,l,o))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Un=/\r\n?/g,qn=/\u0000|\uFFFD/g;function Xn(e){return("string"==typeof e?e:""+e).replace(Un,"\n").replace(qn,"")}function Kn(e,t,n){if(t=Xn(t),Xn(e)!==t&&n)throw Error(r(425))}function Yn(){}var Qn=null,Jn=null;function Zn(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"==typeof setTimeout?setTimeout:void 0,ti="function"==typeof clearTimeout?clearTimeout:void 0,ri="function"==typeof Promise?Promise:void 0,ni="function"==typeof queueMicrotask?queueMicrotask:void 0!==ri?function(e){return ri.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout(function(){throw e})}function ai(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void Ot(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);Ot(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var li=Math.random().toString(36).slice(2),ci="__reactFiber$"+li,di="__reactProps$"+li,ui="__reactContainer$"+li,hi="__reactEvents$"+li,pi="__reactListeners$"+li,fi="__reactHandles$"+li;function mi(e){var t=e[ci];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ui]||r[ci]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=oi(e);null!==e;){if(r=e[ci])return r;e=oi(e)}return t}r=(e=r).parentNode}return null}function _i(e){return!(e=e[ci]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function gi(e){return e[di]||null}var yi=[],bi=-1;function xi(e){return{current:e}}function wi(e){0>bi||(e.current=yi[bi],yi[bi]=null,bi--)}function ki(e,t){bi++,yi[bi]=e.current,e.current=t}var Si={},Ai=xi(Si),Mi=xi(!1),Ci=Si;function Ni(e,t){var r=e.type.contextTypes;if(!r)return Si;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ei(e){return null!=(e=e.childContextTypes)}function ji(){wi(Mi),wi(Ai)}function Gi(e,t,n){if(Ai.current!==Si)throw Error(r(168));ki(Ai,t),ki(Mi,n)}function Pi(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(r(108,z(e)||"Unknown",a));return T({},n,i)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ci=Ai.current,ki(Ai,e),ki(Mi,Mi.current),!0}function Ti(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Pi(e,t,Ci),i.__reactInternalMemoizedMergedChildContext=e,wi(Mi),wi(Ai),ki(Ai,e)):wi(Mi),ki(Mi,n)}var Li=null,Di=!1,Ii=!1;function Fi(e){null===Li?Li=[e]:Li.push(e)}function Oi(){if(!Ii&&null!==Li){Ii=!0;var e=0,t=_t;try{var r=Li;for(_t=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Li=null,Di=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ve(Ye,Oi),i}finally{_t=t,Ii=!1}}return null}var zi=[],Wi=0,$i=null,Bi=0,Vi=[],Hi=0,Ui=null,qi=1,Xi="";function Ki(e,t){zi[Wi++]=Bi,zi[Wi++]=$i,$i=e,Bi=t}function Yi(e,t,r){Vi[Hi++]=qi,Vi[Hi++]=Xi,Vi[Hi++]=Ui,Ui=e;var n=qi;e=Xi;var i=32-nt(n)-1;n&=~(1<<i),r+=1;var a=32-nt(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,qi=1<<32-nt(t)+i|r<<i|n,Xi=a+e}else qi=1<<a|r<<i|n,Xi=e}function Qi(e){null!==e.return&&(Ki(e,1),Yi(e,1,0))}function Ji(e){for(;e===$i;)$i=zi[--Wi],zi[Wi]=null,Bi=zi[--Wi],zi[Wi]=null;for(;e===Ui;)Ui=Vi[--Hi],Vi[Hi]=null,Xi=Vi[--Hi],Vi[Hi]=null,qi=Vi[--Hi],Vi[Hi]=null}var Zi=null,ea=null,ta=!1,ra=null;function na(e,t){var r=Nc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ia(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Zi=e,ea=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Zi=e,ea=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ui?{id:qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Nc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,Zi=e,ea=null,!0);default:return!1}}function aa(e){return!(!(1&e.mode)||128&e.flags)}function sa(e){if(ta){var t=ea;if(t){var n=t;if(!ia(e,t)){if(aa(e))throw Error(r(418));t=si(n.nextSibling);var i=Zi;t&&ia(e,t)?na(i,n):(e.flags=-4097&e.flags|2,ta=!1,Zi=e)}}else{if(aa(e))throw Error(r(418));e.flags=-4097&e.flags|2,ta=!1,Zi=e}}}function oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zi=e}function la(e){if(e!==Zi)return!1;if(!ta)return oa(e),ta=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zn(e.type,e.memoizedProps)),t&&(t=ea)){if(aa(e))throw ca(),Error(r(418));for(;t;)na(e,t),t=si(t.nextSibling)}if(oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ea=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ea=null}}else ea=Zi?si(e.stateNode.nextSibling):null;return!0}function ca(){for(var e=ea;e;)e=si(e.nextSibling)}function da(){ea=Zi=null,ta=!1}function ua(e){null===ra?ra=[e]:ra.push(e)}var ha=v.ReactCurrentBatchConfig;function pa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var a=i,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=a.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function fa(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ma(e){return(0,e._init)(e._payload)}function _a(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function n(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Tc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var i=r.type;return i===b?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===E&&ma(i)===t.type)?((n=a(t,r.props)).ref=pa(e,t,r),n.return=e,n):((n=Gc(r.type,r.key,r.props,null,e.mode,n)).ref=pa(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Lc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,i){return null===t||7!==t.tag?((t=Pc(r,e.mode,n,i)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Tc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case g:return(r=Gc(t.type,t.key,t.props,null,e.mode,r)).ref=pa(e,null,t),r.return=e,r;case y:return(t=Lc(t,e.mode,r)).return=e,t;case E:return h(e,(0,t._init)(t._payload),r)}if(J(t)||P(t))return(t=Pc(t,e.mode,r,null)).return=e,t;fa(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case g:return r.key===i?c(e,t,r,n):null;case y:return r.key===i?d(e,t,r,n):null;case E:return p(e,t,(i=r._init)(r._payload),n)}if(J(r)||P(r))return null!==i?null:u(e,t,r,n,null);fa(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n&&""!==n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case g:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case y:return d(t,e=e.get(null===n.key?r:n.key)||null,n,i);case E:return f(e,t,r,(0,n._init)(n._payload),i)}if(J(n)||P(n))return u(t,e=e.get(r)||null,n,i,null);fa(t,n)}return null}return function l(c,d,u,m){if("object"==typeof u&&null!==u&&u.type===b&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case g:e:{for(var _=u.key,v=d;null!==v;){if(v.key===_){if((_=u.type)===b){if(7===v.tag){n(c,v.sibling),(d=a(v,u.props.children)).return=c,c=d;break e}}else if(v.elementType===_||"object"==typeof _&&null!==_&&_.$$typeof===E&&ma(_)===v.type){n(c,v.sibling),(d=a(v,u.props)).ref=pa(c,v,u),d.return=c,c=d;break e}n(c,v);break}t(c,v),v=v.sibling}u.type===b?((d=Pc(u.props.children,c.mode,m,u.key)).return=c,c=d):((m=Gc(u.type,u.key,u.props,null,c.mode,m)).ref=pa(c,d,u),m.return=c,c=m)}return o(c);case y:e:{for(v=u.key;null!==d;){if(d.key===v){if(4===d.tag&&d.stateNode.containerInfo===u.containerInfo&&d.stateNode.implementation===u.implementation){n(c,d.sibling),(d=a(d,u.children||[])).return=c,c=d;break e}n(c,d);break}t(c,d),d=d.sibling}(d=Lc(u,c.mode,m)).return=c,c=d}return o(c);case E:return l(c,d,(v=u._init)(u._payload),m)}if(J(u))return function(r,a,o,l){for(var c=null,d=null,u=a,m=a=0,_=null;null!==u&&m<o.length;m++){u.index>m?(_=u,u=null):_=u.sibling;var v=p(r,u,o[m],l);if(null===v){null===u&&(u=_);break}e&&u&&null===v.alternate&&t(r,u),a=s(v,a,m),null===d?c=v:d.sibling=v,d=v,u=_}if(m===o.length)return n(r,u),ta&&Ki(r,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(r,o[m],l))&&(a=s(u,a,m),null===d?c=u:d.sibling=u,d=u);return ta&&Ki(r,m),c}for(u=i(r,u);m<o.length;m++)null!==(_=f(u,r,m,o[m],l))&&(e&&null!==_.alternate&&u.delete(null===_.key?m:_.key),a=s(_,a,m),null===d?c=_:d.sibling=_,d=_);return e&&u.forEach(function(e){return t(r,e)}),ta&&Ki(r,m),c}(c,d,u,m);if(P(u))return function(a,o,l,c){var d=P(l);if("function"!=typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,m=o,_=o=0,v=null,g=l.next();null!==m&&!g.done;_++,g=l.next()){m.index>_?(v=m,m=null):v=m.sibling;var y=p(a,m,g.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(a,m),o=s(y,o,_),null===u?d=y:u.sibling=y,u=y,m=v}if(g.done)return n(a,m),ta&&Ki(a,_),d;if(null===m){for(;!g.done;_++,g=l.next())null!==(g=h(a,g.value,c))&&(o=s(g,o,_),null===u?d=g:u.sibling=g,u=g);return ta&&Ki(a,_),d}for(m=i(a,m);!g.done;_++,g=l.next())null!==(g=f(m,a,_,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?_:g.key),o=s(g,o,_),null===u?d=g:u.sibling=g,u=g);return e&&m.forEach(function(e){return t(a,e)}),ta&&Ki(a,_),d}(c,d,u,m);fa(c,u)}return"string"==typeof u&&""!==u||"number"==typeof u?(u=""+u,null!==d&&6===d.tag?(n(c,d.sibling),(d=a(d,u)).return=c,c=d):(n(c,d),(d=Tc(u,c.mode,m)).return=c,c=d),o(c)):n(c,d)}}var va=_a(!0),ga=_a(!1),ya=xi(null),ba=null,xa=null,wa=null;function ka(){wa=xa=ba=null}function Sa(e){var t=ya.current;wi(ya),e._currentValue=t}function Aa(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ma(e,t){ba=e,wa=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===ba)throw Error(r(308));xa=e,ba.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var Na=null;function Ea(e){null===Na?Na=[e]:Na.push(e)}function ja(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Ea(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ga(e,n)}function Ga(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Pa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ta(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&Al){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ga(e,r)}return null===(i=n.interleaved)?(t.next=t,Ea(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ga(e,r)}function Ia(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,mt(e,r)}}function Fa(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?i=a=s:a=a.next=s,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Oa(e,t,r,n){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=i.baseState;for(s=0,d=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=r,m.tag){case 1:if("function"==typeof(f=m.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=m.payload)?f.call(p,u,h):f))break e;u=T({},u,h);break e;case 2:Pa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rl|=s,e.lanes=s,e.memoizedState=u}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!=typeof a)throw Error(r(191,a));a.call(i)}}}var Wa={},$a=xi(Wa),Ba=xi(Wa),Va=xi(Wa);function Ha(e){if(e===Wa)throw Error(r(174));return e}function Ua(e,t){switch(ki(Va,t),ki(Ba,e),ki($a,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi($a),ki($a,t)}function qa(){wi($a),wi(Ba),wi(Va)}function Xa(e){Ha(Va.current);var t=Ha($a.current),r=ae(t,e.type);t!==r&&(ki(Ba,e),ki($a,r))}function Ka(e){Ba.current===e&&(wi($a),wi(Ba))}var Ya=xi(0);function Qa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=[];function Za(){for(var e=0;e<Ja.length;e++)Ja[e]._workInProgressVersionPrimary=null;Ja.length=0}var es=v.ReactCurrentDispatcher,ts=v.ReactCurrentBatchConfig,rs=0,ns=null,is=null,as=null,ss=!1,os=!1,ls=0,cs=0;function ds(){throw Error(r(321))}function us(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nn(e[r],t[r]))return!1;return!0}function hs(e,t,n,i,a,s){if(rs=s,ns=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,es.current=null===e||null===e.memoizedState?Ks:Ys,e=n(i,a),os){s=0;do{if(os=!1,ls=0,25<=s)throw Error(r(301));s+=1,as=is=null,t.updateQueue=null,es.current=Qs,e=n(i,a)}while(os)}if(es.current=Xs,t=null!==is&&null!==is.next,rs=0,as=is=ns=null,ss=!1,t)throw Error(r(300));return e}function ps(){var e=0!==ls;return ls=0,e}function fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===as?ns.memoizedState=as=e:as=as.next=e,as}function ms(){if(null===is){var e=ns.alternate;e=null!==e?e.memoizedState:null}else e=is.next;var t=null===as?ns.memoizedState:as.next;if(null!==t)as=t,is=e;else{if(null===e)throw Error(r(310));e={memoizedState:(is=e).memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},null===as?ns.memoizedState=as=e:as=as.next=e}return as}function _s(e,t){return"function"==typeof t?t(e):t}function vs(e){var t=ms(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=is,a=i.baseQueue,s=n.pending;if(null!==s){if(null!==a){var o=a.next;a.next=s.next,s.next=o}i.baseQueue=a=s,n.pending=null}if(null!==a){s=a.next,i=i.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((rs&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,ns.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==s);null===c?o=i:c.next=l,nn(i,t.memoizedState)||(_o=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{s=a.lane,ns.lanes|=s,Rl|=s,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gs(e){var t=ms(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,s=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{s=e(s,o.action),o=o.next}while(o!==a);nn(s,t.memoizedState)||(_o=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function ys(){}function bs(e,t){var n=ns,i=ms(),a=t(),s=!nn(i.memoizedState,a);if(s&&(i.memoizedState=a,_o=!0),i=i.queue,Ps(ks.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==as&&1&as.memoizedState.tag){if(n.flags|=2048,Cs(9,ws.bind(null,n,i,a,t),void 0,null),null===Ml)throw Error(r(349));30&rs||xs(n,t,a)}return a}function xs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ns.updateQueue)?(t={lastEffect:null,stores:null},ns.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function ws(e,t,r,n){t.value=r,t.getSnapshot=n,Ss(t)&&As(e)}function ks(e,t,r){return r(function(){Ss(t)&&As(e)})}function Ss(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nn(e,r)}catch(n){return!0}}function As(e){var t=Ga(e,1);null!==t&&Zl(t,e,1,-1)}function Ms(e){var t=fs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Vs.bind(null,ns,e),[t.memoizedState,e]}function Cs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ns.updateQueue)?(t={lastEffect:null,stores:null},ns.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ns(){return ms().memoizedState}function Es(e,t,r,n){var i=fs();ns.flags|=e,i.memoizedState=Cs(1|t,r,void 0,void 0===n?null:n)}function js(e,t,r,n){var i=ms();n=void 0===n?null:n;var a=void 0;if(null!==is){var s=is.memoizedState;if(a=s.destroy,null!==n&&us(n,s.deps))return void(i.memoizedState=Cs(t,r,a,n))}ns.flags|=e,i.memoizedState=Cs(1|t,r,a,n)}function Gs(e,t){return Es(8390656,8,e,t)}function Ps(e,t){return js(2048,8,e,t)}function Rs(e,t){return js(4,2,e,t)}function Ts(e,t){return js(4,4,e,t)}function Ls(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ds(e,t,r){return r=null!=r?r.concat([e]):null,js(4,4,Ls.bind(null,t,e),r)}function Is(){}function Fs(e,t){var r=ms();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&us(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Os(e,t){var r=ms();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&us(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zs(e,t,r){return 21&rs?(nn(r,t)||(r=ht(),ns.lanes|=r,Rl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=r)}function Ws(e,t){var r=_t;_t=0!==r&&4>r?r:4,e(!0);var n=ts.transition;ts.transition={};try{e(!1),t()}finally{_t=r,ts.transition=n}}function $s(){return ms().memoizedState}function Bs(e,t,r){var n=Jl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Hs(e))Us(t,r);else if(null!==(r=ja(e,t,r,n))){Zl(r,e,n,Ql()),qs(r,t,n)}}function Vs(e,t,r){var n=Jl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hs(e))Us(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,nn(o,s)){var l=t.interleaved;return null===l?(i.next=i,Ea(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(r=ja(e,t,i,n))&&(Zl(r,e,n,i=Ql()),qs(r,t,n))}}function Hs(e){var t=e.alternate;return e===ns||null!==t&&t===ns}function Us(e,t){os=ss=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qs(e,t,r){if(4194240&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,mt(e,r)}}var Xs={readContext:Ca,useCallback:ds,useContext:ds,useEffect:ds,useImperativeHandle:ds,useInsertionEffect:ds,useLayoutEffect:ds,useMemo:ds,useReducer:ds,useRef:ds,useState:ds,useDebugValue:ds,useDeferredValue:ds,useTransition:ds,useMutableSource:ds,useSyncExternalStore:ds,useId:ds,unstable_isNewReconciler:!1},Ks={readContext:Ca,useCallback:function(e,t){return fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Gs,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,Es(4194308,4,Ls.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var r=fs();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=fs();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Bs.bind(null,ns,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},fs().memoizedState=e},useState:Ms,useDebugValue:Is,useDeferredValue:function(e){return fs().memoizedState=e},useTransition:function(){var e=Ms(!1),t=e[0];return e=Ws.bind(null,e[1]),fs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ns,a=fs();if(ta){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===Ml)throw Error(r(349));30&rs||xs(i,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,Gs(ks.bind(null,i,s,e),[e]),i.flags|=2048,Cs(9,ws.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=fs(),t=Ml.identifierPrefix;if(ta){var r=Xi;t=":"+t+"R"+(r=(qi&~(1<<32-nt(qi)-1)).toString(32)+r),0<(r=ls++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=cs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ys={readContext:Ca,useCallback:Fs,useContext:Ca,useEffect:Ps,useImperativeHandle:Ds,useInsertionEffect:Rs,useLayoutEffect:Ts,useMemo:Os,useReducer:vs,useRef:Ns,useState:function(){return vs(_s)},useDebugValue:Is,useDeferredValue:function(e){return zs(ms(),is.memoizedState,e)},useTransition:function(){return[vs(_s)[0],ms().memoizedState]},useMutableSource:ys,useSyncExternalStore:bs,useId:$s,unstable_isNewReconciler:!1},Qs={readContext:Ca,useCallback:Fs,useContext:Ca,useEffect:Ps,useImperativeHandle:Ds,useInsertionEffect:Rs,useLayoutEffect:Ts,useMemo:Os,useReducer:gs,useRef:Ns,useState:function(){return gs(_s)},useDebugValue:Is,useDeferredValue:function(e){var t=ms();return null===is?t.memoizedState=e:zs(t,is.memoizedState,e)},useTransition:function(){return[gs(_s)[0],ms().memoizedState]},useMutableSource:ys,useSyncExternalStore:bs,useId:$s,unstable_isNewReconciler:!1};function Js(e,t){if(e&&e.defaultProps){for(var r in t=T({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function Zs(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:T({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var eo={isMounted:function(e){return!!(e=e._reactInternals)&&Oe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ql(),i=Jl(e),a=La(n,i);a.payload=t,null!=r&&(a.callback=r),null!==(t=Da(e,a,i))&&(Zl(t,e,i,n),Ia(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ql(),i=Jl(e),a=La(n,i);a.tag=1,a.payload=t,null!=r&&(a.callback=r),null!==(t=Da(e,a,i))&&(Zl(t,e,i,n),Ia(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ql(),n=Jl(e),i=La(r,n);i.tag=2,null!=t&&(i.callback=t),null!==(t=Da(e,i,n))&&(Zl(t,e,n,r),Ia(t,e,n))}};function to(e,t,r,n,i,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!an(r,n)||!an(i,a))}function ro(e,t,r){var n=!1,i=Si,a=t.contextType;return"object"==typeof a&&null!==a?a=Ca(a):(i=Ei(t)?Ci:Ai.current,a=(n=null!=(n=t.contextTypes))?Ni(e,i):Si),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=eo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function no(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function io(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Ra(e);var a=t.contextType;"object"==typeof a&&null!==a?i.context=Ca(a):(a=Ei(t)?Ci:Ai.current,i.context=Ni(e,a)),i.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Zs(e,t,a,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&eo.enqueueReplaceState(i,i.state,null),Oa(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ao(e,t){try{var r="",n=t;do{r+=F(n),n=n.return}while(n);var i=r}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function so(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function oo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lo="function"==typeof WeakMap?WeakMap:Map;function co(e,t,r){(r=La(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wl||(Wl=!0,$l=n),oo(0,t)},r}function uo(e,t,r){(r=La(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){oo(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(r.callback=function(){oo(0,t),"function"!=typeof n&&(null===Bl?Bl=new Set([this]):Bl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ho(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new lo;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=wc.bind(null,e,t,r),t.then(e,e))}function po(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fo(e,t,r,n,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=La(-1,1)).tag=2,Da(r,t,1))),r.lanes|=1),e)}var mo=v.ReactCurrentOwner,_o=!1;function vo(e,t,r,n){t.child=null===e?ga(t,null,r,n):va(t,e.child,r,n)}function go(e,t,r,n,i){r=r.render;var a=t.ref;return Ma(t,i),n=hs(e,t,r,n,a,i),r=ps(),null===e||_o?(ta&&r&&Qi(t),t.flags|=1,vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function yo(e,t,r,n,i){if(null===e){var a=r.type;return"function"!=typeof a||Ec(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Gc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,bo(e,t,a,n,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((r=null!==(r=r.compare)?r:an)(s,n)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=jc(a,n)).ref=t.ref,e.return=t,t.child=e}function bo(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(an(a,n)&&e.ref===t.ref){if(_o=!1,t.pendingProps=n=a,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);131072&e.flags&&(_o=!0)}}return ko(e,t,r,n,i)}function xo(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(1&t.mode){if(!(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(jl,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,ki(jl,El),El|=n}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(jl,El),El|=r;else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,ki(jl,El),El|=n;return vo(e,t,i,r),t.child}function wo(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,r,n,i){var a=Ei(r)?Ci:Ai.current;return a=Ni(t,a),Ma(t,i),r=hs(e,t,r,n,a,i),n=ps(),null===e||_o?(ta&&n&&Qi(t),t.flags|=1,vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function So(e,t,r,n,i){if(Ei(r)){var a=!0;Ri(t)}else a=!1;if(Ma(t,i),null===t.stateNode)zo(e,t),ro(t,r,n),io(t,r,n,i),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;"object"==typeof c&&null!==c?c=Ca(c):c=Ni(t,c=Ei(r)?Ci:Ai.current);var d=r.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==n||l!==c)&&no(t,s,n,c),Pa=!1;var h=t.memoizedState;s.state=h,Oa(t,n,s,i),l=t.memoizedState,o!==n||h!==l||Mi.current||Pa?("function"==typeof d&&(Zs(t,r,d,n),l=t.memoizedState),(o=Pa||to(t,r,o,n,h,l,c))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ta(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Js(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"==typeof(l=r.contextType)&&null!==l?l=Ca(l):l=Ni(t,l=Ei(r)?Ci:Ai.current);var p=r.getDerivedStateFromProps;(d="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==u||h!==l)&&no(t,s,n,l),Pa=!1,h=t.memoizedState,s.state=h,Oa(t,n,s,i);var f=t.memoizedState;o!==u||h!==f||Mi.current||Pa?("function"==typeof p&&(Zs(t,r,p,n),f=t.memoizedState),(c=Pa||to(t,r,c,n,h,f,l)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(n,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=l,n=c):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ao(e,t,r,n,a,i)}function Ao(e,t,r,n,i,a){wo(e,t);var s=!!(128&t.flags);if(!n&&!s)return i&&Ti(t,r,!1),Wo(e,t,a);n=t.stateNode,mo.current=t;var o=s&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=va(t,e.child,null,a),t.child=va(t,null,o,a)):vo(e,t,o,a),t.memoizedState=n.state,i&&Ti(t,r,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Gi(0,t.context,!1),Ua(e,t.containerInfo)}function Co(e,t,r,n,i){return da(),ua(i),t.flags|=256,vo(e,t,r,n),t.child}var No,Eo,jo,Go,Po={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function To(e,t,n){var i,a=t.pendingProps,s=Ya.current,o=!1,l=!!(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&!!(2&s)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ki(Ya,1&s),null===e)return sa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},1&a||null===o?o=Rc(l,a,0,null):(o.childLanes=0,o.pendingProps=l),e=Pc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Po,e):Lo(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,a,s,o){if(n)return 256&t.flags?(t.flags&=-257,Do(e,t,o,i=so(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,a=t.mode,i=Rc({mode:"visible",children:i.children},a,0,null),(s=Pc(s,a,o,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,1&t.mode&&va(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Po,s);if(!(1&t.mode))return Do(e,t,o,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,Do(e,t,o,i=so(s=Error(r(419)),i,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(i=Ml)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(i.suspendedLanes|o))?0:a)&&a!==s.retryLane&&(s.retryLane=a,Ga(e,a),Zl(i,e,a,-1))}return hc(),Do(e,t,o,i=so(Error(r(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ea=si(a.nextSibling),Zi=t,ta=!0,ra=null,null!==e&&(Vi[Hi++]=qi,Vi[Hi++]=Xi,Vi[Hi++]=Ui,qi=e.id,Xi=e.overflow,Ui=t),t=Lo(t,i.children),t.flags|=4096,t)}(e,t,l,a,i,s,n);if(o){o=a.fallback,l=t.mode,i=(s=e.child).sibling;var c={mode:"hidden",children:a.children};return 1&l||t.child===s?(a=jc(s,c)).subtreeFlags=14680064&s.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null),null!==i?o=jc(i,o):(o=Pc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Po,a}return e=(o=e.child).sibling,a=jc(o,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Lo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Do(e,t,r,n){return null!==n&&ua(n),va(t,e.child,null,r),(e=Lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Io(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Aa(e.return,t,r)}function Fo(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Oo(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(vo(e,t,n.children,r),2&(n=Ya.current))n=1&n|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Io(e,r,t);else if(19===e.tag)Io(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ki(Ya,n),1&t.mode)switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Qa(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Fo(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Qa(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Fo(t,!0,r,null,a);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function zo(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){if(!ta)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Bo(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vo(e,t,n){var a=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bo(t),null;case 1:case 17:return Ei(t.type)&&ji(),Bo(t),null;case 3:return a=t.stateNode,qa(),wi(Mi),wi(Ai),Za(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(la(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ra&&(nc(ra),ra=null))),Eo(e,t),Bo(t),null;case 5:Ka(t);var s=Ha(Va.current);if(n=t.type,null!==e&&null!=t.stateNode)jo(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(r(166));return Bo(t),null}if(e=Ha($a.current),la(t)){a=t.stateNode,n=t.type;var o=t.memoizedProps;switch(a[ci]=t,a[di]=o,e=!!(1&t.mode),n){case"dialog":Dn("cancel",a),Dn("close",a);break;case"iframe":case"object":case"embed":Dn("load",a);break;case"video":case"audio":for(s=0;s<Pn.length;s++)Dn(Pn[s],a);break;case"source":Dn("error",a);break;case"img":case"image":case"link":Dn("error",a),Dn("load",a);break;case"details":Dn("toggle",a);break;case"input":q(a,o),Dn("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Dn("invalid",a);break;case"textarea":te(a,o),Dn("invalid",a)}for(var l in me(n,o),s=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"==typeof c?a.textContent!==c&&(!0!==o.suppressHydrationWarning&&Kn(a.textContent,c,e),s=["children",c]):"number"==typeof c&&a.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Kn(a.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dn("scroll",a)}switch(n){case"input":B(a),Y(a,o,!0);break;case"textarea":B(a),ne(a);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(a.onclick=Yn)}a=s,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[ci]=t,e[di]=a,No(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,a),n){case"dialog":Dn("cancel",e),Dn("close",e),s=a;break;case"iframe":case"object":case"embed":Dn("load",e),s=a;break;case"video":case"audio":for(s=0;s<Pn.length;s++)Dn(Pn[s],e);s=a;break;case"source":Dn("error",e),s=a;break;case"img":case"image":case"link":Dn("error",e),Dn("load",e),s=a;break;case"details":Dn("toggle",e),s=a;break;case"input":q(e,a),s=U(e,a),Dn("invalid",e);break;case"option":default:s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=T({},a,{value:void 0}),Dn("invalid",e);break;case"textarea":te(e,a),s=ee(e,a),Dn("invalid",e)}for(o in me(n,s),c=s)if(c.hasOwnProperty(o)){var d=c[o];"style"===o?pe(e,d):"dangerouslySetInnerHTML"===o?null!=(d=d?d.__html:void 0)&&le(e,d):"children"===o?"string"==typeof d?("textarea"!==n||""!==d)&&ce(e,d):"number"==typeof d&&ce(e,""+d):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=d&&"onScroll"===o&&Dn("scroll",e):null!=d&&_(e,o,d,l))}switch(n){case"input":B(e),Y(e,a,!1);break;case"textarea":B(e),ne(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(o=a.value)?Z(e,!!a.multiple,o,!1):null!=a.defaultValue&&Z(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Yn)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Bo(t),null;case 6:if(e&&null!=t.stateNode)Go(e,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(r(166));if(n=Ha(Va.current),Ha($a.current),la(t)){if(a=t.stateNode,n=t.memoizedProps,a[ci]=t,(o=a.nodeValue!==n)&&null!==(e=Zi))switch(e.tag){case 3:Kn(a.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kn(a.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[ci]=t,t.stateNode=a}return Bo(t),null;case 13:if(wi(Ya),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ta&&null!==ea&&1&t.mode&&!(128&t.flags))ca(),da(),t.flags|=98560,o=!1;else if(o=la(t),null!==a&&null!==a.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[ci]=t}else da(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Bo(t),o=!1}else null!==ra&&(nc(ra),ra=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ya.current?0===Gl&&(Gl=3):hc())),null!==t.updateQueue&&(t.flags|=4),Bo(t),null);case 4:return qa(),Eo(e,t),null===e&&On(t.stateNode.containerInfo),Bo(t),null;case 10:return Sa(t.type._context),Bo(t),null;case 19:if(wi(Ya),null===(o=t.memoizedState))return Bo(t),null;if(a=!!(128&t.flags),null===(l=o.rendering))if(a)$o(o,!1);else{if(0!==Gl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Qa(e))){for(t.flags|=128,$o(o,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Ya,1&Ya.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Ol&&(t.flags|=128,a=!0,$o(o,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Qa(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$o(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ta)return Bo(t),null}else 2*Xe()-o.renderingStartTime>Ol&&1073741824!==n&&(t.flags|=128,a=!0,$o(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Ya.current,ki(Ya,a?1&n|2:1&n),t):(Bo(t),null);case 22:case 23:return lc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&1&t.mode?!!(1073741824&El)&&(Bo(t),6&t.subtreeFlags&&(t.flags|=8192)):Bo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Ho(e,t){switch(Ji(t),t.tag){case 1:return Ei(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qa(),wi(Mi),wi(Ai),Za(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ka(t),null;case 13:if(wi(Ya),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(Ya),null;case 4:return qa(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}No=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Eo=function(){},jo=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ha($a.current);var s,o=null;switch(r){case"input":a=U(e,a),n=U(e,n),o=[];break;case"select":a=T({},a,{value:void 0}),n=T({},n,{value:void 0}),o=[];break;case"textarea":a=ee(e,a),n=ee(e,n),o=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(e.onclick=Yn)}for(d in me(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(d,c)):"children"===d?"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Dn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}},Go=function(e,t,r,n){r!==n&&(t.flags|=4)};var Uo=!1,qo=!1,Xo="function"==typeof WeakSet?WeakSet:Set,Ko=null;function Yo(e,t){var r=e.ref;if(null!==r)if("function"==typeof r)try{r(null)}catch(n){xc(e,t,n)}else r.current=null}function Qo(e,t,r){try{r()}catch(n){xc(e,t,n)}}var Jo=!1;function Zo(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Qo(t,r,a)}i=i.next}while(i!==n)}}function el(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"==typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[di],delete t[hi],delete t[pi],delete t[fi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function al(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Yn));else if(4!==n&&null!==(e=e.child))for(al(e,t,r),e=e.sibling;null!==e;)al(e,t,r),e=e.sibling}function sl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(sl(e,t,r),e=e.sibling;null!==e;)sl(e,t,r),e=e.sibling}var ol=null,ll=!1;function cl(e,t,r){for(r=r.child;null!==r;)dl(e,t,r),r=r.sibling}function dl(e,t,r){if(rt&&"function"==typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(tt,r)}catch(o){}switch(r.tag){case 5:qo||Yo(r,t);case 6:var n=ol,i=ll;ol=null,cl(e,t,r),ll=i,null!==(ol=n)&&(ll?(e=ol,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):ol.removeChild(r.stateNode));break;case 18:null!==ol&&(ll?(e=ol,r=r.stateNode,8===e.nodeType?ai(e.parentNode,r):1===e.nodeType&&ai(e,r),Ot(e)):ai(ol,r.stateNode));break;case 4:n=ol,i=ll,ol=r.stateNode.containerInfo,ll=!0,cl(e,t,r),ol=n,ll=i;break;case 0:case 11:case 14:case 15:if(!qo&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(2&a||4&a)&&Qo(r,t,s),i=i.next}while(i!==n)}cl(e,t,r);break;case 1:if(!qo&&(Yo(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xc(r,t,o)}cl(e,t,r);break;case 21:cl(e,t,r);break;case 22:1&r.mode?(qo=(n=qo)||null!==r.memoizedState,cl(e,t,r),qo=n):cl(e,t,r);break;default:cl(e,t,r)}}function ul(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xo),t.forEach(function(t){var n=Ac.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function hl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ol=l.stateNode,ll=!1;break e;case 3:case 4:ol=l.stateNode.containerInfo,ll=!0;break e}l=l.return}if(null===ol)throw Error(r(160));dl(s,o,a),ol=null,ll=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){xc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hl(t,e),fl(e),4&i){try{Zo(3,e,e.return),el(3,e)}catch(v){xc(e,e.return,v)}try{Zo(5,e,e.return)}catch(v){xc(e,e.return,v)}}break;case 1:hl(t,e),fl(e),512&i&&null!==n&&Yo(n,n.return);break;case 5:if(hl(t,e),fl(e),512&i&&null!==n&&Yo(n,n.return),32&e.flags){var a=e.stateNode;try{ce(a,"")}catch(v){xc(e,e.return,v)}}if(4&i&&null!=(a=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(a,s),_e(l,o);var d=_e(l,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?pe(a,h):"dangerouslySetInnerHTML"===u?le(a,h):"children"===u?ce(a,h):_(a,u,h,d)}switch(l){case"input":K(a,s);break;case"textarea":re(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?Z(a,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?Z(a,!!s.multiple,s.defaultValue,!0):Z(a,!!s.multiple,s.multiple?[]:"",!1))}a[di]=s}catch(v){xc(e,e.return,v)}}break;case 6:if(hl(t,e),fl(e),4&i){if(null===e.stateNode)throw Error(r(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){xc(e,e.return,v)}}break;case 3:if(hl(t,e),fl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ot(t.containerInfo)}catch(v){xc(e,e.return,v)}break;case 4:default:hl(t,e),fl(e);break;case 13:hl(t,e),fl(e),8192&(a=e.child).flags&&(s=null!==a.memoizedState,a.stateNode.isHidden=s,!s||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=Xe())),4&i&&ul(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(qo=(d=qo)||u,hl(t,e),qo=d):hl(t,e),fl(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&1&e.mode)for(Ko=e,u=e.child;null!==u;){for(h=Ko=u;null!==Ko;){switch(f=(p=Ko).child,p.tag){case 0:case 11:case 14:case 15:Zo(4,p,p.return);break;case 1:Yo(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){xc(i,n,v)}}break;case 5:Yo(p,p.return);break;case 22:if(null!==p.memoizedState){gl(h);continue}}null!==f?(f.return=p,Ko=f):gl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=null!=(c=h.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=he("display",o))}catch(v){xc(e,e.return,v)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(v){xc(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hl(t,e),fl(e),4&i&&ul(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(nl(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(ce(a,""),i.flags&=-33),sl(e,il(e),a);break;case 3:case 4:var s=i.stateNode.containerInfo;al(e,il(e),s);break;default:throw Error(r(161))}}catch(o){xc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ml(e,t,r){Ko=e,_l(e)}function _l(e,t,r){for(var n=!!(1&e.mode);null!==Ko;){var i=Ko,a=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||Uo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||qo;o=Uo;var c=qo;if(Uo=s,(qo=l)&&!c)for(Ko=i;null!==Ko;)l=(s=Ko).child,22===s.tag&&null!==s.memoizedState?yl(i):null!==l?(l.return=s,Ko=l):yl(i);for(;null!==a;)Ko=a,_l(a),a=a.sibling;Ko=i,Uo=o,qo=c}vl(e)}else 8772&i.subtreeFlags&&null!==a?(a.return=i,Ko=a):vl(e)}}function vl(e){for(;null!==Ko;){var t=Ko;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:qo||el(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!qo)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Js(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&za(t,s,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ot(h)}}}break;default:throw Error(r(163))}qo||512&t.flags&&tl(t)}catch(p){xc(t,t.return,p)}}if(t===e){Ko=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ko=n;break}Ko=t.return}}function gl(e){for(;null!==Ko;){var t=Ko;if(t===e){Ko=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Ko=r;break}Ko=t.return}}function yl(e){for(;null!==Ko;){var t=Ko;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{el(4,t)}catch(l){xc(t,r,l)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){xc(t,i,l)}}var a=t.return;try{tl(t)}catch(l){xc(t,a,l)}break;case 5:var s=t.return;try{tl(t)}catch(l){xc(t,s,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Ko=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Ko=o;break}Ko=t.return}}var bl,xl=Math.ceil,wl=v.ReactCurrentDispatcher,kl=v.ReactCurrentOwner,Sl=v.ReactCurrentBatchConfig,Al=0,Ml=null,Cl=null,Nl=0,El=0,jl=xi(0),Gl=0,Pl=null,Rl=0,Tl=0,Ll=0,Dl=null,Il=null,Fl=0,Ol=1/0,zl=null,Wl=!1,$l=null,Bl=null,Vl=!1,Hl=null,Ul=0,ql=0,Xl=null,Kl=-1,Yl=0;function Ql(){return 6&Al?Xe():-1!==Kl?Kl:Kl=Xe()}function Jl(e){return 1&e.mode?2&Al&&0!==Nl?Nl&-Nl:null!==ha.transition?(0===Yl&&(Yl=ht()),Yl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:qt(e.type):1}function Zl(e,t,n,i){if(50<ql)throw ql=0,Xl=null,Error(r(185));ft(e,n,i),2&Al&&e===Ml||(e===Ml&&(!(2&Al)&&(Tl|=n),4===Gl&&ic(e,Nl)),ec(e,i),1===n&&0===Al&&!(1&t.mode)&&(Ol=Xe()+500,Di&&Oi()))}function ec(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-nt(a),o=1<<s,l=i[s];-1===l?0!==(o&r)&&0===(o&n)||(i[s]=dt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var n=ct(e,e===Ml?Nl:0);if(0===n)null!==r&&He(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&He(r),1===t)0===e.tag?function(e){Di=!0,Fi(e)}(ac.bind(null,e)):Fi(ac.bind(null,e)),ni(function(){!(6&Al)&&Oi()}),r=null;else{switch(vt(n)){case 1:r=Ye;break;case 4:r=Qe;break;case 16:default:r=Je;break;case 536870912:r=et}r=Mc(r,tc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function tc(e,t){if(Kl=-1,Yl=0,6&Al)throw Error(r(327));var n=e.callbackNode;if(yc()&&e.callbackNode!==n)return null;var i=ct(e,e===Ml?Nl:0);if(0===i)return null;if(30&i||0!==(i&e.expiredLanes)||t)t=pc(e,i);else{t=i;var a=Al;Al|=2;var s=uc();for(Ml===e&&Nl===t||(zl=null,Ol=Xe()+500,cc(e,t));;)try{mc();break}catch(l){dc(e,l)}ka(),wl.current=s,Al=a,null!==Cl?t=0:(Ml=null,Nl=0,t=Gl)}if(0!==t){if(2===t&&(0!==(a=ut(e))&&(i=a,t=rc(e,a))),1===t)throw n=Pl,cc(e,0),ic(e,i),ec(e,Xe()),n;if(6===t)ic(e,i);else{if(a=e.current.alternate,!(30&i||function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!nn(a(),i))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=pc(e,i),2===t&&(s=ut(e),0!==s&&(i=s,t=rc(e,s))),1!==t)))throw n=Pl,cc(e,0),ic(e,i),ec(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:gc(e,Il,zl);break;case 3:if(ic(e,i),(130023424&i)===i&&10<(t=Fl+500-Xe())){if(0!==ct(e,0))break;if(((a=e.suspendedLanes)&i)!==i){Ql(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ei(gc.bind(null,e,Il,zl),t);break}gc(e,Il,zl);break;case 4:if(ic(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var o=31-nt(i);s=1<<o,(o=t[o])>a&&(a=o),i&=~s}if(i=a,10<(i=(120>(i=Xe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xl(i/1960))-i)){e.timeoutHandle=ei(gc.bind(null,e,Il,zl),i);break}gc(e,Il,zl);break;default:throw Error(r(329))}}}return ec(e,Xe()),e.callbackNode===n?tc.bind(null,e):null}function rc(e,t){var r=Dl;return e.current.memoizedState.isDehydrated&&(cc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Il,Il=r,null!==t&&nc(t)),e}function nc(e){null===Il?Il=e:Il.push.apply(Il,e)}function ic(e,t){for(t&=~Ll,t&=~Tl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nt(t),n=1<<r;e[r]=-1,t&=~n}}function ac(e){if(6&Al)throw Error(r(327));yc();var t=ct(e,0);if(!(1&t))return ec(e,Xe()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var i=ut(e);0!==i&&(t=i,n=rc(e,i))}if(1===n)throw n=Pl,cc(e,0),ic(e,t),ec(e,Xe()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gc(e,Il,zl),ec(e,Xe()),null}function sc(e,t){var r=Al;Al|=1;try{return e(t)}finally{0===(Al=r)&&(Ol=Xe()+500,Di&&Oi())}}function oc(e){null!==Hl&&0===Hl.tag&&!(6&Al)&&yc();var t=Al;Al|=1;var r=Sl.transition,n=_t;try{if(Sl.transition=null,_t=1,e)return e()}finally{_t=n,Sl.transition=r,!(6&(Al=t))&&Oi()}}function lc(){El=jl.current,wi(jl)}function cc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ti(r)),null!==Cl)for(r=Cl.return;null!==r;){var n=r;switch(Ji(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&ji();break;case 3:qa(),wi(Mi),wi(Ai),Za();break;case 5:Ka(n);break;case 4:qa();break;case 13:case 19:wi(Ya);break;case 10:Sa(n.type._context);break;case 22:case 23:lc()}r=r.return}if(Ml=e,Cl=e=jc(e.current,null),Nl=El=t,Gl=0,Pl=null,Ll=Tl=Rl=0,Il=Dl=null,null!==Na){for(t=0;t<Na.length;t++)if(null!==(n=(r=Na[t]).interleaved)){r.interleaved=null;var i=n.next,a=r.pending;if(null!==a){var s=a.next;a.next=i,n.next=s}r.pending=n}Na=null}return e}function dc(e,t){for(;;){var n=Cl;try{if(ka(),es.current=Xs,ss){for(var i=ns.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}ss=!1}if(rs=0,as=is=ns=null,os=!1,ls=0,kl.current=null,null===n||null===n.return){Gl=1,Pl=t,Cl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,u=l,h=u.tag;if(!(1&u.mode||0!==h&&11!==h&&15!==h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=po(o);if(null!==f){f.flags&=-257,fo(f,o,l,0,t),1&f.mode&&ho(s,d,t),c=d;var m=(t=f).updateQueue;if(null===m){var _=new Set;_.add(c),t.updateQueue=_}else m.add(c);break e}if(!(1&t)){ho(s,d,t),hc();break e}c=Error(r(426))}else if(ta&&1&l.mode){var v=po(o);if(null!==v){!(65536&v.flags)&&(v.flags|=256),fo(v,o,l,0,t),ua(ao(c,l));break e}}s=c=ao(c,l),4!==Gl&&(Gl=2),null===Dl?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fa(s,co(0,c,t));break e;case 1:l=c;var g=s.type,y=s.stateNode;if(!(128&s.flags||"function"!=typeof g.getDerivedStateFromError&&(null===y||"function"!=typeof y.componentDidCatch||null!==Bl&&Bl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,Fa(s,uo(s,l,t));break e}}s=s.return}while(null!==s)}vc(n)}catch(b){t=b,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function uc(){var e=wl.current;return wl.current=Xs,null===e?Xs:e}function hc(){0!==Gl&&3!==Gl&&2!==Gl||(Gl=4),null===Ml||!(268435455&Rl)&&!(268435455&Tl)||ic(Ml,Nl)}function pc(e,t){var n=Al;Al|=2;var i=uc();for(Ml===e&&Nl===t||(zl=null,cc(e,t));;)try{fc();break}catch(a){dc(e,a)}if(ka(),Al=n,wl.current=i,null!==Cl)throw Error(r(261));return Ml=null,Nl=0,Gl}function fc(){for(;null!==Cl;)_c(Cl)}function mc(){for(;null!==Cl&&!Ue();)_c(Cl)}function _c(e){var t=bl(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?vc(e):Cl=t,kl.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,32768&t.flags){if(null!==(r=Ho(r,t)))return r.flags&=32767,void(Cl=r);if(null===e)return Gl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(r=Vo(r,t,El)))return void(Cl=r);if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Gl&&(Gl=5)}function gc(e,t,n){var i=_t,a=Sl.transition;try{Sl.transition=null,_t=1,function(e,t,n,i){do{yc()}while(null!==Hl);if(6&Al)throw Error(r(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-nt(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}(e,s),e===Ml&&(Cl=Ml=null,Nl=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Vl||(Vl=!0,Mc(Je,function(){return yc(),null})),s=!!(15990&n.flags),!!(15990&n.subtreeFlags)||s){s=Sl.transition,Sl.transition=null;var o=_t;_t=1;var l=Al;Al|=4,kl.current=null,function(e,t){if(Qn=Wt,dn(e=cn())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===a&&(l=o),p===s&&++u===i&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jn={focusedElem:e,selectionRange:n},Wt=!1,Ko=t;null!==Ko;)if(e=(t=Ko).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ko=e;else for(;null!==Ko;){t=Ko;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var _=m.memoizedProps,v=m.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:Js(t.type,_),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(r(163))}}catch(x){xc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ko=e;break}Ko=t.return}m=Jo,Jo=!1}(e,n),pl(n,e),un(Jn),Wt=!!Qn,Jn=Qn=null,e.current=n,ml(n),qe(),Al=l,_t=o,Sl.transition=s}else e.current=n;if(Vl&&(Vl=!1,Hl=e,Ul=a),s=e.pendingLanes,0===s&&(Bl=null),function(e){if(rt&&"function"==typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(tt,e,void 0,!(128&~e.current.flags))}catch(t){}}(n.stateNode),ec(e,Xe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Wl)throw Wl=!1,e=$l,$l=null,e;!!(1&Ul)&&0!==e.tag&&yc(),s=e.pendingLanes,1&s?e===Xl?ql++:(ql=0,Xl=e):ql=0,Oi()}(e,t,n,i)}finally{Sl.transition=a,_t=i}return null}function yc(){if(null!==Hl){var e=vt(Ul),t=Sl.transition,n=_t;try{if(Sl.transition=null,_t=16>e?16:e,null===Hl)var i=!1;else{if(e=Hl,Hl=null,Ul=0,6&Al)throw Error(r(331));var a=Al;for(Al|=4,Ko=e.current;null!==Ko;){var s=Ko,o=s.child;if(16&Ko.flags){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Ko=d;null!==Ko;){var u=Ko;switch(u.tag){case 0:case 11:case 15:Zo(8,u,s)}var h=u.child;if(null!==h)h.return=u,Ko=h;else for(;null!==Ko;){var p=(u=Ko).sibling,f=u.return;if(rl(u),u===d){Ko=null;break}if(null!==p){p.return=f,Ko=p;break}Ko=f}}}var m=s.alternate;if(null!==m){var _=m.child;if(null!==_){m.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(null!==_)}}Ko=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,Ko=o;else e:for(;null!==Ko;){if(2048&(s=Ko).flags)switch(s.tag){case 0:case 11:case 15:Zo(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,Ko=g;break e}Ko=s.return}}var y=e.current;for(Ko=y;null!==Ko;){var b=(o=Ko).child;if(2064&o.subtreeFlags&&null!==b)b.return=o,Ko=b;else e:for(o=y;null!==Ko;){if(2048&(l=Ko).flags)try{switch(l.tag){case 0:case 11:case 15:el(9,l)}}catch(w){xc(l,l.return,w)}if(l===o){Ko=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ko=x;break e}Ko=l.return}}if(Al=a,Oi(),rt&&"function"==typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(tt,e)}catch(w){}i=!0}return i}finally{_t=n,Sl.transition=t}}return!1}function bc(e,t,r){e=Da(e,t=co(0,t=ao(r,t),1),1),t=Ql(),null!==e&&(ft(e,1,t),ec(e,t))}function xc(e,t,r){if(3===e.tag)bc(e,e,r);else for(;null!==t;){if(3===t.tag){bc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Bl||!Bl.has(n))){t=Da(t,e=uo(t,e=ao(r,e),1),1),e=Ql(),null!==t&&(ft(t,1,e),ec(t,e));break}}t=t.return}}function wc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Ql(),e.pingedLanes|=e.suspendedLanes&r,Ml===e&&(Nl&r)===r&&(4===Gl||3===Gl&&(130023424&Nl)===Nl&&500>Xe()-Fl?cc(e,0):Ll|=r),ec(e,t)}function kc(e,t){0===t&&(1&e.mode?(t=ot,!(130023424&(ot<<=1))&&(ot=4194304)):t=1);var r=Ql();null!==(e=Ga(e,t))&&(ft(e,t,r),ec(e,r))}function Sc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),kc(e,r)}function Ac(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),kc(e,n)}function Mc(e,t){return Ve(e,t)}function Cc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,r,n){return new Cc(e,t,r,n)}function Ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var r=e.alternate;return null===r?((r=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gc(e,t,n,i,a,s){var o=2;if(i=e,"function"==typeof e)Ec(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case b:return Pc(n.children,a,s,t);case x:o=8,a|=8;break;case w:return(e=Nc(12,n,t,2|a)).elementType=w,e.lanes=s,e;case M:return(e=Nc(13,n,t,a)).elementType=M,e.lanes=s,e;case C:return(e=Nc(19,n,t,a)).elementType=C,e.lanes=s,e;case j:return Rc(n,a,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case S:o=9;break e;case A:o=11;break e;case N:o=14;break e;case E:o=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Nc(o,n,t,a)).elementType=e,t.type=i,t.lanes=s,t}function Pc(e,t,r,n){return(e=Nc(7,e,n,t)).lanes=r,e}function Rc(e,t,r,n){return(e=Nc(22,e,n,t)).elementType=j,e.lanes=r,e.stateNode={isHidden:!1},e}function Tc(e,t,r){return(e=Nc(6,e,null,t)).lanes=r,e}function Lc(e,t,r){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ic(e,t,r,n,i,a,s,o,l){return e=new Dc(e,t,r,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function Fc(e){if(!e)return Si;e:{if(Oe(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ei(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ei(n))return Pi(e,n,t)}return t}function Oc(e,t,r,n,i,a,s,o,l){return(e=Ic(r,n,!0,e,0,a,0,o,l)).context=Fc(null),r=e.current,(a=La(n=Ql(),i=Jl(r))).callback=null!=t?t:null,Da(r,a,i),e.current.lanes=i,ft(e,i,n),ec(e,n),e}function zc(e,t,r,n){var i=t.current,a=Ql(),s=Jl(i);return r=Fc(r),null===t.context?t.context=r:t.pendingContext=r,(t=La(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Da(i,t,s))&&(Zl(e,i,s,a),Ia(e,i,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Bc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)_o=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return _o=!1,function(e,t,r){switch(t.tag){case 3:Mo(t),da();break;case 5:Xa(t);break;case 1:Ei(t.type)&&Ri(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ki(ya,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(ki(Ya,1&Ya.current),t.flags|=128,null):0!==(r&t.child.childLanes)?To(e,t,r):(ki(Ya,1&Ya.current),null!==(e=Wo(e,t,r))?e.sibling:null);ki(Ya,1&Ya.current);break;case 19:if(n=0!==(r&t.childLanes),128&e.flags){if(n)return Oo(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Ya,Ya.current),n)break;return null;case 22:case 23:return t.lanes=0,xo(e,t,r)}return Wo(e,t,r)}(e,t,n);_o=!!(131072&e.flags)}else _o=!1,ta&&1048576&t.flags&&Yi(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;zo(e,t),e=t.pendingProps;var a=Ni(t,Ai.current);Ma(t,n),a=hs(null,t,i,e,a,n);var s=ps();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ei(i)?(s=!0,Ri(t)):s=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ra(t),a.updater=eo,t.stateNode=a,a._reactInternals=t,io(t,i,e,n),t=Ao(null,t,i,!0,s,n)):(t.tag=0,ta&&s&&Qi(t),vo(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"==typeof e)return Ec(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(i),e=Js(i,e),a){case 0:t=ko(null,t,i,e,n);break e;case 1:t=So(null,t,i,e,n);break e;case 11:t=go(null,t,i,e,n);break e;case 14:t=yo(null,t,i,Js(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,ko(e,t,i,a=t.elementType===i?a:Js(i,a),n);case 1:return i=t.type,a=t.pendingProps,So(e,t,i,a=t.elementType===i?a:Js(i,a),n);case 3:e:{if(Mo(t),null===e)throw Error(r(387));i=t.pendingProps,a=(s=t.memoizedState).element,Ta(e,t),Oa(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Co(e,t,i,n,a=ao(Error(r(423)),t));break e}if(i!==a){t=Co(e,t,i,n,a=ao(Error(r(424)),t));break e}for(ea=si(t.stateNode.containerInfo.firstChild),Zi=t,ta=!0,ra=null,n=ga(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),i===a){t=Wo(e,t,n);break e}vo(e,t,i,n)}t=t.child}return t;case 5:return Xa(t),null===e&&sa(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,o=a.children,Zn(i,a)?o=null:null!==s&&Zn(i,s)&&(t.flags|=32),wo(e,t),vo(e,t,o,n),t.child;case 6:return null===e&&sa(t),null;case 13:return To(e,t,n);case 4:return Ua(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=va(t,null,i,n):vo(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,go(e,t,i,a=t.elementType===i?a:Js(i,a),n);case 7:return vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,ki(ya,i._currentValue),i._currentValue=o,null!==s)if(nn(s.value,o)){if(s.children===a.children&&!Mi.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=La(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Aa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(r(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Aa(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}vo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Ma(t,n),i=i(a=Ca(a)),t.flags|=1,vo(e,t,i,n),t.child;case 14:return a=Js(i=t.type,t.pendingProps),yo(e,t,i,a=Js(i.type,a),n);case 15:return bo(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Js(i,a),zo(e,t),t.tag=1,Ei(i)?(e=!0,Ri(t)):e=!1,Ma(t,n),ro(t,i,a),io(t,i,a,n),Ao(null,t,i,!0,e,n);case 19:return Oo(e,t,n);case 22:return xo(e,t,n)}throw Error(r(156,t.tag))};var Vc="function"==typeof reportError?reportError:function(e){console.error(e)};function Hc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Yc(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if("function"==typeof i){var o=i;i=function(){var e=Wc(s);o.call(e)}}zc(t,s,e,i)}else s=function(e,t,r,n,i){if(i){if("function"==typeof n){var a=n;n=function(){var e=Wc(s);a.call(e)}}var s=Oc(t,n,e,0,null,!1,0,"",Kc);return e._reactRootContainer=s,e[ui]=s.current,On(8===e.nodeType?e.parentNode:e),oc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof n){var o=n;n=function(){var e=Wc(l);o.call(e)}}var l=Ic(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[ui]=l.current,On(8===e.nodeType?e.parentNode:e),oc(function(){zc(t,l,r,n)}),l}(r,t,e,i,n);return Wc(s)}Uc.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));zc(e,t,null,null)},Uc.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;oc(function(){zc(null,e,null,null)}),t[ui]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jt.length&&0!==t&&t<jt[r].priority;r++);jt.splice(r,0,e),0===r&&Tt(e)}},gt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lt(t.pendingLanes);0!==r&&(mt(t,1|r),ec(t,Xe()),!(6&Al)&&(Ol=Xe()+500,Oi()))}break;case 13:oc(function(){var t=Ga(e,1);if(null!==t){var r=Ql();Zl(t,e,1,r)}}),Bc(e,1)}},yt=function(e){if(13===e.tag){var t=Ga(e,134217728);if(null!==t)Zl(t,e,134217728,Ql());Bc(e,134217728)}},bt=function(e){if(13===e.tag){var t=Jl(e),r=Ga(e,t);if(null!==r)Zl(r,e,t,Ql());Bc(e,t)}},xt=function(){return _t},wt=function(e,t){var r=_t;try{return _t=e,t()}finally{_t=r}},ye=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=gi(i);if(!a)throw Error(r(90));V(i),K(i,a)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&Z(e,!!n.multiple,t,!1)}},Ae=sc,Me=oc;var Qc={usingClientEntryPoint:!1,Events:[_i,vi,gi,ke,Se,sc]},Jc={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zc={bundleType:Jc.bundleType,version:Jc.version,rendererPackageName:Jc.rendererPackageName,rendererConfig:Jc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:Jc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{tt=ed.inject(Zc),rt=ed}catch(oe){}}return Gd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qc,Gd.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(r(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,n)},Gd.createRoot=function(e,t){if(!qc(e))throw Error(r(299));var n=!1,i="",a=Vc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Ic(e,1,!1,null,0,n,0,i,a),e[ui]=t.current,On(8===e.nodeType?e.parentNode:e),new Hc(t)},Gd.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=$e(t))?null:e.stateNode},Gd.flushSync=function(e){return oc(e)},Gd.hydrate=function(e,t,n){if(!Xc(t))throw Error(r(200));return Yc(null,e,t,!0,n)},Gd.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,a=!1,s="",o=Vc;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Oc(t,null,e,1,null!=n?n:null,a,0,s,o),e[ui]=t.current,On(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Uc(t)},Gd.render=function(e,t,n){if(!Xc(t))throw Error(r(200));return Yc(null,e,t,!1,n)},Gd.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(r(40));return!!e._reactRootContainer&&(oc(function(){Yc(null,null,e,!1,function(){e._reactRootContainer=null,e[ui]=null})}),!0)},Gd.unstable_batchedUpdates=sc,Gd.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Xc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Yc(e,t,n,!1,i)},Gd.version="18.3.1-next-f1338f8080-20240426",Gd}function Dd(){if(Cd)return jd.exports;return Cd=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),jd.exports=Ld(),jd.exports}const Id=cd(function(){if(Nd)return Ed;Nd=1;var e=Dd();return Ed.createRoot=e.createRoot,Ed.hydrateRoot=e.hydrateRoot,Ed}()),Fd={name:"Ocean Light",palette:"ocean",mode:"light",colors:{background:"#ffffff",backgroundSecondary:"#f8fafc",backgroundTertiary:"#f1f5f9",textPrimary:"#0f172a",textSecondary:"#334155",textMuted:"#64748b",primary:"#0ea5e9",primaryHover:"#0284c7",primaryLight:"#e0f2fe",accent:"#06b6d4",accentHover:"#0891b2",accentLight:"#cffafe",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",border:"#e2e8f0",borderLight:"#f1f5f9",surface:"#ffffff",surfaceHover:"#f8fafc",overlay:"rgba(15, 23, 42, 0.8)",overlayLight:"rgba(15, 23, 42, 0.1)"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},gradients:{primary:"linear-gradient(135deg, #0ea5e9 0%, #06b6d4 100%)",hero:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%)",surface:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)"}},Od={name:"Forest Light",palette:"forest",mode:"light",colors:{background:"#ffffff",backgroundSecondary:"#f0fdf4",backgroundTertiary:"#dcfce7",textPrimary:"#14532d",textSecondary:"#166534",textMuted:"#4ade80",primary:"#22c55e",primaryHover:"#16a34a",primaryLight:"#dcfce7",accent:"#10b981",accentHover:"#059669",accentLight:"#d1fae5",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",border:"#d1fae5",borderLight:"#f0fdf4",surface:"#ffffff",surfaceHover:"#f0fdf4",overlay:"rgba(20, 83, 45, 0.8)",overlayLight:"rgba(20, 83, 45, 0.1)"},shadows:{sm:"0 1px 2px 0 rgba(34, 197, 94, 0.05)",md:"0 4px 6px -1px rgba(34, 197, 94, 0.1)",lg:"0 10px 15px -3px rgba(34, 197, 94, 0.1)",xl:"0 25px 50px -12px rgba(34, 197, 94, 0.25)"},gradients:{primary:"linear-gradient(135deg, #22c55e 0%, #10b981 100%)",hero:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #bbf7d0 100%)",surface:"linear-gradient(135deg, #ffffff 0%, #f0fdf4 100%)"}},zd={name:"Sunset Light",palette:"sunset",mode:"light",colors:{background:"#ffffff",backgroundSecondary:"#fff7ed",backgroundTertiary:"#ffedd5",textPrimary:"#9a3412",textSecondary:"#c2410c",textMuted:"#ea580c",primary:"#f97316",primaryHover:"#ea580c",primaryLight:"#ffedd5",accent:"#ef4444",accentHover:"#dc2626",accentLight:"#fee2e2",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",border:"#fed7aa",borderLight:"#fff7ed",surface:"#ffffff",surfaceHover:"#fff7ed",overlay:"rgba(154, 52, 18, 0.8)",overlayLight:"rgba(154, 52, 18, 0.1)"},shadows:{sm:"0 1px 2px 0 rgba(249, 115, 22, 0.05)",md:"0 4px 6px -1px rgba(249, 115, 22, 0.1)",lg:"0 10px 15px -3px rgba(249, 115, 22, 0.1)",xl:"0 25px 50px -12px rgba(249, 115, 22, 0.25)"},gradients:{primary:"linear-gradient(135deg, #f97316 0%, #ef4444 100%)",hero:"linear-gradient(135deg, #fff7ed 0%, #ffedd5 50%, #fed7aa 100%)",surface:"linear-gradient(135deg, #ffffff 0%, #fff7ed 100%)"}},Wd={name:"Lavender Light",palette:"lavender",mode:"light",colors:{background:"#ffffff",backgroundSecondary:"#faf5ff",backgroundTertiary:"#f3e8ff",textPrimary:"#581c87",textSecondary:"#7c3aed",textMuted:"#8b5cf6",primary:"#a855f7",primaryHover:"#9333ea",primaryLight:"#f3e8ff",accent:"#ec4899",accentHover:"#db2777",accentLight:"#fce7f3",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",border:"#e9d5ff",borderLight:"#faf5ff",surface:"#ffffff",surfaceHover:"#faf5ff",overlay:"rgba(88, 28, 135, 0.8)",overlayLight:"rgba(88, 28, 135, 0.1)"},shadows:{sm:"0 1px 2px 0 rgba(168, 85, 247, 0.05)",md:"0 4px 6px -1px rgba(168, 85, 247, 0.1)",lg:"0 10px 15px -3px rgba(168, 85, 247, 0.1)",xl:"0 25px 50px -12px rgba(168, 85, 247, 0.25)"},gradients:{primary:"linear-gradient(135deg, #a855f7 0%, #ec4899 100%)",hero:"linear-gradient(135deg, #faf5ff 0%, #f3e8ff 50%, #e9d5ff 100%)",surface:"linear-gradient(135deg, #ffffff 0%, #faf5ff 100%)"}},$d={name:"Mono Light",palette:"mono",mode:"light",colors:{background:"#ffffff",backgroundSecondary:"#f8fafc",backgroundTertiary:"#f1f5f9",textPrimary:"#0f172a",textSecondary:"#334155",textMuted:"#64748b",primary:"#475569",primaryHover:"#334155",primaryLight:"#f1f5f9",accent:"#64748b",accentHover:"#475569",accentLight:"#f8fafc",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",border:"#e2e8f0",borderLight:"#f1f5f9",surface:"#ffffff",surfaceHover:"#f8fafc",overlay:"rgba(15, 23, 42, 0.8)",overlayLight:"rgba(15, 23, 42, 0.1)"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},gradients:{primary:"linear-gradient(135deg, #475569 0%, #64748b 100%)",hero:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 50%, #e2e8f0 100%)",surface:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)"}},Bd={"ocean-light":Fd,"ocean-dark":__spreadProps(__spreadValues({},Fd),{name:"Ocean Dark",mode:"dark",colors:{background:"#0f172a",backgroundSecondary:"#1e293b",backgroundTertiary:"#334155",textPrimary:"#ffffff",textSecondary:"#e2e8f0",textMuted:"#cbd5e1",primary:"#38bdf8",primaryHover:"#0ea5e9",primaryLight:"#1e293b",accent:"#22d3ee",accentHover:"#06b6d4",accentLight:"#164e63",success:"#34d399",warning:"#fbbf24",error:"#f87171",info:"#60a5fa",border:"#475569",borderLight:"#334155",surface:"#1e293b",surfaceHover:"#334155",overlay:"rgba(0, 0, 0, 0.8)",overlayLight:"rgba(0, 0, 0, 0.1)"},gradients:{primary:"linear-gradient(135deg, #38bdf8 0%, #22d3ee 100%)",hero:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)",surface:"linear-gradient(135deg, #1e293b 0%, #334155 100%)"}}),"forest-light":Od,"forest-dark":__spreadProps(__spreadValues({},Od),{name:"Forest Dark",mode:"dark",colors:{background:"#14532d",backgroundSecondary:"#166534",backgroundTertiary:"#15803d",textPrimary:"#f0fdf4",textSecondary:"#dcfce7",textMuted:"#bbf7d0",primary:"#4ade80",primaryHover:"#22c55e",primaryLight:"#166534",accent:"#34d399",accentHover:"#10b981",accentLight:"#064e3b",success:"#34d399",warning:"#fbbf24",error:"#f87171",info:"#60a5fa",border:"#15803d",borderLight:"#166534",surface:"#166534",surfaceHover:"#15803d",overlay:"rgba(0, 0, 0, 0.8)",overlayLight:"rgba(0, 0, 0, 0.1)"},gradients:{primary:"linear-gradient(135deg, #4ade80 0%, #34d399 100%)",hero:"linear-gradient(135deg, #14532d 0%, #166534 50%, #15803d 100%)",surface:"linear-gradient(135deg, #166534 0%, #15803d 100%)"}}),"sunset-light":zd,"sunset-dark":__spreadProps(__spreadValues({},zd),{name:"Sunset Dark",mode:"dark",colors:{background:"#9a3412",backgroundSecondary:"#c2410c",backgroundTertiary:"#ea580c",textPrimary:"#fff7ed",textSecondary:"#ffedd5",textMuted:"#fed7aa",primary:"#fb923c",primaryHover:"#f97316",primaryLight:"#c2410c",accent:"#f87171",accentHover:"#ef4444",accentLight:"#7f1d1d",success:"#34d399",warning:"#fbbf24",error:"#f87171",info:"#60a5fa",border:"#ea580c",borderLight:"#c2410c",surface:"#c2410c",surfaceHover:"#ea580c",overlay:"rgba(0, 0, 0, 0.8)",overlayLight:"rgba(0, 0, 0, 0.1)"},gradients:{primary:"linear-gradient(135deg, #fb923c 0%, #f87171 100%)",hero:"linear-gradient(135deg, #9a3412 0%, #c2410c 50%, #ea580c 100%)",surface:"linear-gradient(135deg, #c2410c 0%, #ea580c 100%)"}}),"lavender-light":Wd,"lavender-dark":__spreadProps(__spreadValues({},Wd),{name:"Lavender Dark",mode:"dark",colors:{background:"#581c87",backgroundSecondary:"#7c3aed",backgroundTertiary:"#8b5cf6",textPrimary:"#faf5ff",textSecondary:"#f3e8ff",textMuted:"#e9d5ff",primary:"#c084fc",primaryHover:"#a855f7",primaryLight:"#7c3aed",accent:"#f472b6",accentHover:"#ec4899",accentLight:"#831843",success:"#34d399",warning:"#fbbf24",error:"#f87171",info:"#60a5fa",border:"#8b5cf6",borderLight:"#7c3aed",surface:"#7c3aed",surfaceHover:"#8b5cf6",overlay:"rgba(0, 0, 0, 0.8)",overlayLight:"rgba(0, 0, 0, 0.1)"},gradients:{primary:"linear-gradient(135deg, #c084fc 0%, #f472b6 100%)",hero:"linear-gradient(135deg, #581c87 0%, #7c3aed 50%, #8b5cf6 100%)",surface:"linear-gradient(135deg, #7c3aed 0%, #8b5cf6 100%)"}}),"mono-light":$d,"mono-dark":__spreadProps(__spreadValues({},$d),{name:"Mono Dark",mode:"dark",colors:{background:"#0f172a",backgroundSecondary:"#1e293b",backgroundTertiary:"#334155",textPrimary:"#f8fafc",textSecondary:"#cbd5e1",textMuted:"#94a3b8",primary:"#cbd5e1",primaryHover:"#f8fafc",primaryLight:"#334155",accent:"#94a3b8",accentHover:"#cbd5e1",accentLight:"#1e293b",success:"#34d399",warning:"#fbbf24",error:"#f87171",info:"#60a5fa",border:"#475569",borderLight:"#334155",surface:"#1e293b",surfaceHover:"#334155",overlay:"rgba(0, 0, 0, 0.8)",overlayLight:"rgba(0, 0, 0, 0.1)"},gradients:{primary:"linear-gradient(135deg, #cbd5e1 0%, #94a3b8 100%)",hero:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)",surface:"linear-gradient(135deg, #1e293b 0%, #334155 100%)"}})},Vd=Fd,Hd=xd.createContext(void 0),Ud=({children:e,defaultThemeKey:t="ocean-light"})=>{const[r,n]=xd.useState(Bd[t]||Vd),[i,a]=xd.useState(t),s=Object.entries(Bd).map(([e,t])=>({key:e,name:t.name,palette:t.palette,mode:t.mode})),o=e=>{Bd[e]&&(n(Bd[e]),a(e),localStorage.setItem("lytsite-theme",e))};xd.useEffect(()=>{const e=localStorage.getItem("lytsite-theme");e&&Bd[e]&&o(e)},[]),xd.useEffect(()=>{const e=document.documentElement,t=r;Object.entries(t.colors).forEach(([t,r])=>{e.style.setProperty(`--color-${t}`,r)}),Object.entries(t.shadows).forEach(([t,r])=>{e.style.setProperty(`--shadow-${t}`,r)}),Object.entries(t.gradients).forEach(([t,r])=>{e.style.setProperty(`--gradient-${t}`,r)}),document.body.className=document.body.className.replace(/theme-\w+-\w+/g,"").concat(` theme-${i}`).trim()},[r,i]);const l={theme:r,setTheme:o,availableThemes:s,toggleDarkMode:()=>{const e="light"===r.mode?"dark":"light",t=`${r.palette}-${e}`;Bd[t]&&o(t)},changePalette:e=>{const t=`${e}-${r.mode}`;Bd[t]&&o(t)}};return bd.jsx(Hd.Provider,{value:l,children:e})},qd=()=>{const e=xd.useContext(Hd);return e||{theme:Vd,setTheme:()=>{},availableThemes:[],toggleDarkMode:()=>{},changePalette:()=>{}}};function Xd({title:e,subLine:t,tagLine:r}){const{theme:n}=qd();return bd.jsxs("section",{className:"relative py-12 sm:py-16 md:py-20 px-4 sm:px-6 overflow-hidden",style:{backgroundColor:n.colors.background},children:[bd.jsx("div",{className:"absolute inset-0"}),bd.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[bd.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold mb-3 sm:mb-4 leading-tight px-2",style:{color:n.colors.textPrimary,textShadow:"dark"===n.mode?"0 2px 4px rgba(0, 0, 0, 0.5)":"0 2px 4px rgba(0, 0, 0, 0.1)"},children:e}),bd.jsx("div",{className:"mb-2 sm:mb-3",children:bd.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-semibold px-2",style:{color:n.colors.textSecondary,textShadow:"dark"===n.mode?"0 1px 2px rgba(0, 0, 0, 0.3)":"none"},children:t})}),bd.jsx("div",{className:"mb-6 sm:mb-8",children:bd.jsx("p",{className:"text-sm sm:text-base md:text-lg font-medium max-w-2xl mx-auto leading-relaxed px-4",style:{color:n.colors.textSecondary,textShadow:"dark"===n.mode?"0 1px 2px rgba(0, 0, 0, 0.3)":"none"},children:r})})]})]})}function Kd(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Yd(...e){return t=>{let r=!1;const n=e.map(e=>{const n=Kd(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():Kd(e[t],null)}}}}function Qd(...e){return xd.useCallback(Yd(...e),e)}function Jd(e){const t=eu(e),r=xd.forwardRef((e,r)=>{const n=e,{children:i}=n,a=__objRest(n,["children"]),s=xd.Children.toArray(i),o=s.find(ru);if(o){const e=o.props.children,n=s.map(t=>t===o?xd.Children.count(e)>1?xd.Children.only(null):xd.isValidElement(e)?e.props.children:null:t);return bd.jsx(t,__spreadProps(__spreadValues({},a),{ref:r,children:xd.isValidElement(e)?xd.cloneElement(e,void 0,n):null}))}return bd.jsx(t,__spreadProps(__spreadValues({},a),{ref:r,children:i}))});return r.displayName=`${e}.Slot`,r}var Zd=Jd("Slot");function eu(e){const t=xd.forwardRef((e,t)=>{const r=e,{children:n}=r,i=__objRest(r,["children"]);if(xd.isValidElement(n)){const e=function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=n&&"isReactWarning"in n&&n.isReactWarning;if(i)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(n),r=function(e,t){const r=__spreadValues({},t);for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...e)=>{const t=a(...e);return i(...e),t}:i&&(r[n]=i):"style"===n?r[n]=__spreadValues(__spreadValues({},i),a):"className"===n&&(r[n]=[i,a].filter(Boolean).join(" "))}return __spreadValues(__spreadValues({},e),r)}(i,n.props);return n.type!==xd.Fragment&&(r.ref=t?Yd(t,e):e),xd.cloneElement(n,r)}return xd.Children.count(n)>1?xd.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tu=Symbol("radix.slottable");function ru(e){return xd.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tu}function nu(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=nu(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function iu(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=nu(e))&&(n&&(n+=" "),n+=t);return n}const au=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,su=iu,ou=(e,t)=>r=>{var n;if(null==(null==t?void 0:t.variants))return su(e,null==r?void 0:r.class,null==r?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(e=>{const t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;const s=au(t)||au(n);return i[e][s]}),o=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{}),l=null==t||null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let r=t,{class:n,className:i}=r,s=__objRest(r,["class","className"]);return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes(__spreadValues(__spreadValues({},a),o)[t]):__spreadValues(__spreadValues({},a),o)[t]===r})?[...e,n,i]:e},[]);return su(e,s,l,null==r?void 0:r.class,null==r?void 0:r.className)},lu=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),a=i?lu(e.slice(1),i):void 0;if(a)return a;if(0===t.validators.length)return;const s=e.join("-");return null==(r=t.validators.find(({validator:e})=>e(s)))?void 0:r.classGroupId},cu=/^\[(.+)\]$/,du=e=>{if(cu.test(e)){const t=cu.exec(e)[1],r=null==t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},uu=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)hu(r[i],n,i,t);return n},hu=(e,t,r,n)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:pu(t,e)).classGroupId=r)}if("function"==typeof e)return fu(e)?void hu(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(([e,i])=>{hu(i,pu(t,e),r,n)})})},pu=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},fu=e=>e.isThemeGetter,mu=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(i(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):i(e,t)}}},_u=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=e=>{const t=[];let r,n=0,i=0,a=0;for(let l=0;l<e.length;l++){let s=e[l];if(0===n&&0===i){if(":"===s){t.push(e.slice(a,l)),a=l+1;continue}if("/"===s){r=l;continue}}"["===s?n++:"]"===s?n--:"("===s?i++:")"===s&&i--}const s=0===t.length?e:e.substring(a),o=vu(s);return{modifiers:t,hasImportantModifier:o!==s,baseClassName:o,maybePostfixModifierPosition:r&&r>a?r-a:void 0}};if(t){const e=t+":",r=n;n=t=>t.startsWith(e)?r(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(r){const e=n;n=t=>r({className:t,parseClassName:e})}return n},vu=e=>e.endsWith("!")?e.substring(0,e.length-1):e.startsWith("!")?e.substring(1):e,gu=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0]));return e=>{if(e.length<=1)return e;const r=[];let n=[];return e.forEach(e=>{"["===e[0]||t[e]?(r.push(...n.sort(),e),n=[]):n.push(e)}),r.push(...n.sort()),r}},yu=e=>__spreadValues({cache:mu(e.cacheSize),parseClassName:_u(e),sortModifiers:gu(e)},(e=>{const t=uu(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),lu(r,t)||du(e)},getConflictingClassGroupIds:(e,t)=>{const i=r[e]||[];return t&&n[e]?[...i,...n[e]]:i}}})(e)),bu=/\s+/;function xu(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=wu(e))&&(n&&(n+=" "),n+=t);return n}const wu=e=>{if("string"==typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=wu(e[n]))&&(r&&(r+=" "),r+=t);return r};function ku(e,...t){let r,n,i,a=function(o){const l=t.reduce((e,t)=>t(e),e());return r=yu(l),n=r.cache.get,i=r.cache.set,a=s,s(o)};function s(e){const t=n(e);if(t)return t;const a=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(bu);let l="";for(let c=o.length-1;c>=0;c-=1){const e=o[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:p}=r(e);if(t){l=e+(l.length>0?" "+l:l);continue}let f=!!p,m=n(f?h.substring(0,p):h);if(!m){if(!f){l=e+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=e+(l.length>0?" "+l:l);continue}f=!1}const _=a(d).join(":"),v=u?_+"!":_,g=v+m;if(s.includes(g))continue;s.push(g);const y=i(m,f);for(let r=0;r<y.length;++r){const e=y[r];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,r);return i(e,a),a}return function(){return a(xu.apply(null,arguments))}}const Su=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Au=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Mu=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Cu=/^\d+\/\d+$/,Nu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Eu=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ju=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Gu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Pu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ru=e=>Cu.test(e),Tu=e=>!!e&&!Number.isNaN(Number(e)),Lu=e=>!!e&&Number.isInteger(Number(e)),Du=e=>e.endsWith("%")&&Tu(e.slice(0,-1)),Iu=e=>Nu.test(e),Fu=()=>!0,Ou=e=>Eu.test(e)&&!ju.test(e),zu=()=>!1,Wu=e=>Gu.test(e),$u=e=>Pu.test(e),Bu=e=>!Hu(e)&&!Qu(e),Vu=e=>ih(e,lh,zu),Hu=e=>Au.test(e),Uu=e=>ih(e,ch,Ou),qu=e=>ih(e,dh,Tu),Xu=e=>ih(e,sh,zu),Ku=e=>ih(e,oh,$u),Yu=e=>ih(e,hh,Wu),Qu=e=>Mu.test(e),Ju=e=>ah(e,ch),Zu=e=>ah(e,uh),eh=e=>ah(e,sh),th=e=>ah(e,lh),rh=e=>ah(e,oh),nh=e=>ah(e,hh,!0),ih=(e,t,r)=>{const n=Au.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},ah=(e,t,r=!1)=>{const n=Mu.exec(e);return!!n&&(n[1]?t(n[1]):r)},sh=e=>"position"===e||"percentage"===e,oh=e=>"image"===e||"url"===e,lh=e=>"length"===e||"size"===e||"bg-size"===e,ch=e=>"length"===e,dh=e=>"number"===e,uh=e=>"family-name"===e,hh=e=>"shadow"===e,ph=ku(()=>{const e=Su("color"),t=Su("font"),r=Su("text"),n=Su("font-weight"),i=Su("tracking"),a=Su("leading"),s=Su("breakpoint"),o=Su("container"),l=Su("spacing"),c=Su("radius"),d=Su("shadow"),u=Su("inset-shadow"),h=Su("text-shadow"),p=Su("drop-shadow"),f=Su("blur"),m=Su("perspective"),_=Su("aspect"),v=Su("ease"),g=Su("animate"),y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Qu,Hu],b=()=>[Qu,Hu,l],x=()=>[Ru,"full","auto",...b()],w=()=>[Lu,"none","subgrid",Qu,Hu],k=()=>["auto",{span:["full",Lu,Qu,Hu]},Lu,Qu,Hu],S=()=>[Lu,"auto",Qu,Hu],A=()=>["auto","min","max","fr",Qu,Hu],M=()=>["auto",...b()],C=()=>[Ru,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],N=()=>[e,Qu,Hu],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",eh,Xu,{position:[Qu,Hu]}],j=()=>["auto","cover","contain",th,Vu,{size:[Qu,Hu]}],G=()=>[Du,Ju,Uu],P=()=>["","none","full",c,Qu,Hu],R=()=>["",Tu,Ju,Uu],T=()=>[Tu,Du,eh,Xu],L=()=>["","none",f,Qu,Hu],D=()=>["none",Tu,Qu,Hu],I=()=>["none",Tu,Qu,Hu],F=()=>[Tu,Qu,Hu],O=()=>[Ru,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Iu],breakpoint:[Iu],color:[Fu],container:[Iu],"drop-shadow":[Iu],ease:["in","out","in-out"],font:[Bu],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Iu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Iu],shadow:[Iu],spacing:["px",Tu],text:[Iu],"text-shadow":[Iu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ru,Hu,Qu,_]}],container:["container"],columns:[{columns:[Tu,Hu,Qu,o]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[Lu,"auto",Qu,Hu]}],basis:[{basis:[Ru,"full","auto",o,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Tu,Ru,"auto","initial","none",Hu]}],grow:[{grow:["",Tu,Qu,Hu]}],shrink:[{shrink:["",Tu,Qu,Hu]}],order:[{order:[Lu,"first","last","none",Qu,Hu]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:k()}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:k()}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:C()}],w:[{w:[o,"screen",...C()]}],"min-w":[{"min-w":[o,"screen","none",...C()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...C()]}],h:[{h:["screen","lh",...C()]}],"min-h":[{"min-h":["screen","lh","none",...C()]}],"max-h":[{"max-h":["screen","lh",...C()]}],"font-size":[{text:["base",r,Ju,Uu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Qu,qu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Du,Hu]}],"font-family":[{font:[Zu,Hu,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Qu,Hu]}],"line-clamp":[{"line-clamp":[Tu,"none",Qu,qu]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",Qu,Hu]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qu,Hu]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[Tu,"from-font","auto",Qu,Uu]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Tu,"auto",Qu,Hu]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qu,Hu]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qu,Hu]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:E()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:j()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Lu,Qu,Hu],radial:["",Qu,Hu],conic:[Lu,Qu,Hu]},rh,Ku]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:R()}],"border-w-x":[{"border-x":R()}],"border-w-y":[{"border-y":R()}],"border-w-s":[{"border-s":R()}],"border-w-e":[{"border-e":R()}],"border-w-t":[{"border-t":R()}],"border-w-r":[{"border-r":R()}],"border-w-b":[{"border-b":R()}],"border-w-l":[{"border-l":R()}],"divide-x":[{"divide-x":R()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":R()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[Tu,Qu,Hu]}],"outline-w":[{outline:["",Tu,Ju,Uu]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",d,nh,Yu]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",u,nh,Yu]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Tu,Uu]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":R()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",h,nh,Yu]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Tu,Qu,Hu]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Tu]}],"mask-image-linear-from-pos":[{"mask-linear-from":T()}],"mask-image-linear-to-pos":[{"mask-linear-to":T()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":T()}],"mask-image-t-to-pos":[{"mask-t-to":T()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":T()}],"mask-image-r-to-pos":[{"mask-r-to":T()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":T()}],"mask-image-b-to-pos":[{"mask-b-to":T()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":T()}],"mask-image-l-to-pos":[{"mask-l-to":T()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":T()}],"mask-image-x-to-pos":[{"mask-x-to":T()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":T()}],"mask-image-y-to-pos":[{"mask-y-to":T()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[Qu,Hu]}],"mask-image-radial-from-pos":[{"mask-radial-from":T()}],"mask-image-radial-to-pos":[{"mask-radial-to":T()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[Tu]}],"mask-image-conic-from-pos":[{"mask-conic-from":T()}],"mask-image-conic-to-pos":[{"mask-conic-to":T()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:E()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:j()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Qu,Hu]}],filter:[{filter:["","none",Qu,Hu]}],blur:[{blur:L()}],brightness:[{brightness:[Tu,Qu,Hu]}],contrast:[{contrast:[Tu,Qu,Hu]}],"drop-shadow":[{"drop-shadow":["","none",p,nh,Yu]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Tu,Qu,Hu]}],"hue-rotate":[{"hue-rotate":[Tu,Qu,Hu]}],invert:[{invert:["",Tu,Qu,Hu]}],saturate:[{saturate:[Tu,Qu,Hu]}],sepia:[{sepia:["",Tu,Qu,Hu]}],"backdrop-filter":[{"backdrop-filter":["","none",Qu,Hu]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[Tu,Qu,Hu]}],"backdrop-contrast":[{"backdrop-contrast":[Tu,Qu,Hu]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Tu,Qu,Hu]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Tu,Qu,Hu]}],"backdrop-invert":[{"backdrop-invert":["",Tu,Qu,Hu]}],"backdrop-opacity":[{"backdrop-opacity":[Tu,Qu,Hu]}],"backdrop-saturate":[{"backdrop-saturate":[Tu,Qu,Hu]}],"backdrop-sepia":[{"backdrop-sepia":["",Tu,Qu,Hu]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qu,Hu]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Tu,"initial",Qu,Hu]}],ease:[{ease:["linear","initial",v,Qu,Hu]}],delay:[{delay:[Tu,Qu,Hu]}],animate:[{animate:["none",g,Qu,Hu]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Qu,Hu]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:I()}],"scale-x":[{"scale-x":I()}],"scale-y":[{"scale-y":I()}],"scale-z":[{"scale-z":I()}],"scale-3d":["scale-3d"],skew:[{skew:F()}],"skew-x":[{"skew-x":F()}],"skew-y":[{"skew-y":F()}],transform:[{transform:[Qu,Hu,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qu,Hu]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qu,Hu]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Tu,Ju,Uu,qu]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function fh(...e){return ph(iu(e))}const mh=ou("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function _h(e){var t=e,{className:r,variant:n,size:i,asChild:a=!1}=t,s=__objRest(t,["className","variant","size","asChild"]);const o=a?Zd:"button";return bd.jsx(o,__spreadValues({"data-slot":"button",className:fh(mh({variant:n,size:i,className:r}))},s))}const vh=ou("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function gh(e){var t=e,{className:r,variant:n,asChild:i=!1}=t,a=__objRest(t,["className","variant","asChild"]);const s=i?Zd:"span";return bd.jsx(s,__spreadValues({"data-slot":"badge",className:fh(vh({variant:n}),r)},a))}function yh(e){const[t,r]=xd.useState(!1),n=e,{src:i,alt:a,style:s,className:o}=n,l=__objRest(n,["src","alt","style","className"]);return t?bd.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${null!=o?o:""}`,style:s,children:bd.jsx("div",{className:"flex items-center justify-center w-full h-full",children:bd.jsx("img",__spreadProps(__spreadValues({src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==",alt:"Error loading image"},l),{"data-original-url":i}))})}):bd.jsx("img",__spreadProps(__spreadValues({src:i,alt:a,className:o,style:s},l),{onError:()=>{r(!0)}}))}
/**
   * @license lucide-react v0.487.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */const bh=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},xh=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();
/**
   * @license lucide-react v0.487.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */
var wh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
   * @license lucide-react v0.487.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */const kh=xd.forwardRef((e,t)=>{var r=e,{color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c}=r,d=__objRest(r,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return xd.createElement("svg",__spreadValues(__spreadProps(__spreadValues({ref:t},wh),{width:i,height:i,stroke:n,strokeWidth:s?24*Number(a)/Number(i):a,className:xh("lucide",o)}),d),[...c.map(([e,t])=>xd.createElement(e,t)),...Array.isArray(l)?l:[l]])}),Sh=(e,t)=>{const r=xd.forwardRef((r,n)=>{var i,a=r,{className:s}=a,o=__objRest(a,["className"]);return xd.createElement(kh,__spreadValues({ref:n,iconNode:t,className:xh(`lucide-${i=bh(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s)},o))});return r.displayName=bh(e),r},Ah=Sh("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),Mh=Sh("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Ch=Sh("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Nh=Sh("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Eh=Sh("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),jh=Sh("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Gh=Sh("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ph=Sh("circle-play",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Rh=Sh("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Th=Sh("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Lh=Sh("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Dh=Sh("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),Ih=Sh("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16.2V21h-4.8",key:"1hrera"}],["path",{d:"M21 7.8V3h-4.8",key:"ul1q53"}],["path",{d:"M3 16.2V21h4.8",key:"1x04uo"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 7.8V3h4.8",key:"1ijppm"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]),Fh=Sh("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),Oh=Sh("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),zh=Sh("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Wh=Sh("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),$h=Sh("flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]),Bh=Sh("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Vh=Sh("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Hh=Sh("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Uh=Sh("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),qh=Sh("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Xh=Sh("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),Kh=Sh("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Yh=Sh("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Qh=Sh("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Jh=Sh("leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Zh=Sh("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),ep=Sh("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),tp=Sh("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),rp=Sh("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),np=Sh("maximize-2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),ip=Sh("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),ap=Sh("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),sp=Sh("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),op=Sh("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),lp=Sh("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),cp=Sh("palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),dp=Sh("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),up=Sh("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),hp=Sh("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),pp=Sh("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),fp=Sh("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),mp=Sh("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),_p=Sh("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),vp=Sh("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),gp=Sh("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),yp=Sh("skip-back",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]),bp=Sh("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),xp=Sh("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),wp=Sh("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),kp=Sh("sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),Sp=Sh("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),Ap=Sh("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Mp=Sh("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Cp=Sh("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),Np=Sh("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),Ep=Sh("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jp=Sh("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Gp=Sh("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Pp=Sh("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);
/**
   * @license lucide-react v0.487.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */function Rp({title:e,image:t,caption:r,credit:n,onDownload:i,metadata:a}){const{theme:s}=qd(),[o,l]=xd.useState(!1),[c,d]=xd.useState(!1),u=()=>{l(!1),document.body.style.overflow="auto"};return bd.jsx("section",{className:"py-12 px-6 pb-20",style:{backgroundColor:s.colors.backgroundSecondary},children:bd.jsxs("div",{className:"max-w-5xl mx-auto",children:[bd.jsxs("div",{className:"text-center mb-12",children:[bd.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[bd.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{backgroundColor:s.colors.primary},children:bd.jsx(Yh,{className:"w-6 h-6",style:{color:s.colors.surface}})}),bd.jsx(gh,{className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:s.colors.primaryLight,color:s.colors.primary},children:"Single Image"})]}),bd.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",style:{color:s.colors.textPrimary},children:e}),r&&bd.jsx("p",{className:"text-lg mb-2 max-w-2xl mx-auto",style:{color:s.colors.textSecondary},children:r}),n&&bd.jsxs("p",{className:"text-sm font-medium",style:{color:s.colors.textMuted},children:["Credit: ",n]}),bd.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-8",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>d(!c),className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:s.colors.border,backgroundColor:s.colors.surface,color:s.colors.textPrimary},children:[bd.jsx(Kh,{className:"w-4 h-4 mr-2 transition-colors "+(c?"fill-current":""),style:{color:c?s.colors.error:s.colors.textSecondary}}),c?"Liked":"Like"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:s.colors.border,backgroundColor:s.colors.surface,color:s.colors.textPrimary},children:[bd.jsx(gp,{className:"w-4 h-4 mr-2",style:{color:s.colors.textSecondary}}),"Share"]}),bd.jsxs(_h,{size:"sm",onClick:i,className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{backgroundColor:s.colors.primary,color:s.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),bd.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[bd.jsxs("div",{className:"relative cursor-pointer overflow-hidden rounded-3xl shadow-2xl hover:shadow-3xl transform hover:scale-[1.01] transition-all duration-500 group",onClick:()=>{l(!0),document.body.style.overflow="hidden"},style:{backgroundColor:s.colors.surface},children:[bd.jsx(yh,{src:t,alt:e,className:"w-full h-auto max-h-[70vh] object-contain"}),bd.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:bd.jsxs("div",{className:"flex items-center space-x-4",children:[bd.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center backdrop-blur-md shadow-2xl transform group-hover:scale-110 transition-all duration-300",style:{backgroundColor:s.colors.surface+"90"},children:bd.jsx(Gp,{className:"w-8 h-8",style:{color:s.colors.textPrimary}})}),bd.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center backdrop-blur-md shadow-2xl transform group-hover:scale-110 transition-all duration-300",style:{backgroundColor:s.colors.surface+"90"},children:bd.jsx(ip,{className:"w-8 h-8",style:{color:s.colors.textPrimary}})})]})})]}),a&&bd.jsxs("div",{className:"mt-6 p-4 rounded-2xl shadow-md",style:{backgroundColor:s.colors.surface},children:[bd.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[bd.jsx(Qh,{className:"w-5 h-5",style:{color:s.colors.primary}}),bd.jsx("span",{className:"font-semibold text-sm",style:{color:s.colors.textPrimary},children:"Image Details"})]}),bd.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[bd.jsxs("div",{children:[bd.jsx("span",{className:"font-medium",style:{color:s.colors.textSecondary},children:"Size:"}),bd.jsx("span",{className:"ml-2",style:{color:s.colors.textPrimary},children:a.size})]}),bd.jsxs("div",{children:[bd.jsx("span",{className:"font-medium",style:{color:s.colors.textSecondary},children:"Format:"}),bd.jsx("span",{className:"ml-2",style:{color:s.colors.textPrimary},children:a.format})]}),a.dimensions&&bd.jsxs("div",{children:[bd.jsx("span",{className:"font-medium",style:{color:s.colors.textSecondary},children:"Dimensions:"}),bd.jsx("span",{className:"ml-2",style:{color:s.colors.textPrimary},children:a.dimensions})]})]})]})]}),o&&bd.jsxs("div",{className:"fixed inset-0 z-50",style:{backgroundColor:s.colors.overlay},onClick:u,onKeyDown:e=>{"Escape"===e.key&&u()},tabIndex:0,children:[bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed top-6 right-6 z-60 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm hover:scale-110 transition-transform duration-200",onClick:u,style:{backgroundColor:s.colors.surface+"20"},children:bd.jsx(Ep,{className:"w-6 h-6",style:{color:s.colors.surface}})}),bd.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:bd.jsx("img",{src:t,alt:e,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:e=>e.stopPropagation()})}),(r||n)&&bd.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 max-w-md text-center px-6 py-4 rounded-2xl backdrop-blur-md shadow-lg",style:{backgroundColor:s.colors.surface+"90",color:s.colors.textPrimary},children:[r&&bd.jsx("p",{className:"font-medium mb-1",children:r}),n&&bd.jsxs("p",{className:"text-sm",style:{color:s.colors.textSecondary},children:["Credit: ",n]})]})]})]})})}function Tp({title:e,images:t,onDownload:r,metadata:n}){const{theme:i}=qd(),[a,s]=xd.useState(null),[o,l]=xd.useState(!1),c=()=>{s(null),document.body.style.overflow="auto"},d=e=>{if(null===a)return;const r="prev"===e?(a-1+t.length)%t.length:(a+1)%t.length;s(r)};return bd.jsx("section",{className:"py-12 px-6 pb-20",style:{backgroundColor:i.colors.backgroundSecondary},children:bd.jsxs("div",{className:"max-w-6xl mx-auto",children:[bd.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-12",children:[bd.jsxs("div",{className:"mb-6 lg:mb-0",children:[bd.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[bd.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{backgroundColor:i.colors.primary},children:bd.jsx(Yh,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsxs(gh,{className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:i.colors.primaryLight,color:i.colors.primary},children:[t.length," Images • Grid Gallery"]})]}),bd.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2",style:{color:i.colors.textPrimary},children:e}),n&&bd.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[bd.jsxs("span",{style:{color:i.colors.textSecondary},children:["Size: ",n.size]}),bd.jsxs("span",{style:{color:i.colors.textSecondary},children:["Format: ",n.format]}),n.dimensions&&bd.jsxs("span",{style:{color:i.colors.textSecondary},children:["Dimensions: ",n.dimensions]})]})]}),bd.jsxs("div",{className:"flex items-center space-x-4",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>l(!o),className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:i.colors.border,backgroundColor:i.colors.surface,color:i.colors.textPrimary},children:[bd.jsx(Kh,{className:"w-4 h-4 mr-2 transition-colors "+(o?"fill-current":""),style:{color:o?i.colors.error:i.colors.textSecondary}}),o?"Liked":"Like"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:i.colors.border,backgroundColor:i.colors.surface,color:i.colors.textPrimary},children:[bd.jsx(gp,{className:"w-4 h-4 mr-2",style:{color:i.colors.textSecondary}}),"Share"]}),bd.jsxs(_h,{size:"sm",onClick:r,className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{backgroundColor:i.colors.primary,color:i.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download All"]})]})]}),bd.jsx("div",{className:`grid ${u=t.length,2===u?"grid-cols-2":u<=4?"grid-cols-2 lg:grid-cols-2":"grid-cols-2 md:grid-cols-3"} gap-6`,children:t.map((e,t)=>bd.jsx("div",{className:"cursor-pointer overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transform hover:scale-[1.02] transition-all duration-300 group aspect-square",onClick:()=>(e=>{s(e),document.body.style.overflow="hidden"})(t),style:{backgroundColor:i.colors.surface},children:bd.jsxs("div",{className:"relative h-full",children:[bd.jsx(yh,{src:e,alt:`Image ${t+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),bd.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:bd.jsxs("div",{className:"flex items-center space-x-2",children:[bd.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-sm shadow-xl",style:{backgroundColor:i.colors.surface+"90"},children:bd.jsx(Gp,{className:"w-6 h-6",style:{color:i.colors.textPrimary}})}),bd.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center backdrop-blur-sm shadow-xl",style:{backgroundColor:i.colors.surface+"90"},children:bd.jsx(ip,{className:"w-6 h-6",style:{color:i.colors.textPrimary}})})]})}),bd.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 rounded-lg text-xs font-bold backdrop-blur-sm",style:{backgroundColor:i.colors.overlay,color:i.colors.surface},children:t+1})]})},t))}),null!==a&&bd.jsxs("div",{className:"fixed inset-0 z-50",style:{backgroundColor:i.colors.overlay},onClick:c,onKeyDown:e=>{"Escape"===e.key&&c(),"ArrowLeft"===e.key&&d("prev"),"ArrowRight"===e.key&&d("next")},tabIndex:0,children:[bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed top-6 right-6 z-60 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm hover:scale-110 transition-transform duration-200",onClick:c,style:{backgroundColor:i.colors.surface+"20"},children:bd.jsx(Ep,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed left-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),d("prev")},disabled:0===a,style:{backgroundColor:i.colors.surface+"20"},children:bd.jsx(jh,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed right-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),d("next")},disabled:a===t.length-1,style:{backgroundColor:i.colors.surface+"20"},children:bd.jsx(Gh,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:bd.jsx("img",{src:t[a],alt:`Image ${a+1}`,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:e=>e.stopPropagation()})}),bd.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2 rounded-xl font-medium backdrop-blur-sm shadow-lg z-50",style:{backgroundColor:i.colors.surface+"90",color:i.colors.textPrimary},children:[a+1," of ",t.length]})]})]})});var u}function Lp({title:e,images:t,onDownload:r,metadata:n}){const{theme:i}=qd(),[a,s]=xd.useState(null),[o,l]=xd.useState(!1),[c,d]=xd.useState("masonry"),u=()=>{s(null),document.body.style.overflow="auto"},h=e=>{if(null===a)return;const r="prev"===e?(a-1+t.length)%t.length:(a+1)%t.length;s(r)};return bd.jsx("section",{className:"py-12 px-6 pb-20",style:{backgroundColor:i.colors.backgroundSecondary},children:bd.jsxs("div",{className:"max-w-7xl mx-auto",children:[bd.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-12",children:[bd.jsxs("div",{className:"mb-6 lg:mb-0",children:[bd.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[bd.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{backgroundColor:i.colors.primary},children:bd.jsx(Yh,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsxs(gh,{className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:i.colors.primaryLight,color:i.colors.primary},children:[t.length," Images • Masonry Gallery"]})]}),bd.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2",style:{color:i.colors.textPrimary},children:e}),n&&bd.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[bd.jsxs("span",{style:{color:i.colors.textSecondary},children:["Size: ",n.size]}),bd.jsxs("span",{style:{color:i.colors.textSecondary},children:["Format: ",n.format]}),n.dimensions&&bd.jsxs("span",{style:{color:i.colors.textSecondary},children:["Dimensions: ",n.dimensions]})]})]}),bd.jsxs("div",{className:"flex items-center space-x-4",children:[bd.jsxs("div",{className:"flex items-center rounded-xl p-1 shadow-md",style:{backgroundColor:i.colors.surface},children:[bd.jsx(_h,{variant:"masonry"===c?"default":"ghost",size:"sm",onClick:()=>d("masonry"),className:"rounded-lg",style:"masonry"===c?{backgroundColor:i.colors.primary,color:i.colors.surface}:{},children:bd.jsx(ep,{className:"w-4 h-4"})}),bd.jsx(_h,{variant:"grid"===c?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"rounded-lg",style:"grid"===c?{backgroundColor:i.colors.primary,color:i.colors.surface}:{},children:bd.jsx(Xh,{className:"w-4 h-4"})})]}),bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>l(!o),className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:i.colors.border,backgroundColor:i.colors.surface,color:i.colors.textPrimary},children:[bd.jsx(Kh,{className:"w-4 h-4 mr-2 transition-colors "+(o?"fill-current":""),style:{color:o?i.colors.error:i.colors.textSecondary}}),o?"Liked":"Like"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:i.colors.border,backgroundColor:i.colors.surface,color:i.colors.textPrimary},children:[bd.jsx(gp,{className:"w-4 h-4 mr-2",style:{color:i.colors.textSecondary}}),"Share"]}),bd.jsxs(_h,{size:"sm",onClick:r,className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{backgroundColor:i.colors.primary,color:i.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download All"]})]})]}),bd.jsx("div",{className:"gap-4 transition-all duration-500 "+("masonry"===c?"columns-2 md:columns-3 lg:columns-4":"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4"),children:t.map((e,t)=>bd.jsx("div",{className:"cursor-pointer overflow-hidden rounded-2xl shadow-md hover:shadow-2xl transform hover:scale-[1.02] transition-all duration-300 group "+("masonry"===c?"break-inside-avoid mb-4":"aspect-square"),onClick:()=>(e=>{s(e),document.body.style.overflow="hidden"})(t),style:{backgroundColor:i.colors.surface},children:bd.jsxs("div",{className:"relative",children:[bd.jsx(yh,{src:e,alt:`Image ${t+1}`,className:`w-full ${"grid"===c?"h-full object-cover":"h-auto"} transition-transform duration-300 group-hover:scale-110`}),bd.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:bd.jsxs("div",{className:"flex items-center space-x-2",children:[bd.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm",style:{backgroundColor:i.colors.surface+"90"},children:bd.jsx(Gp,{className:"w-5 h-5",style:{color:i.colors.textPrimary}})}),bd.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm",style:{backgroundColor:i.colors.surface+"90"},children:bd.jsx(ip,{className:"w-5 h-5",style:{color:i.colors.textPrimary}})})]})}),bd.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 rounded-lg text-xs font-medium backdrop-blur-sm",style:{backgroundColor:i.colors.overlay,color:i.colors.surface},children:t+1})]})},t))}),null!==a&&bd.jsxs("div",{className:"fixed inset-0 z-50",style:{backgroundColor:i.colors.overlay},onClick:u,onKeyDown:e=>{"Escape"===e.key&&u(),"ArrowLeft"===e.key&&h("prev"),"ArrowRight"===e.key&&h("next")},tabIndex:0,children:[bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed top-6 right-6 z-60 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm hover:scale-110 transition-transform duration-200",onClick:u,style:{backgroundColor:i.colors.surface+"20"},children:bd.jsx(Ep,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed left-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),h("prev")},disabled:0===a,style:{backgroundColor:i.colors.surface+"20"},children:bd.jsx(jh,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed right-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),h("next")},disabled:a===t.length-1,style:{backgroundColor:i.colors.surface+"20"},children:bd.jsx(Gh,{className:"w-6 h-6",style:{color:i.colors.surface}})}),bd.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:bd.jsx("img",{src:t[a],alt:`Image ${a+1}`,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:e=>e.stopPropagation()})}),bd.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2 rounded-xl font-medium backdrop-blur-sm shadow-lg z-50",style:{backgroundColor:i.colors.surface+"90",color:i.colors.textPrimary},children:[a+1," of ",t.length]})]})]})})}function Dp({title:e,images:t,totalImages:r=t.length,onDownload:n,metadata:i}){const{theme:a}=qd(),[s,o]=xd.useState(null),[l,c]=xd.useState(!1),[d,u]=xd.useState(20),[h,p]=xd.useState(""),f=xd.useRef(null),m=()=>{o(null),document.body.style.overflow="auto"},_=e=>{if(null===s)return;const r="prev"===e?(s-1+t.length)%t.length:(s+1)%t.length;o(r)},v=()=>{u(e=>Math.min(e+20,t.length))},g=t.filter((e,t)=>t.toString().includes(h)||`Image ${t+1}`.toLowerCase().includes(h.toLowerCase())),y=g.slice(0,d);return xd.useEffect(()=>{const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&d<t.length&&v()})},{threshold:.1});return f.current&&e.observe(f.current),()=>e.disconnect()},[d,t.length]),bd.jsx("section",{className:"py-12 px-6 pb-20",style:{backgroundColor:a.colors.backgroundSecondary},children:bd.jsxs("div",{className:"max-w-7xl mx-auto",children:[bd.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-12",children:[bd.jsxs("div",{className:"mb-6 lg:mb-0",children:[bd.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[bd.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{backgroundColor:a.colors.primary},children:bd.jsx(Yh,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsxs(gh,{className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:a.colors.primaryLight,color:a.colors.primary},children:[r," Images • Lightbox Gallery"]})]}),bd.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2",style:{color:a.colors.textPrimary},children:e}),i&&bd.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Size: ",i.size]}),bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Format: ",i.format]}),i.dimensions&&bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Dimensions: ",i.dimensions]})]})]}),bd.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[bd.jsxs("div",{className:"relative",children:[bd.jsx(_p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:a.colors.textSecondary}}),bd.jsx("input",{type:"text",placeholder:"Search images...",value:h,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-2 rounded-xl border text-sm w-full sm:w-48",style:{borderColor:a.colors.border,backgroundColor:a.colors.surface,color:a.colors.textPrimary}})]}),bd.jsxs("div",{className:"flex items-center space-x-3",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>c(!l),className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border},children:[bd.jsx(Kh,{className:"w-4 h-4 mr-2 transition-colors "+(l?"fill-current":""),style:{color:l?a.colors.error:a.colors.textSecondary}}),l?"Liked":"Like"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border},children:[bd.jsx(gp,{className:"w-4 h-4 mr-2"}),"Share"]}),bd.jsxs(_h,{size:"sm",onClick:n,className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{backgroundColor:a.colors.primary,color:a.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download All"]})]})]})]}),bd.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[bd.jsxs("div",{className:"px-4 py-2 rounded-xl text-sm",style:{backgroundColor:a.colors.surface},children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:"Showing: "}),bd.jsxs("span",{className:"font-semibold",style:{color:a.colors.textPrimary},children:[y.length," of ",g.length]})]}),h&&bd.jsx("div",{className:"px-4 py-2 rounded-xl text-sm",style:{backgroundColor:a.colors.primaryLight},children:bd.jsxs("span",{style:{color:a.colors.primary},children:['Search results for: "',h,'"']})})]}),bd.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 lg:grid-cols-8 xl:grid-cols-10 gap-3",children:y.map((e,t)=>bd.jsx("div",{className:"cursor-pointer overflow-hidden rounded-xl shadow-md hover:shadow-xl transform hover:scale-105 transition-all duration-300 group aspect-square",onClick:()=>(e=>{o(e),document.body.style.overflow="hidden"})(t),style:{backgroundColor:a.colors.surface},children:bd.jsxs("div",{className:"relative h-full",children:[bd.jsx(yh,{src:e,alt:`Image ${t+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"}),bd.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:bd.jsx(Gp,{className:"w-6 h-6 text-white drop-shadow-lg"})}),bd.jsx("div",{className:"absolute bottom-1 right-1 px-1.5 py-0.5 rounded text-xs font-bold backdrop-blur-sm",style:{backgroundColor:a.colors.overlay,color:a.colors.surface},children:t+1})]})},t))}),d<g.length&&bd.jsx("div",{className:"text-center mt-12",ref:f,children:bd.jsxs(_h,{size:"lg",variant:"outline",onClick:v,className:"rounded-2xl px-8 py-4 shadow-lg transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border},children:["Load ",Math.min(20,g.length-d)," More Images"]})}),h&&0===g.length&&bd.jsxs("div",{className:"text-center py-12",children:[bd.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:a.colors.backgroundTertiary},children:bd.jsx(_p,{className:"w-8 h-8",style:{color:a.colors.textSecondary}})}),bd.jsx("p",{className:"text-lg mb-2",style:{color:a.colors.textPrimary},children:"No images found"}),bd.jsx("p",{style:{color:a.colors.textSecondary},children:"Try searching with different keywords"})]}),null!==s&&bd.jsxs("div",{className:"fixed inset-0 z-50",style:{backgroundColor:a.colors.overlay},onClick:m,onKeyDown:e=>{"Escape"===e.key&&m(),"ArrowLeft"===e.key&&_("prev"),"ArrowRight"===e.key&&_("next")},tabIndex:0,children:[bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed top-6 right-6 z-60 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm hover:scale-110 transition-transform duration-200",onClick:m,style:{backgroundColor:a.colors.surface+"20"},children:bd.jsx(Ep,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed left-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),_("prev")},disabled:0===s,style:{backgroundColor:a.colors.surface+"20"},children:bd.jsx(jh,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed right-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),_("next")},disabled:s===t.length-1,style:{backgroundColor:a.colors.surface+"20"},children:bd.jsx(Gh,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:bd.jsx("img",{src:t[s],alt:`Image ${s+1}`,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:e=>e.stopPropagation()})}),bd.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 px-6 py-3 rounded-2xl font-medium backdrop-blur-md shadow-xl text-center z-50",style:{backgroundColor:a.colors.surface+"90",color:a.colors.textPrimary},children:[bd.jsxs("div",{className:"font-semibold",children:[s+1," of ",t.length]}),bd.jsx("div",{className:"text-sm mt-1",style:{color:a.colors.textSecondary},children:"Use ← → keys to navigate"})]})]})]})})}function Ip({title:e,images:t,totalImages:r=t.length,onDownload:n,metadata:i}){const{theme:a}=qd(),[s,o]=xd.useState(null),[l,c]=xd.useState("masonry"),[d,u]=xd.useState(!1),h=()=>{o(null),document.body.style.overflow="auto"},p=e=>{if(null===s)return;const r="prev"===e?(s-1+t.length)%t.length:(s+1)%t.length;o(r)};return bd.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6 pb-12 sm:pb-20",style:{backgroundColor:a.colors.backgroundSecondary},children:bd.jsxs("div",{className:"max-w-7xl mx-auto",children:[bd.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-8 sm:mb-12",children:[bd.jsxs("div",{className:"mb-4 sm:mb-6 lg:mb-0",children:[bd.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-3",children:[bd.jsx("div",{className:"flex items-center space-x-3",children:bd.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{backgroundColor:a.colors.primary},children:bd.jsx(Yh,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:a.colors.surface}})})}),bd.jsxs(gh,{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium w-fit",style:{backgroundColor:a.colors.primaryLight,color:a.colors.primary},children:[r," Images"]})]}),bd.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mb-2 px-1",style:{color:a.colors.textPrimary},children:e}),i&&bd.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Size: ",i.size]}),bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Format: ",i.format]}),i.dimensions&&bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Dimensions: ",i.dimensions]})]})]}),bd.jsxs("div",{className:"flex items-center space-x-4",children:[bd.jsxs("div",{className:"flex items-center rounded-xl p-1 shadow-md",style:{backgroundColor:a.colors.surface},children:[bd.jsx(_h,{variant:"masonry"===l?"default":"ghost",size:"sm",onClick:()=>c("masonry"),className:"rounded-lg",style:"masonry"===l?{backgroundColor:a.colors.primary,color:a.colors.surface}:{},children:bd.jsx(ep,{className:"w-4 h-4"})}),bd.jsx(_h,{variant:"grid"===l?"default":"ghost",size:"sm",onClick:()=>c("grid"),className:"rounded-lg",style:"grid"===l?{backgroundColor:a.colors.primary,color:a.colors.surface}:{},children:bd.jsx(Xh,{className:"w-4 h-4"})})]}),bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>u(!d),className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border,backgroundColor:a.colors.surface,color:a.colors.textPrimary},children:[bd.jsx(Kh,{className:"w-4 h-4 mr-2 transition-colors "+(d?"fill-current":""),style:{color:d?a.colors.error:a.colors.textSecondary}}),d?"Liked":"Like"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border,backgroundColor:a.colors.surface,color:a.colors.textPrimary},children:[bd.jsx(gp,{className:"w-4 h-4 mr-2",style:{color:a.colors.textSecondary}}),"Share"]}),bd.jsxs(_h,{size:"sm",onClick:n,className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{backgroundColor:a.colors.primary,color:a.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download All"]})]})]}),bd.jsx("div",{className:"gap-4 transition-all duration-500 "+("masonry"===l?"columns-2 md:columns-3 lg:columns-4 xl:columns-5":"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5"),children:t.map((e,t)=>bd.jsx("div",{className:"cursor-pointer overflow-hidden rounded-2xl shadow-md hover:shadow-2xl transform hover:scale-[1.02] transition-all duration-300 group "+("masonry"===l?"break-inside-avoid mb-4":"aspect-square"),onClick:()=>(e=>{o(e),document.body.style.overflow="hidden"})(t),style:{backgroundColor:a.colors.surface},children:bd.jsxs("div",{className:"relative",children:[bd.jsx(yh,{src:e,alt:`Image ${t+1}`,className:`w-full ${"grid"===l?"h-full object-cover":"h-auto"} transition-transform duration-300 group-hover:scale-110`}),bd.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:bd.jsxs("div",{className:"flex items-center space-x-2",children:[bd.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm",style:{backgroundColor:a.colors.surface+"90"},children:bd.jsx(Gp,{className:"w-5 h-5",style:{color:a.colors.textPrimary}})}),bd.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-sm",style:{backgroundColor:a.colors.surface+"90"},children:bd.jsx(ip,{className:"w-5 h-5",style:{color:a.colors.textPrimary}})})]})}),bd.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 rounded-lg text-xs font-medium backdrop-blur-sm",style:{backgroundColor:a.colors.overlay,color:a.colors.surface},children:t+1})]})},t))}),r>t.length&&bd.jsx("div",{className:"text-center mt-12",children:bd.jsxs(_h,{size:"lg",variant:"outline",className:"rounded-2xl px-8 py-4 shadow-lg transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border},children:["Load ",Math.min(20,r-t.length)," More Images"]})}),null!==s&&bd.jsxs("div",{className:"fixed inset-0 z-50",style:{backgroundColor:a.colors.overlay},onClick:h,onKeyDown:e=>{"Escape"===e.key&&h(),"ArrowLeft"===e.key&&p("prev"),"ArrowRight"===e.key&&p("next")},tabIndex:0,children:[bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed top-6 right-6 z-60 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm hover:scale-110 transition-transform duration-200",onClick:h,style:{backgroundColor:a.colors.surface+"20"},children:bd.jsx(Ep,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed left-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),p("prev")},disabled:0===s,style:{backgroundColor:a.colors.surface+"20"},children:bd.jsx(jh,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"fixed right-6 top-1/2 -translate-y-1/2 w-12 h-12 rounded-full shadow-lg backdrop-blur-sm disabled:opacity-30 hover:scale-110 transition-all duration-200",onClick:e=>{e.stopPropagation(),p("next")},disabled:s===t.length-1,style:{backgroundColor:a.colors.surface+"20"},children:bd.jsx(Gh,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:bd.jsx("img",{src:t[s],alt:`Image ${s+1}`,className:"max-w-full max-h-full object-contain rounded-2xl shadow-2xl",onClick:e=>e.stopPropagation()})}),bd.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2 rounded-xl font-medium backdrop-blur-sm shadow-lg z-50",style:{backgroundColor:a.colors.surface+"90",color:a.colors.textPrimary},children:[s+1," of ",t.length]})]})]})})}const Fp=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),Op=[.001,0,0,.001,0,0],zp=1.35,Wp=1,$p=2,Bp=4,Vp=16,Hp=32,Up=64,qp=128,Xp=256,Kp={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yp="pdfjs_internal_editor_",Qp={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Jp={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Zp={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ef=0,tf=1,rf=2,nf=3,af=3,sf=4,of={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},lf={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},cf=1,df=2,uf=3,hf=4,pf=5,ff={ERRORS:0,WARNINGS:1,INFOS:5},mf={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},_f=0,vf=1,gf=2,yf=3,bf={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let xf=ff.WARNINGS;function wf(){return xf}function kf(e){xf>=ff.INFOS&&console.log(`Info: ${e}`)}function Sf(e){xf>=ff.WARNINGS&&console.log(`Warning: ${e}`)}function Af(e){throw new Error(e)}function Mf(e,t){e||Af(t)}function Cf(e,t=null,r=null){if(!e)return null;if(r&&"string"==typeof e){if(r.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null==t?void 0:t.length)>=2&&(e=`http://${e}`)}if(r.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(i){}}const n=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null==e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n)?n:null}function Nf(e,t,r=!1){const n=URL.parse(e);return n?(n.hash=t,n.href):r&&Cf(e,"http://example.com")?e.split("#",1)[0]+""+(t?`#${t}`:""):""}function Ef(e,t,r,n=!1){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const jf=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class Gf extends jf{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Pf extends jf{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Rf extends jf{constructor(e){super(e,"InvalidPDFException")}}class Tf extends jf{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class Lf extends jf{constructor(e){super(e,"FormatError")}}class Df extends jf{constructor(e){super(e,"AbortException")}}function If(e){"object"==typeof e&&void 0!==(null==e?void 0:e.length)||Af("Invalid argument for bytesToString");const t=e.length,r=8192;if(t<r)return String.fromCharCode.apply(null,e);const n=[];for(let i=0;i<t;i+=r){const a=Math.min(i+r,t),s=e.subarray(i,a);n.push(String.fromCharCode.apply(null,s))}return n.join("")}function Ff(e){"string"!=typeof e&&Af("Invalid argument for stringToBytes");const t=e.length,r=new Uint8Array(t);for(let n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}class Of{static get isLittleEndian(){return Ef(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return Ef(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return Ef(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Ef(this,"isImageDecoderSupported","undefined"!=typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return Ef(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Ef(this,"isCSSRoundSupported",null==(t=null==(e=globalThis.CSS)?void 0:e.supports)?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const zf=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class Wf{static makeHexColor(e,t,r){return`#${zf[e]}${zf[t]}${zf[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,r=0){const n=e[r],i=e[r+1];e[r]=n*t[0]+i*t[2]+t[4],e[r+1]=n*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const n=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5];for(let c=0;c<6;c+=2){const t=e[r+c],d=e[r+c+1];e[r+c]=t*n+d*a+o,e[r+c+1]=t*i+d*s+l}}static applyInverseTransform(e,t){const r=e[0],n=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-n*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-r*t[1]+n*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,r){const n=t[0],i=t[1],a=t[2],s=t[3],o=t[4],l=t[5],c=e[0],d=e[1],u=e[2],h=e[3];let p=n*c+o,f=p,m=n*u+o,_=m,v=s*d+l,g=v,y=s*h+l,b=y;if(0!==i||0!==a){const e=i*c,t=i*u,r=a*d,n=a*h;p+=r,_+=r,m+=n,f+=n,v+=e,b+=e,y+=t,g+=t}r[0]=Math.min(r[0],p,m,f,_),r[1]=Math.min(r[1],v,y,g,b),r[2]=Math.max(r[2],p,m,f,_),r[3]=Math.max(r[3],v,y,g,b)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],n=e[1],i=e[2],a=e[3],s=__pow(r,2)+__pow(n,2),o=r*i+n*a,l=__pow(i,2)+__pow(a,2),c=(s+l)/2,d=Math.sqrt(__pow(c,2)-(s*l-__pow(o,2)));t[0]=Math.sqrt(c+d||1),t[1]=Math.sqrt(c-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),n=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>n)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>a?null:[r,i,n,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,n,i){i[0]=Math.min(i[0],e,r),i[1]=Math.min(i[1],t,n),i[2]=Math.max(i[2],e,r),i[3]=Math.max(i[3],t,n)}static bezierBoundingBox(e,r,i,a,s,o,l,c,d){d[0]=Math.min(d[0],e,l),d[1]=Math.min(d[1],r,c),d[2]=Math.max(d[2],e,l),d[3]=Math.max(d[3],r,c),__privateMethod(this,t,n).call(this,e,i,s,l,r,a,o,c,3*(3*(i-s)-e+l),6*(e-2*i+s),3*(i-e),d),__privateMethod(this,t,n).call(this,e,i,s,l,r,a,o,c,3*(3*(a-o)-r+c),6*(r-2*a+o),3*(a-r),d)}}t=new WeakSet,r=function(e,t,r,n,i,a,s,o,l,c){if(l<=0||l>=1)return;const d=1-l,u=l*l,h=u*l,p=d*(d*(d*e+3*l*t)+3*u*r)+h*n,f=d*(d*(d*i+3*l*a)+3*u*s)+h*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)},n=function(e,n,i,a,s,o,l,c,d,u,h,p){if(Math.abs(d)<1e-12)return void(Math.abs(u)>=1e-12&&__privateMethod(this,t,r).call(this,e,n,i,a,s,o,l,c,-h/u,p));const f=__pow(u,2)-4*h*d;if(f<0)return;const m=Math.sqrt(f),_=2*d;__privateMethod(this,t,r).call(this,e,n,i,a,s,o,l,c,(-u+m)/_,p),__privateMethod(this,t,r).call(this,e,n,i,a,s,o,l,c,(-u-m)/_,p)},__privateAdd(Wf,t);let $f=null,Bf=null;function Vf(e){return $f||($f=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Bf=new Map([["ﬅ","ſt"]])),e.replaceAll($f,(e,t,r)=>t?t.normalize("NFKC"):Bf.get(r))}function Hf(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),If(e)}const Uf="pdfjs_internal_id_";function qf(e,t,r){return Math.min(Math.max(e,t),r)}function Xf(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(If(e))}"function"!=typeof Promise.try&&(Promise.try=function(e,...t){return new Promise(r=>{r(e(...t))})}),"function"!=typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});const Kf="http://www.w3.org/2000/svg",Yf=class{};__publicField(Yf,"CSS",96),__publicField(Yf,"PDF",72),__publicField(Yf,"PDF_TO_CSS_UNITS",Yf.CSS/Yf.PDF);let Qf=Yf;function Jf(e,t="text"){return __async(this,null,function*(){if(sm(e,document.baseURI)){const r=yield fetch(e);if(!r.ok)throw new Error(r.statusText);switch(t){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)n(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void r(i.response)}r(i.responseText)}},i.send(null)})})}class Zf{constructor({viewBox:e,userUnit:t,scale:r,rotation:n,offsetX:i=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=n,this.offsetX=i,this.offsetY=a,r*=t;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,d,u,h,p,f,m,_;switch((n%=360)<0&&(n+=360),n){case 180:c=-1,d=0,u=0,h=1;break;case 90:c=0,d=1,u=1,h=0;break;case 270:c=0,d=-1,u=-1,h=0;break;case 0:c=1,d=0,u=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(u=-u,h=-h),0===c?(p=Math.abs(l-e[1])*r+i,f=Math.abs(o-e[0])*r+a,m=(e[3]-e[1])*r,_=(e[2]-e[0])*r):(p=Math.abs(o-e[0])*r+i,f=Math.abs(l-e[1])*r+a,m=(e[2]-e[0])*r,_=(e[3]-e[1])*r),this.transform=[c*r,d*r,u*r,h*r,p-c*r*o-u*r*l,f-d*r*o-h*r*l],this.width=m,this.height=_}get rawDims(){const e=this.viewBox;return Ef(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:n=this.offsetY,dontFlip:i=!1}={}){return new Zf({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:n,dontFlip:i})}convertToViewportPoint(e,t){const r=[e,t];return Wf.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Wf.applyTransform(t,this.transform);const r=[e[2],e[3]];return Wf.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Wf.applyInverseTransform(r,this.transform),r}}class em extends jf{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function tm(e){const t=e.length;let r=0;for(;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}function rm(e){return"string"==typeof e&&/\.pdf$/i.test(e)}function nm(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function im(e,t="document.pdf"){if("string"!=typeof e)return t;if(tm(e))return Sf('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const r=(e=>{try{return new URL(e)}catch(t){try{return new URL(decodeURIComponent(e))}catch(r){try{return new URL(e,"https://foo.bar")}catch(n){try{return new URL(decodeURIComponent(e),"https://foo.bar")}catch(i){return null}}}}})(e);if(!r)return t;const n=e=>{try{let t=decodeURIComponent(e);return t.includes("/")?(t=t.split("/").at(-1),t.test(/^\.pdf$/i)?t:e):t}catch(t){return e}},i=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(i.test(a))return n(a);if(r.searchParams.size>0){const e=Array.from(r.searchParams.values()).reverse();for(const r of e)if(i.test(r))return n(r);const t=Array.from(r.searchParams.keys()).reverse();for(const r of t)if(i.test(r))return n(r)}if(r.hash){const e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(e)return n(e[0])}return t}class am{constructor(){__publicField(this,"started",Object.create(null)),__publicField(this,"times",[])}time(e){e in this.started&&Sf(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Sf(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:n,end:i}of this.times)e.push(`${r.padEnd(t)} ${i-n}ms\n`);return e.join("")}}function sm(e,t){const r=t?URL.parse(e,t):URL.parse(e);return"http:"===(null==r?void 0:r.protocol)||"https:"===(null==r?void 0:r.protocol)}function om(e){e.preventDefault()}function lm(e){e.preventDefault(),e.stopPropagation()}class cm{static toDateObject(e){if(!e||"string"!=typeof e)return null;__privateGet(this,i)||__privateSet(this,i,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=__privateGet(this,i).exec(e);if(!t)return null;const r=parseInt(t[1],10);let n=parseInt(t[2],10);n=n>=1&&n<=12?n-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const c=t[7]||"Z";let d=parseInt(t[8],10);d=d>=0&&d<=23?d:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===c?(s+=d,o+=u):"+"===c&&(s-=d,o-=u),new Date(Date.UTC(r,n,a,s,o,l))}}function dm(e,{scale:t=1,rotation:r=0}){const{width:n,height:i}=e.attributes.style,a=[0,0,parseInt(n),parseInt(i)];return new Zf({viewBox:a,userUnit:1,scale:t,rotation:r})}function um(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Sf(`Not a valid color format: "${e}"`),[0,0,0])}function hm(e){const{a:t,b:r,c:n,d:i,e:a,f:s}=e.getTransform();return[t,r,n,i,a,s]}function pm(e){const{a:t,b:r,c:n,d:i,e:a,f:s}=e.getTransform().invertSelf();return[t,r,n,i,a,s]}function fm(e,t,r=!1,n=!0){if(t instanceof Zf){const{pageWidth:n,pageHeight:i}=t.rawDims,{style:a}=e,s=Of.isCSSRoundSupported,o=`var(--total-scale-factor) * ${n}px`,l=`var(--total-scale-factor) * ${i}px`,c=s?`round(down, ${o}, var(--scale-round-x))`:`calc(${o})`,d=s?`round(down, ${l}, var(--scale-round-y))`:`calc(${l})`;r&&t.rotation%180!=0?(a.width=d,a.height=c):(a.width=c,a.height=d)}n&&e.setAttribute("data-main-rotation",t.rotation)}i=new WeakMap,__privateAdd(cm,i);class mm{constructor(){const{pixelRatio:e}=mm;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,n,i=-1){let a=1/0,s=1/0,o=1/0;(r=mm.capPixels(r,i))>0&&(a=Math.sqrt(r/(e*t))),-1!==n&&(s=n/e,o=n/t);const l=Math.min(a,s,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*__pow(this.pixelRatio,2)*(1+t/100));return e>0?Math.min(e,r):r}return e}}const _m=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"],vm=class e{constructor(t){__privateAdd(this,f),__privateAdd(this,a,null),__privateAdd(this,s,null),__privateAdd(this,o),__privateAdd(this,l,null),__privateAdd(this,c,null),__privateAdd(this,d,null),__privateSet(this,o,t),__privateGet(e,u)||__privateSet(e,u,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=__privateSet(this,a,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const r=__privateGet(this,o)._uiManager._signal;t.addEventListener("contextmenu",om,{signal:r}),t.addEventListener("pointerdown",__privateMethod(e,h,p),{signal:r});const n=__privateSet(this,l,document.createElement("div"));n.className="buttons",t.append(n);const i=__privateGet(this,o).toolbarPosition;if(i){const{style:e}=t,r="ltr"===__privateGet(this,o)._uiManager.direction?1-i[0]:i[0];e.insetInlineEnd=100*r+"%",e.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return __privateGet(this,a)}hide(){var e;__privateGet(this,a).classList.add("hidden"),null==(e=__privateGet(this,s))||e.hideDropdown()}show(){var e;__privateGet(this,a).classList.remove("hidden"),null==(e=__privateGet(this,c))||e.shown()}addDeleteButton(){const{editorType:t,_uiManager:r}=__privateGet(this,o),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",__privateGet(e,u)[t]),__privateMethod(this,f,v).call(this,n),n.addEventListener("click",e=>{r.delete()},{signal:r._signal}),__privateGet(this,l).append(n)}addAltText(e){return __async(this,null,function*(){const t=yield e.render();__privateMethod(this,f,v).call(this,t),__privateGet(this,l).append(t,__privateGet(this,f,g)),__privateSet(this,c,e)})}addColorPicker(e){__privateSet(this,s,e);const t=e.renderButton();__privateMethod(this,f,v).call(this,t),__privateGet(this,l).append(t,__privateGet(this,f,g))}addEditSignatureButton(e){return __async(this,null,function*(){const t=__privateSet(this,d,yield e.renderEditButton(__privateGet(this,o)));__privateMethod(this,f,v).call(this,t),__privateGet(this,l).append(t,__privateGet(this,f,g))})}addButton(e,t){return __async(this,null,function*(){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":yield this.addAltText(t);break;case"editSignature":yield this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton()}})}updateEditSignatureButton(e){__privateGet(this,d)&&(__privateGet(this,d).title=e)}remove(){var e;__privateGet(this,a).remove(),null==(e=__privateGet(this,s))||e.destroy(),__privateSet(this,s,null)}};a=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,u=new WeakMap,h=new WeakSet,p=function(e){e.stopPropagation()},f=new WeakSet,m=function(e){__privateGet(this,o)._focusEventsAllowed=!1,lm(e)},_=function(e){__privateGet(this,o)._focusEventsAllowed=!0,lm(e)},v=function(e){const t=__privateGet(this,o)._uiManager._signal;e.addEventListener("focusin",__privateMethod(this,f,m).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",__privateMethod(this,f,_).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",om,{signal:t})},g=function(){const e=document.createElement("div");return e.className="divider",e},__privateAdd(vm,h),__privateAdd(vm,u,null);let gm=vm;class ym{constructor(e){__privateAdd(this,w),__privateAdd(this,y,null),__privateAdd(this,b,null),__privateAdd(this,x),__privateSet(this,x,e)}show(e,t,r){const[n,i]=__privateMethod(this,w,S).call(this,t,r),{style:a}=__privateGet(this,b)||__privateSet(this,b,__privateMethod(this,w,k).call(this));e.append(__privateGet(this,b)),a.insetInlineEnd=100*n+"%",a.top=`calc(${100*i}% + var(--editor-toolbar-vert-offset))`}hide(){__privateGet(this,b).remove()}}function bm(e,t,r){for(const n of r)t.addEventListener(n,e[n].bind(e))}y=new WeakMap,b=new WeakMap,x=new WeakMap,w=new WeakSet,k=function(){const e=__privateSet(this,b,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",om,{signal:__privateGet(this,x)._signal});const t=__privateSet(this,y,document.createElement("div"));return t.className="buttons",e.append(t),__privateMethod(this,w,A).call(this),e},S=function(e,t){let r=0,n=0;for(const i of e){const e=i.y+i.height;if(e<r)continue;const a=i.x+(t?i.width:0);e>r?(n=a,r=e):t?a>n&&(n=a):a<n&&(n=a)}return[t?1-n:n,r]},A=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=__privateGet(this,x)._signal;e.addEventListener("contextmenu",om,{signal:r}),e.addEventListener("click",()=>{__privateGet(this,x).highlightSelection("floating_button")},{signal:r}),__privateGet(this,y).append(e)};class xm{constructor(){__privateAdd(this,M,0)}get id(){return`${Yp}${__privateWrapper(this,M)._++}`}}M=new WeakMap;const wm=class{constructor(){__privateAdd(this,j),__privateAdd(this,C,Hf()),__privateAdd(this,N,0),__privateAdd(this,E,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Ef(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}getFromFile(e){return __async(this,null,function*(){const{lastModified:t,name:r,size:n,type:i}=e;return __privateMethod(this,j,G).call(this,`${t}_${r}_${n}_${i}`,e)})}getFromUrl(e){return __async(this,null,function*(){return __privateMethod(this,j,G).call(this,e,e)})}getFromBlob(e,t){return __async(this,null,function*(){const r=yield t;return __privateMethod(this,j,G).call(this,e,r)})}getFromId(e){return __async(this,null,function*(){__privateGet(this,E)||__privateSet(this,E,new Map);const t=__privateGet(this,E).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)})}getFromCanvas(e,t){__privateGet(this,E)||__privateSet(this,E,new Map);let r=__privateGet(this,E).get(e);if(null==r?void 0:r.bitmap)return r.refCounter+=1,r;const n=new OffscreenCanvas(t.width,t.height);return n.getContext("2d").drawImage(t,0,0),r={bitmap:n.transferToImageBitmap(),id:`image_${__privateGet(this,C)}_${__privateWrapper(this,N)._++}`,refCounter:1,isSvg:!1},__privateGet(this,E).set(e,r),__privateGet(this,E).set(r.id,r),r}getSvgUrl(e){const t=__privateGet(this,E).get(e);return(null==t?void 0:t.isSvg)?t.svgUrl:null}deleteId(e){var t;__privateGet(this,E)||__privateSet(this,E,new Map);const r=__privateGet(this,E).get(e);if(!r)return;if(r.refCounter-=1,0!==r.refCounter)return;const{bitmap:n}=r;if(!r.url&&!r.file){const e=new OffscreenCanvas(n.width,n.height);e.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=e.convertToBlob()}null==(t=n.close)||t.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${__privateGet(this,C)}_`)}};C=new WeakMap,N=new WeakMap,E=new WeakMap,j=new WeakSet,G=function(e,t){return __async(this,null,function*(){__privateGet(this,E)||__privateSet(this,E,new Map);let r=__privateGet(this,E).get(e);if(null===r)return null;if(null==r?void 0:r.bitmap)return r.refCounter+=1,r;try{let e;if(r||(r={bitmap:null,id:`image_${__privateGet(this,C)}_${__privateWrapper(this,N)._++}`,refCounter:0,isSvg:!1}),"string"==typeof t?(r.url=t,e=yield Jf(t,"blob")):t instanceof File?e=r.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=wm._isSVGFittingCanvas,n=new FileReader,i=new Image,a=new Promise((e,a)=>{i.onload=()=>{r.bitmap=i,r.isSvg=!0,e()},n.onload=()=>__async(this,null,function*(){const e=r.svgUrl=n.result;i.src=(yield t)?`${e}#svgView(preserveAspectRatio(none))`:e}),i.onerror=n.onerror=a});n.readAsDataURL(e),yield a}else r.bitmap=yield createImageBitmap(e);r.refCounter=1}catch(n){Sf(n),r=null}return __privateGet(this,E).set(e,r),r&&__privateGet(this,E).set(r.id,r),r})};let km=wm;class Sm{constructor(e=128){__privateAdd(this,P,[]),__privateAdd(this,R,!1),__privateAdd(this,T),__privateAdd(this,L,-1),__privateSet(this,T,e)}add({cmd:e,undo:t,post:r,mustExec:n,type:i=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}){if(n&&e(),__privateGet(this,R))return;const o={cmd:e,undo:t,post:r,type:i};if(-1===__privateGet(this,L))return __privateGet(this,P).length>0&&(__privateGet(this,P).length=0),__privateSet(this,L,0),void __privateGet(this,P).push(o);if(a&&__privateGet(this,P)[__privateGet(this,L)].type===i)return s&&(o.undo=__privateGet(this,P)[__privateGet(this,L)].undo),void(__privateGet(this,P)[__privateGet(this,L)]=o);const l=__privateGet(this,L)+1;l===__privateGet(this,T)?__privateGet(this,P).splice(0,1):(__privateSet(this,L,l),l<__privateGet(this,P).length&&__privateGet(this,P).splice(l)),__privateGet(this,P).push(o)}undo(){if(-1===__privateGet(this,L))return;__privateSet(this,R,!0);const{undo:e,post:t}=__privateGet(this,P)[__privateGet(this,L)];e(),null==t||t(),__privateSet(this,R,!1),__privateSet(this,L,__privateGet(this,L)-1)}redo(){if(__privateGet(this,L)<__privateGet(this,P).length-1){__privateSet(this,L,__privateGet(this,L)+1),__privateSet(this,R,!0);const{cmd:e,post:t}=__privateGet(this,P)[__privateGet(this,L)];e(),null==t||t(),__privateSet(this,R,!1)}}hasSomethingToUndo(){return-1!==__privateGet(this,L)}hasSomethingToRedo(){return __privateGet(this,L)<__privateGet(this,P).length-1}cleanType(e){if(-1!==__privateGet(this,L)){for(let t=__privateGet(this,L);t>=0;t--)if(__privateGet(this,P)[t].type!==e)return __privateGet(this,P).splice(t+1,__privateGet(this,L)-t),void __privateSet(this,L,t);__privateGet(this,P).length=0,__privateSet(this,L,-1)}}destroy(){__privateSet(this,P,null)}}P=new WeakMap,R=new WeakMap,T=new WeakMap,L=new WeakMap;class Am{constructor(e){__privateAdd(this,D),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Of.platform;for(const[r,n,i={}]of e)for(const e of r){const r=e.startsWith("mac+");t&&r?(this.callbacks.set(e.slice(4),{callback:n,options:i}),this.allKeys.add(e.split("+").at(-1))):t||r||(this.callbacks.set(e,{callback:n,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(__privateMethod(this,D,I).call(this,t));if(!r)return;const{callback:n,options:{bubbles:i=!1,args:a=[],checker:s=null}}=r;s&&!s(e,t)||(n.bind(e,...a,t)(),i||lm(t))}}D=new WeakSet,I=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Mm=class e{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const r of e.keys()){t.style.color=r;const n=window.getComputedStyle(t).color;e.set(r,um(n))}t.remove()}(e),Ef(this,"_colors",e)}convert(t){const r=um(t);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((e,t)=>e===r[t]))return e._colorsMapping.get(n);return r}getHexCode(e){const t=this._colors.get(e);return t?Wf.makeHexColor(...t):e}};__publicField(Mm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Cm=Mm;const Nm=class e{constructor(e,t,r,n,i,a,s,o,l,c,d,u,h,p,f){__privateAdd(this,Ee),__privateAdd(this,F,new AbortController),__privateAdd(this,O,null),__privateAdd(this,z,new Map),__privateAdd(this,W,new Map),__privateAdd(this,$,null),__privateAdd(this,B,null),__privateAdd(this,V,null),__privateAdd(this,H,new Sm),__privateAdd(this,U,null),__privateAdd(this,q,null),__privateAdd(this,X,0),__privateAdd(this,K,new Set),__privateAdd(this,Y,null),__privateAdd(this,Q,null),__privateAdd(this,J,new Set),__publicField(this,"_editorUndoBar",null),__privateAdd(this,Z,!1),__privateAdd(this,ee,!1),__privateAdd(this,te,!1),__privateAdd(this,re,null),__privateAdd(this,ne,null),__privateAdd(this,ie,null),__privateAdd(this,ae,null),__privateAdd(this,se,!1),__privateAdd(this,oe,null),__privateAdd(this,le,new xm),__privateAdd(this,ce,!1),__privateAdd(this,de,!1),__privateAdd(this,ue,null),__privateAdd(this,he,null),__privateAdd(this,pe,null),__privateAdd(this,fe,null),__privateAdd(this,me,null),__privateAdd(this,_e,Qp.NONE),__privateAdd(this,ve,new Set),__privateAdd(this,ge,null),__privateAdd(this,ye,null),__privateAdd(this,be,null),__privateAdd(this,xe,null),__privateAdd(this,we,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),__privateAdd(this,ke,[0,0]),__privateAdd(this,Se,null),__privateAdd(this,Ae,null),__privateAdd(this,Me,null),__privateAdd(this,Ce,null),__privateAdd(this,Ne,null);const m=this._signal=__privateGet(this,F).signal;__privateSet(this,Ae,e),__privateSet(this,Me,t),__privateSet(this,Ce,r),__privateSet(this,$,n),__privateSet(this,ye,i),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:m}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),a._on("setpreference",this.onSetPreference.bind(this),{signal:m}),a._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:m}),__privateMethod(this,Ee,Le).call(this),__privateMethod(this,Ee,$e).call(this),__privateMethod(this,Ee,Fe).call(this),__privateSet(this,B,s.annotationStorage),__privateSet(this,re,s.filterFactory),__privateSet(this,be,o),__privateSet(this,ae,l||null),__privateSet(this,Z,c),__privateSet(this,ee,d),__privateSet(this,te,u),__privateSet(this,me,h||null),this.viewParameters={realScale:Qf.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=!1!==f}static get _keyboardManager(){const t=e.prototype,r=e=>__privateGet(e,Ae).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,{target:t})=>{if(t instanceof HTMLInputElement){const{type:e}=t;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Ef(this,"_keyboardManager",new Am([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&__privateGet(e,Ae).contains(t)&&!e.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&__privateGet(e,Ae).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:r}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:r}]]))}destroy(){var e,t,r,n,i,a,s,o;null==(e=__privateGet(this,Ne))||e.resolve(),__privateSet(this,Ne,null),null==(t=__privateGet(this,F))||t.abort(),__privateSet(this,F,null),this._signal=null;for(const l of __privateGet(this,W).values())l.destroy();__privateGet(this,W).clear(),__privateGet(this,z).clear(),__privateGet(this,J).clear(),null==(r=__privateGet(this,fe))||r.clear(),__privateSet(this,O,null),__privateGet(this,ve).clear(),__privateGet(this,H).destroy(),null==(n=__privateGet(this,$))||n.destroy(),null==(i=__privateGet(this,ye))||i.destroy(),null==(a=__privateGet(this,oe))||a.hide(),__privateSet(this,oe,null),null==(s=__privateGet(this,pe))||s.destroy(),__privateSet(this,pe,null),__privateGet(this,ne)&&(clearTimeout(__privateGet(this,ne)),__privateSet(this,ne,null)),__privateGet(this,Se)&&(clearTimeout(__privateGet(this,Se)),__privateSet(this,Se,null)),null==(o=this._editorUndoBar)||o.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return __privateGet(this,me)}get useNewAltTextFlow(){return __privateGet(this,ee)}get useNewAltTextWhenAddingImage(){return __privateGet(this,te)}get hcmFilter(){return Ef(this,"hcmFilter",__privateGet(this,be)?__privateGet(this,re).addHCMFilter(__privateGet(this,be).foreground,__privateGet(this,be).background):"none")}get direction(){return Ef(this,"direction",getComputedStyle(__privateGet(this,Ae)).direction)}get highlightColors(){return Ef(this,"highlightColors",__privateGet(this,ae)?new Map(__privateGet(this,ae).split(",").map(e=>((e=e.split("=").map(e=>e.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return Ef(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),__privateSet(this,q,e)}setMainHighlightColorPicker(e){__privateSet(this,pe,e)}editAltText(e,t=!1){var r;null==(r=__privateGet(this,$))||r.editAltText(this,e,t)}getSignature(e){var t;null==(t=__privateGet(this,ye))||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return __privateGet(this,ye)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){if("enableNewAltTextWhenAddingImage"===e)__privateSet(this,te,t)}onPageChanging({pageNumber:e}){__privateSet(this,X,e-1)}focusMainContainer(){__privateGet(this,Ae).focus()}findParent(e,t){for(const r of __privateGet(this,W).values()){const{x:n,y:i,width:a,height:s}=r.div.getBoundingClientRect();if(e>=n&&e<=n+a&&t>=i&&t<=i+s)return r}return null}disableUserSelect(e=!1){__privateGet(this,Me).classList.toggle("noUserSelect",e)}addShouldRescale(e){__privateGet(this,J).add(e)}removeShouldRescale(e){__privateGet(this,J).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Qf.PDF_TO_CSS_UNITS;for(const r of __privateGet(this,J))r.onScaleChanging();null==(t=__privateGet(this,q))||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}=t,s=t.toString(),o=__privateMethod(this,Ee,je).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=__privateMethod(this,Ee,Ge).call(this,o),d=__privateGet(this,_e)===Qp.NONE,u=()=>{null==c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a,text:s}),d&&this.showAllEditors("highlight",!0,!0)};d?this.switchToMode(Qp.HIGHLIGHT,u):u()}addToAnnotationStorage(e){e.isEmpty()||!__privateGet(this,B)||__privateGet(this,B).has(e.id)||__privateGet(this,B).setValue(e.id,e)}a11yAlert(e,t=null){const r=__privateGet(this,Ce);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,__privateGet(this,se)&&(__privateSet(this,se,!1),__privateMethod(this,Ee,Te).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of __privateGet(this,ve))if(t.div.contains(e)){__privateSet(this,he,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!__privateGet(this,he))return;const[e,t]=__privateGet(this,he);__privateSet(this,he,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){__privateMethod(this,Ee,Fe).call(this),__privateMethod(this,Ee,ze).call(this)}removeEditListeners(){__privateMethod(this,Ee,Oe).call(this),__privateMethod(this,Ee,We).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of __privateGet(this,Q))if(r.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const r of __privateGet(this,Q))if(r.isHandlingMimeForPasting(t.type))return r.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null==(t=__privateGet(this,O))||t.commitOrRemove(),!this.hasSelection)return;const r=[];for(const n of __privateGet(this,ve)){const e=n.serialize(!0);e&&r.push(e)}0!==r.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}paste(e){return __async(this,null,function*(){e.preventDefault();const{clipboardData:t}=e;for(const e of t.items)for(const t of __privateGet(this,Q))if(t.isHandlingMimeForPasting(e.type))return void t.paste(e,this.currentLayer);let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(i){return void Sf(`paste: "${i.message}".`)}if(!Array.isArray(r))return;this.unselectAll();const n=this.currentLayer;try{const e=[];for(const a of r){const t=yield n.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)__privateMethod(this,Ee,qe).call(this,t);__privateMethod(this,Ee,Ye).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){Sf(`paste: "${i.message}".`)}})}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),__privateGet(this,_e)===Qp.NONE||this.isEditorHandlingKeyboard||e._keyboardManager.exec(this,t)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,__privateGet(this,se)&&(__privateSet(this,se,!1),__privateMethod(this,Ee,Te).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?(__privateMethod(this,Ee,De).call(this),__privateMethod(this,Ee,ze).call(this),__privateMethod(this,Ee,Be).call(this,{isEditing:__privateGet(this,_e)!==Qp.NONE,isEmpty:__privateMethod(this,Ee,Ke).call(this),hasSomethingToUndo:__privateGet(this,H).hasSomethingToUndo(),hasSomethingToRedo:__privateGet(this,H).hasSomethingToRedo(),hasSelectedEditor:!1})):(__privateMethod(this,Ee,Ie).call(this),__privateMethod(this,Ee,We).call(this),__privateMethod(this,Ee,Be).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!__privateGet(this,Q)){__privateSet(this,Q,e);for(const e of __privateGet(this,Q))__privateMethod(this,Ee,Ve).call(this,e.defaultPropertiesToUpdate)}}getId(){return __privateGet(this,le).id}get currentLayer(){return __privateGet(this,W).get(__privateGet(this,X))}getLayer(e){return __privateGet(this,W).get(e)}get currentPageIndex(){return __privateGet(this,X)}addLayer(e){__privateGet(this,W).set(e.pageIndex,e),__privateGet(this,ce)?e.enable():e.disable()}removeLayer(e){__privateGet(this,W).delete(e.pageIndex)}updateMode(e,t=null,r=!1,n=!1){return __async(this,null,function*(){var i,a,s;if(__privateGet(this,_e)!==e&&(!__privateGet(this,Ne)||(yield __privateGet(this,Ne).promise,__privateGet(this,Ne)))){if(__privateSet(this,Ne,Promise.withResolvers()),null==(i=__privateGet(this,q))||i.commitOrRemove(),__privateSet(this,_e,e),e===Qp.NONE)return this.setEditingState(!1),__privateMethod(this,Ee,Ue).call(this),null==(a=this._editorUndoBar)||a.hide(),void __privateGet(this,Ne).resolve();e===Qp.SIGNATURE&&(yield null==(s=__privateGet(this,ye))?void 0:s.loadSignatures()),this.setEditingState(!0),yield __privateMethod(this,Ee,He).call(this),this.unselectAll();for(const t of __privateGet(this,W).values())t.updateMode(e);if(!t)return r&&this.addNewEditorFromKeyboard(),void __privateGet(this,Ne).resolve();for(const e of __privateGet(this,z).values())e.annotationElementId===t||e.id===t?(this.setSelected(e),n&&e.enterInEditMode()):e.unselect();__privateGet(this,Ne).resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==__privateGet(this,_e)&&this._eventBus.dispatch("switchannotationeditormode",__spreadValues({source:this},e))}updateParams(e,t){var r;if(__privateGet(this,Q)){switch(e){case Jp.CREATE:return void this.currentLayer.addNewEditor(t);case Jp.HIGHLIGHT_DEFAULT_COLOR:null==(r=__privateGet(this,pe))||r.updateColor(t);break;case Jp.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(__privateGet(this,xe)||__privateSet(this,xe,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const r of __privateGet(this,ve))r.updateParams(e,t);for(const r of __privateGet(this,Q))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var n,i;for(const a of __privateGet(this,z).values())a.editorType===e&&a.show(t);(null==(i=null==(n=__privateGet(this,xe))?void 0:n.get(Jp.HIGHLIGHT_SHOW_ALL))||i)!==t&&__privateMethod(this,Ee,Ve).call(this,[[Jp.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(__privateGet(this,de)!==e){__privateSet(this,de,e);for(const t of __privateGet(this,W).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of __privateGet(this,z).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return __privateGet(this,z).get(e)}addEditor(e){__privateGet(this,z).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(__privateGet(this,ne)&&clearTimeout(__privateGet(this,ne)),__privateSet(this,ne,setTimeout(()=>{this.focusMainContainer(),__privateSet(this,ne,null)},0))),__privateGet(this,z).delete(e.id),e.annotationElementId&&(null==(t=__privateGet(this,fe))||t.delete(e.annotationElementId)),this.unselect(e),e.annotationElementId&&__privateGet(this,K).has(e.annotationElementId)||null==(r=__privateGet(this,B))||r.remove(e.id)}addDeletedAnnotationElement(e){__privateGet(this,K).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return __privateGet(this,K).has(e)}removeDeletedAnnotationElement(e){__privateGet(this,K).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){__privateGet(this,O)!==e&&(__privateSet(this,O,e),e&&__privateMethod(this,Ee,Ve).call(this,e.propertiesToUpdate))}updateUI(e){__privateGet(this,Ee,Xe)===e&&__privateMethod(this,Ee,Ve).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){__privateMethod(this,Ee,Ve).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(__privateGet(this,ve).has(e))return __privateGet(this,ve).delete(e),e.unselect(),void __privateMethod(this,Ee,Be).call(this,{hasSelectedEditor:this.hasSelection});__privateGet(this,ve).add(e),e.select(),__privateMethod(this,Ee,Ve).call(this,e.propertiesToUpdate),__privateMethod(this,Ee,Be).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),null==(t=__privateGet(this,q))||t.commitOrRemove();for(const r of __privateGet(this,ve))r!==e&&r.unselect();__privateGet(this,ve).clear(),__privateGet(this,ve).add(e),e.select(),__privateMethod(this,Ee,Ve).call(this,e.propertiesToUpdate),__privateMethod(this,Ee,Be).call(this,{hasSelectedEditor:!0})}isSelected(e){return __privateGet(this,ve).has(e)}get firstSelectedEditor(){return __privateGet(this,ve).values().next().value}unselect(e){e.unselect(),__privateGet(this,ve).delete(e),__privateMethod(this,Ee,Be).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==__privateGet(this,ve).size}get isEnterHandled(){return 1===__privateGet(this,ve).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;__privateGet(this,H).undo(),__privateMethod(this,Ee,Be).call(this,{hasSomethingToUndo:__privateGet(this,H).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:__privateMethod(this,Ee,Ke).call(this)}),null==(e=this._editorUndoBar)||e.hide()}redo(){__privateGet(this,H).redo(),__privateMethod(this,Ee,Be).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:__privateGet(this,H).hasSomethingToRedo(),isEmpty:__privateMethod(this,Ee,Ke).call(this)})}addCommands(e){__privateGet(this,H).add(e),__privateMethod(this,Ee,Be).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:__privateMethod(this,Ee,Ke).call(this)})}cleanUndoStack(e){__privateGet(this,H).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null==(e=this.currentLayer)?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const r=t?[t]:[...__privateGet(this,ve)],n=()=>{for(const e of r)__privateMethod(this,Ee,qe).call(this,e)};this.addCommands({cmd:()=>{var e;null==(e=this._editorUndoBar)||e.show(n,1===r.length?r[0].editorType:r.length);for(const t of r)t.remove()},undo:n,mustExec:!0})}commitOrRemove(){var e;null==(e=__privateGet(this,O))||e.commitOrRemove()}hasSomethingToControl(){return __privateGet(this,O)||this.hasSelection}selectAll(){for(const e of __privateGet(this,ve))e.commit();__privateMethod(this,Ee,Ye).call(this,__privateGet(this,z).values())}unselectAll(){var e;if((!__privateGet(this,O)||(__privateGet(this,O).commitOrRemove(),__privateGet(this,_e)===Qp.NONE))&&!(null==(e=__privateGet(this,q))?void 0:e.commitOrRemove())&&this.hasSelection){for(const e of __privateGet(this,ve))e.unselect();__privateGet(this,ve).clear(),__privateMethod(this,Ee,Be).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;__privateGet(this,ke)[0]+=e,__privateGet(this,ke)[1]+=t;const[n,i]=__privateGet(this,ke),a=[...__privateGet(this,ve)];__privateGet(this,Se)&&clearTimeout(__privateGet(this,Se)),__privateSet(this,Se,setTimeout(()=>{__privateSet(this,Se,null),__privateGet(this,ke)[0]=__privateGet(this,ke)[1]=0,this.addCommands({cmd:()=>{for(const e of a)__privateGet(this,z).has(e.id)&&(e.translateInPage(n,i),e.translationDone())},undo:()=>{for(const e of a)__privateGet(this,z).has(e.id)&&(e.translateInPage(-n,-i),e.translationDone())},mustExec:!1})},1e3));for(const s of a)s.translateInPage(e,t),s.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),__privateSet(this,Y,new Map);for(const e of __privateGet(this,ve))__privateGet(this,Y).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!__privateGet(this,Y))return!1;this.disableUserSelect(!1);const e=__privateGet(this,Y);__privateSet(this,Y,null);let t=!1;for(const[{x:n,y:i,pageIndex:a},s]of e)s.newX=n,s.newY=i,s.newPageIndex=a,t||(t=n!==s.savedX||i!==s.savedY||a!==s.savedPageIndex);if(!t)return!1;const r=(e,t,r,n)=>{if(__privateGet(this,z).has(e.id)){const i=__privateGet(this,W).get(n);i?e._setParentAndPosition(i,t,r):(e.pageIndex=n,e.x=t,e.y=r)}};return this.addCommands({cmd:()=>{for(const[t,{newX:n,newY:i,newPageIndex:a}]of e)r(t,n,i,a)},undo:()=>{for(const[t,{savedX:n,savedY:i,savedPageIndex:a}]of e)r(t,n,i,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(__privateGet(this,Y))for(const r of __privateGet(this,Y).keys())r.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null==(e=this.getActive())?void 0:e.shouldGetKeyboardEvents())||1===__privateGet(this,ve).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return __privateGet(this,O)===e}getActive(){return __privateGet(this,O)}getMode(){return __privateGet(this,_e)}get imageManager(){return Ef(this,"imageManager",new km)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:r,y:n,width:i,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(e,t,s,o)=>({x:(t-n)/a,y:1-(e+s-r)/i,width:o/a,height:s/i});break;case"180":s=(e,t,s,o)=>({x:1-(e+s-r)/i,y:1-(t+o-n)/a,width:s/i,height:o/a});break;case"270":s=(e,t,s,o)=>({x:1-(t+o-n)/a,y:(e-r)/i,width:o/a,height:s/i});break;default:s=(e,t,s,o)=>({x:(e-r)/i,y:(t-n)/a,width:s/i,height:o/a})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:r,width:n,height:i}of e.getClientRects())0!==n&&0!==i&&o.push(s(t,r,n,i))}return 0===o.length?null:o}addChangedExistingAnnotation({annotationElementId:e,id:t}){(__privateGet(this,V)||__privateSet(this,V,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;null==(t=__privateGet(this,V))||t.delete(e)}renderAnnotationElement(e){var t;const r=null==(t=__privateGet(this,V))?void 0:t.get(e.data.id);if(!r)return;const n=__privateGet(this,B).getRawValue(r);n&&(__privateGet(this,_e)!==Qp.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}setMissingCanvas(e,t,r){var n;const i=null==(n=__privateGet(this,fe))?void 0:n.get(e);i&&(i.setCanvas(t,r),__privateGet(this,fe).delete(e))}addMissingCanvas(e,t){(__privateGet(this,fe)||__privateSet(this,fe,new Map)).set(e,t)}};F=new WeakMap,O=new WeakMap,z=new WeakMap,W=new WeakMap,$=new WeakMap,B=new WeakMap,V=new WeakMap,H=new WeakMap,U=new WeakMap,q=new WeakMap,X=new WeakMap,K=new WeakMap,Y=new WeakMap,Q=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,re=new WeakMap,ne=new WeakMap,ie=new WeakMap,ae=new WeakMap,se=new WeakMap,oe=new WeakMap,le=new WeakMap,ce=new WeakMap,de=new WeakMap,ue=new WeakMap,he=new WeakMap,pe=new WeakMap,fe=new WeakMap,me=new WeakMap,_e=new WeakMap,ve=new WeakMap,ge=new WeakMap,ye=new WeakMap,be=new WeakMap,xe=new WeakMap,we=new WeakMap,ke=new WeakMap,Se=new WeakMap,Ae=new WeakMap,Me=new WeakMap,Ce=new WeakMap,Ne=new WeakMap,Ee=new WeakSet,je=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Ge=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of __privateGet(this,W).values())if(r.hasTextLayer(e))return r;return null},Pe=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=__privateMethod(this,Ee,je).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(t);r&&(__privateGet(this,oe)||__privateSet(this,oe,new ym(this)),__privateGet(this,oe).show(t,r,"ltr"===this.direction))},Re=function(){var e,t,r;const n=document.getSelection();if(!n||n.isCollapsed)return void(__privateGet(this,ge)&&(null==(e=__privateGet(this,oe))||e.hide(),__privateSet(this,ge,null),__privateMethod(this,Ee,Be).call(this,{hasSelectedText:!1})));const{anchorNode:i}=n;if(i===__privateGet(this,ge))return;const a=__privateMethod(this,Ee,je).call(this,n).closest(".textLayer");if(a){if(null==(r=__privateGet(this,oe))||r.hide(),__privateSet(this,ge,i),__privateMethod(this,Ee,Be).call(this,{hasSelectedText:!0}),(__privateGet(this,_e)===Qp.HIGHLIGHT||__privateGet(this,_e)===Qp.NONE)&&(__privateGet(this,_e)===Qp.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),__privateSet(this,se,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=__privateGet(this,_e)===Qp.HIGHLIGHT?__privateMethod(this,Ee,Ge).call(this,a):null;null==e||e.toggleDrawing();const t=new AbortController,r=this.combinedSignal(t),n=r=>{"pointerup"===r.type&&0!==r.button||(t.abort(),null==e||e.toggleDrawing(!0),"pointerup"===r.type&&__privateMethod(this,Ee,Te).call(this,"main_toolbar"))};window.addEventListener("pointerup",n,{signal:r}),window.addEventListener("blur",n,{signal:r})}}else __privateGet(this,ge)&&(null==(t=__privateGet(this,oe))||t.hide(),__privateSet(this,ge,null),__privateMethod(this,Ee,Be).call(this,{hasSelectedText:!1}))},Te=function(e=""){__privateGet(this,_e)===Qp.HIGHLIGHT?this.highlightSelection(e):__privateGet(this,Z)&&__privateMethod(this,Ee,Pe).call(this)},Le=function(){document.addEventListener("selectionchange",__privateMethod(this,Ee,Re).bind(this),{signal:this._signal})},De=function(){if(__privateGet(this,ie))return;__privateSet(this,ie,new AbortController);const e=this.combinedSignal(__privateGet(this,ie));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Ie=function(){var e;null==(e=__privateGet(this,ie))||e.abort(),__privateSet(this,ie,null)},Fe=function(){if(__privateGet(this,ue))return;__privateSet(this,ue,new AbortController);const e=this.combinedSignal(__privateGet(this,ue));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Oe=function(){var e;null==(e=__privateGet(this,ue))||e.abort(),__privateSet(this,ue,null)},ze=function(){if(__privateGet(this,U))return;__privateSet(this,U,new AbortController);const e=this.combinedSignal(__privateGet(this,U));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},We=function(){var e;null==(e=__privateGet(this,U))||e.abort(),__privateSet(this,U,null)},$e=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Be=function(e){Object.entries(e).some(([e,t])=>__privateGet(this,we)[e]!==t)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(__privateGet(this,we),e)}),__privateGet(this,_e)===Qp.HIGHLIGHT&&!1===e.hasSelectedEditor&&__privateMethod(this,Ee,Ve).call(this,[[Jp.HIGHLIGHT_FREE,!0]]))},Ve=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},He=function(){return __async(this,null,function*(){if(!__privateGet(this,ce)){__privateSet(this,ce,!0);const e=[];for(const t of __privateGet(this,W).values())e.push(t.enable());yield Promise.all(e);for(const t of __privateGet(this,z).values())t.enable()}})},Ue=function(){if(this.unselectAll(),__privateGet(this,ce)){__privateSet(this,ce,!1);for(const e of __privateGet(this,W).values())e.disable();for(const e of __privateGet(this,z).values())e.disable()}},qe=function(e){const t=__privateGet(this,W).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Xe=function(){let e=null;for(e of __privateGet(this,ve));return e},Ke=function(){if(0===__privateGet(this,z).size)return!0;if(1===__privateGet(this,z).size)for(const e of __privateGet(this,z).values())return e.isEmpty();return!1},Ye=function(e){for(const t of __privateGet(this,ve))t.unselect();__privateGet(this,ve).clear();for(const t of e)t.isEmpty()||(__privateGet(this,ve).add(t),t.select());__privateMethod(this,Ee,Be).call(this,{hasSelectedEditor:this.hasSelection})},__publicField(Nm,"TRANSLATE_SMALL",1),__publicField(Nm,"TRANSLATE_BIG",10);let Em=Nm;const jm=class e{constructor(t){__privateAdd(this,dt),__privateAdd(this,Qe,null),__privateAdd(this,Je,!1),__privateAdd(this,Ze,null),__privateAdd(this,et,null),__privateAdd(this,tt,null),__privateAdd(this,rt,null),__privateAdd(this,nt,!1),__privateAdd(this,it,null),__privateAdd(this,at,null),__privateAdd(this,st,null),__privateAdd(this,ot,null),__privateAdd(this,lt,!1),__privateSet(this,at,t),__privateSet(this,lt,t._uiManager.useNewAltTextFlow),__privateGet(e,ct)||__privateSet(e,ct,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){null!=e._l10n||(e._l10n=t)}render(){return __async(this,null,function*(){const t=__privateSet(this,Ze,document.createElement("button"));t.className="altText",t.tabIndex="0";const r=__privateSet(this,et,document.createElement("span"));t.append(r),__privateGet(this,lt)?(t.classList.add("new"),t.setAttribute("data-l10n-id",__privateGet(e,ct).missing),r.setAttribute("data-l10n-id",__privateGet(e,ct)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=__privateGet(this,at)._uiManager._signal;t.addEventListener("contextmenu",om,{signal:n}),t.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const i=e=>{e.preventDefault(),__privateGet(this,at)._uiManager.editAltText(__privateGet(this,at)),__privateGet(this,lt)&&__privateGet(this,at)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:__privateGet(this,dt,ut)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&(__privateSet(this,nt,!0),i(e))},{signal:n}),yield __privateMethod(this,dt,ht).call(this),t})}finish(){__privateGet(this,Ze)&&(__privateGet(this,Ze).focus({focusVisible:__privateGet(this,nt)}),__privateSet(this,nt,!1))}isEmpty(){return __privateGet(this,lt)?null===__privateGet(this,Qe):!__privateGet(this,Qe)&&!__privateGet(this,Je)}hasData(){return __privateGet(this,lt)?null!==__privateGet(this,Qe)||!!__privateGet(this,st):this.isEmpty()}get guessedText(){return __privateGet(this,st)}setGuessedText(t){return __async(this,null,function*(){null===__privateGet(this,Qe)&&(__privateSet(this,st,t),__privateSet(this,ot,yield e._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),__privateMethod(this,dt,ht).call(this))})}toggleAltTextBadge(e=!1){var t;if(!__privateGet(this,lt)||__privateGet(this,Qe))return null==(t=__privateGet(this,it))||t.remove(),void __privateSet(this,it,null);if(!__privateGet(this,it)){const e=__privateSet(this,it,document.createElement("div"));e.className="noAltTextBadge",__privateGet(this,at).div.append(e)}__privateGet(this,it).classList.toggle("hidden",!e)}serialize(e){let t=__privateGet(this,Qe);return e||__privateGet(this,st)!==t||(t=__privateGet(this,ot)),{altText:t,decorative:__privateGet(this,Je),guessedText:__privateGet(this,st),textWithDisclaimer:__privateGet(this,ot)}}get data(){return{altText:__privateGet(this,Qe),decorative:__privateGet(this,Je)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:n,cancel:i=!1}){r&&(__privateSet(this,st,r),__privateSet(this,ot,n)),__privateGet(this,Qe)===e&&__privateGet(this,Je)===t||(i||(__privateSet(this,Qe,e),__privateSet(this,Je,t)),__privateMethod(this,dt,ht).call(this))}toggle(e=!1){__privateGet(this,Ze)&&(!e&&__privateGet(this,rt)&&(clearTimeout(__privateGet(this,rt)),__privateSet(this,rt,null)),__privateGet(this,Ze).disabled=!e)}shown(){__privateGet(this,at)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:__privateGet(this,dt,ut)}})}destroy(){var e,t;null==(e=__privateGet(this,Ze))||e.remove(),__privateSet(this,Ze,null),__privateSet(this,et,null),__privateSet(this,tt,null),null==(t=__privateGet(this,it))||t.remove(),__privateSet(this,it,null)}};Qe=new WeakMap,Je=new WeakMap,Ze=new WeakMap,et=new WeakMap,tt=new WeakMap,rt=new WeakMap,nt=new WeakMap,it=new WeakMap,at=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakMap,ct=new WeakMap,dt=new WeakSet,ut=function(){return(__privateGet(this,Qe)?"added":null===__privateGet(this,Qe)&&this.guessedText&&"review")||"missing"},ht=function(){return __async(this,null,function*(){var e,t,r;const n=__privateGet(this,Ze);if(!n)return;if(__privateGet(this,lt)){if(n.classList.toggle("done",!!__privateGet(this,Qe)),n.setAttribute("data-l10n-id",__privateGet(jm,ct)[__privateGet(this,dt,ut)]),null==(e=__privateGet(this,et))||e.setAttribute("data-l10n-id",__privateGet(jm,ct)[`${__privateGet(this,dt,ut)}-label`]),!__privateGet(this,Qe))return void(null==(t=__privateGet(this,tt))||t.remove())}else{if(!__privateGet(this,Qe)&&!__privateGet(this,Je))return n.classList.remove("done"),void(null==(r=__privateGet(this,tt))||r.remove());n.classList.add("done"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=__privateGet(this,tt);if(!i){__privateSet(this,tt,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${__privateGet(this,at).id}`;const e=100,t=__privateGet(this,at)._uiManager._signal;t.addEventListener("abort",()=>{clearTimeout(__privateGet(this,rt)),__privateSet(this,rt,null)},{once:!0}),n.addEventListener("mouseenter",()=>{__privateSet(this,rt,setTimeout(()=>{__privateSet(this,rt,null),__privateGet(this,tt).classList.add("show"),__privateGet(this,at)._reportTelemetry({action:"alt_text_tooltip"})},e))},{signal:t}),n.addEventListener("mouseleave",()=>{var e;__privateGet(this,rt)&&(clearTimeout(__privateGet(this,rt)),__privateSet(this,rt,null)),null==(e=__privateGet(this,tt))||e.classList.remove("show")},{signal:t})}__privateGet(this,Je)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=__privateGet(this,Qe)),i.parentNode||n.append(i);const a=__privateGet(this,at).getElementForAltText();null==a||a.setAttribute("aria-describedby",i.id)})},__privateAdd(jm,ct,null),__publicField(jm,"_l10n",null);let Gm=jm;const Pm=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:n=null,onPinching:i=null,onPinchEnd:a=null,signal:s}){__privateAdd(this,At),__privateAdd(this,pt),__privateAdd(this,ft,!1),__privateAdd(this,mt,null),__privateAdd(this,_t),__privateAdd(this,vt),__privateAdd(this,gt),__privateAdd(this,yt),__privateAdd(this,bt,null),__privateAdd(this,xt),__privateAdd(this,wt,null),__privateAdd(this,kt),__privateAdd(this,St,null),__privateSet(this,pt,e),__privateSet(this,mt,r),__privateSet(this,_t,t),__privateSet(this,vt,n),__privateSet(this,gt,i),__privateSet(this,yt,a),__privateSet(this,kt,new AbortController),__privateSet(this,xt,AbortSignal.any([s,__privateGet(this,kt).signal])),e.addEventListener("touchstart",__privateMethod(this,At,Mt).bind(this),{passive:!1,signal:__privateGet(this,xt)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/mm.pixelRatio}destroy(){var e,t;null==(e=__privateGet(this,kt))||e.abort(),__privateSet(this,kt,null),null==(t=__privateGet(this,bt))||t.abort(),__privateSet(this,bt,null)}};pt=new WeakMap,ft=new WeakMap,mt=new WeakMap,_t=new WeakMap,vt=new WeakMap,gt=new WeakMap,yt=new WeakMap,bt=new WeakMap,xt=new WeakMap,wt=new WeakMap,kt=new WeakMap,St=new WeakMap,At=new WeakSet,Mt=function(e){var t,r,n;if(null==(t=__privateGet(this,_t))?void 0:t.call(this))return;if(1===e.touches.length){if(__privateGet(this,bt))return;const e=__privateSet(this,bt,new AbortController),t=AbortSignal.any([__privateGet(this,xt),e.signal]),r=__privateGet(this,pt),n={capture:!0,signal:t,passive:!1},i=e=>{var t;"touch"===e.pointerType&&(null==(t=__privateGet(this,bt))||t.abort(),__privateSet(this,bt,null))};return r.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(lm(e),i(e))},n),r.addEventListener("pointerup",i,n),void r.addEventListener("pointercancel",i,n)}if(!__privateGet(this,St)){__privateSet(this,St,new AbortController);const e=AbortSignal.any([__privateGet(this,xt),__privateGet(this,St).signal]),t=__privateGet(this,pt),n={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",__privateMethod(this,At,Ct).bind(this),n);const i=__privateMethod(this,At,Nt).bind(this);t.addEventListener("touchend",i,n),t.addEventListener("touchcancel",i,n),n.capture=!0,t.addEventListener("pointerdown",lm,n),t.addEventListener("pointermove",lm,n),t.addEventListener("pointercancel",lm,n),t.addEventListener("pointerup",lm,n),null==(r=__privateGet(this,vt))||r.call(this)}if(lm(e),2!==e.touches.length||(null==(n=__privateGet(this,mt))?void 0:n.call(this)))return void __privateSet(this,wt,null);let[i,a]=e.touches;i.identifier>a.identifier&&([i,a]=[a,i]),__privateSet(this,wt,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:a.screenX,touch1Y:a.screenY})},Ct=function(e){var t;if(!__privateGet(this,wt)||2!==e.touches.length)return;lm(e);let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]);const{screenX:i,screenY:a}=r,{screenX:s,screenY:o}=n,l=__privateGet(this,wt),{touch0X:c,touch0Y:d,touch1X:u,touch1Y:h}=l,p=u-c,f=h-d,m=s-i,_=o-a,v=Math.hypot(m,_)||1,g=Math.hypot(p,f)||1;if(!__privateGet(this,ft)&&Math.abs(g-v)<=Pm.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=a,l.touch1X=s,l.touch1Y=o,!__privateGet(this,ft))return void __privateSet(this,ft,!0);const y=[(i+s)/2,(a+o)/2];null==(t=__privateGet(this,gt))||t.call(this,y,g,v)},Nt=function(e){var t;e.touches.length>=2||(__privateGet(this,St)&&(__privateGet(this,St).abort(),__privateSet(this,St,null),null==(t=__privateGet(this,yt))||t.call(this)),__privateGet(this,wt)&&(lm(e),__privateSet(this,wt,null),__privateSet(this,ft,!1)))};let Rm=Pm;const Tm=class e{constructor(t){__privateAdd(this,Zt),__privateAdd(this,Et,null),__privateAdd(this,jt,null),__privateAdd(this,Gt,null),__privateAdd(this,Pt,!1),__privateAdd(this,Rt,null),__privateAdd(this,Tt,""),__privateAdd(this,Lt,!1),__privateAdd(this,Dt,null),__privateAdd(this,It,null),__privateAdd(this,Ft,null),__privateAdd(this,Ot,null),__privateAdd(this,zt,""),__privateAdd(this,Wt,!1),__privateAdd(this,$t,null),__privateAdd(this,Bt,!1),__privateAdd(this,Vt,!1),__privateAdd(this,Ht,!1),__privateAdd(this,Ut,null),__privateAdd(this,qt,0),__privateAdd(this,Xt,0),__privateAdd(this,Kt,null),__privateAdd(this,Yt,null),__publicField(this,"isSelected",!1),__publicField(this,"_isCopy",!1),__publicField(this,"_editToolbar",null),__publicField(this,"_initialOptions",Object.create(null)),__publicField(this,"_initialData",null),__publicField(this,"_isVisible",!0),__publicField(this,"_uiManager",null),__publicField(this,"_focusEventsAllowed",!0),__privateAdd(this,Qt,!1),__privateAdd(this,Jt,e._zIndex++),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,s];const[o,l]=this.parentDimensions;this.x=t.x/o,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=e.prototype._resizeWithKeyboard,r=Em.TRANSLATE_SMALL,n=Em.TRANSLATE_BIG;return Ef(this,"_resizerKeyboardManager",new Am([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],e.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ef(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Dm({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(t,r){if(null!=e._l10n||(e._l10n=t),e._l10nResizer||(e._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==e._borderLineWidth)return;const n=getComputedStyle(document.documentElement);e._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Af("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return __privateGet(this,Qt)}set _isDraggable(e){var t;__privateSet(this,Qt,e),null==(t=this.div)||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=__privateGet(this,Jt)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):__privateMethod(this,Zt,yr).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(__privateGet(this,Wt)?__privateSet(this,Wt,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const r=e.relatedTarget;(null==r?void 0:r.closest(`#${this.id}`))||(e.preventDefault(),(null==(t=this.parent)?void 0:t.isMultipleSelection)||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,n){const[i,a]=this.parentDimensions;[r,n]=this.screenToPageTranslation(r,n),this.x=(e+r)/i,this.y=(t+n)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,n]=this.parentDimensions;this.setAt(e*r,t*n,this.width*r,this.height*n),this._onTranslated()}translate(e,t){__privateMethod(this,Zt,er).call(this,this.parentDimensions,e,t)}translateInPage(e,t){__privateGet(this,$t)||__privateSet(this,$t,[this.x,this.y,this.width,this.height]),__privateMethod(this,Zt,er).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){__privateGet(this,$t)||__privateSet(this,$t,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[n,i]}=this;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,l]=this.getBaseTranslation();a+=o,s+=l;const{style:c}=r;c.left=`${(100*a).toFixed(2)}%`,c.top=`${(100*s).toFixed(2)}%`,this._onTranslating(a,s),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!__privateGet(this,$t)&&(__privateGet(this,$t)[0]!==this.x||__privateGet(this,$t)[1]!==this.y)}get _hasBeenResized(){return!!__privateGet(this,$t)&&(__privateGet(this,$t)[2]!==this.width||__privateGet(this,$t)[3]!==this.height)}getBaseTranslation(){const[t,r]=this.parentDimensions,{_borderLineWidth:n}=e,i=n/t,a=n/r;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,n]}=this;let{x:i,y:a,width:s,height:o}=this;if(s*=r,o*=n,i*=r,a*=n,this._mustFixPosition)switch(e){case 0:i=qf(i,0,r-s),a=qf(a,0,n-o);break;case 90:i=qf(i,0,r-o),a=qf(a,s,n);break;case 180:i=qf(i,s,r),a=qf(a,o,n);break;case 270:i=qf(i,o,r),a=qf(a,0,n-s)}this.x=i/=r,this.y=a/=n;const[l,c]=this.getBaseTranslation();i+=l,a+=c,t.left=`${(100*i).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,r){var n;return __privateMethod(n=e,tr,rr).call(n,t,r,this.parentRotation)}pageTranslationToScreen(t,r){var n;return __privateMethod(n=e,tr,rr).call(n,t,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,n]=this.parentDimensions,{style:i}=this.div;i.width=`${(100*e/r).toFixed(2)}%`,__privateGet(this,Lt)||(i.height=`${(100*t/n).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,n=r.endsWith("%"),i=!__privateGet(this,Lt)&&t.endsWith("%");if(n&&i)return;const[a,s]=this.parentDimensions;n||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),__privateGet(this,Lt)||i||(e.height=`${(100*parseFloat(t)/s).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null==(e=__privateGet(this,Gt))||e.finish()}get toolbarButtons(){return null}addEditToolbar(){return __async(this,null,function*(){if(this._editToolbar||__privateGet(this,Vt))return this._editToolbar;this._editToolbar=new gm(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)yield this._editToolbar.addButton(t,r);return this._editToolbar.addButton("delete"),this._editToolbar})}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null==(e=__privateGet(this,Gt))||e.destroy())}addContainer(e){var t;const r=null==(t=this._editToolbar)?void 0:t.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return __privateGet(this,Gt)||(Gm.initialize(e._l10n),__privateSet(this,Gt,new Gm(this)),__privateGet(this,Et)&&(__privateGet(this,Gt).data=__privateGet(this,Et),__privateSet(this,Et,null))),__privateGet(this,Gt)}get altTextData(){var e;return null==(e=__privateGet(this,Gt))?void 0:e.data}set altTextData(e){__privateGet(this,Gt)&&(__privateGet(this,Gt).data=e)}get guessedAltText(){var e;return null==(e=__privateGet(this,Gt))?void 0:e.guessedText}setGuessedAltText(e){return __async(this,null,function*(){var t;yield null==(t=__privateGet(this,Gt))?void 0:t.setGuessedText(e)})}serializeAltText(e){var t;return null==(t=__privateGet(this,Gt))?void 0:t.serialize(e)}hasAltText(){return!!__privateGet(this,Gt)&&!__privateGet(this,Gt).isEmpty()}hasAltTextData(){var e,t;return null!=(t=null==(e=__privateGet(this,Gt))?void 0:e.hasData())&&t}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=__privateGet(this,Pt)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),__privateMethod(this,Zt,fr).call(this);const[r,n]=this.parentDimensions;this.parentRotation%180!=0&&(t.style.maxWidth=`${(100*n/r).toFixed(2)}%`,t.style.maxHeight=`${(100*r/n).toFixed(2)}%`);const[i,a]=this.getInitialTranslation();return this.translate(i,a),bm(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(__privateGet(this,Yt)||__privateSet(this,Yt,new Rm({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:__privateMethod(this,Zt,cr).bind(this),onPinching:__privateMethod(this,Zt,dr).bind(this),onPinchEnd:__privateMethod(this,Zt,ur).bind(this),signal:this._uiManager._signal}))),null==(e=this._uiManager._editorUndoBar)||e.hide(),t}pointerdown(e){const{isMac:t}=Of.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(__privateSet(this,Wt,!0),this._isDraggable?__privateMethod(this,Zt,pr).call(this,e):__privateMethod(this,Zt,hr).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){__privateGet(this,Ut)&&clearTimeout(__privateGet(this,Ut)),__privateSet(this,Ut,setTimeout(()=>{var e;__privateSet(this,Ut,null),null==(e=this.parent)||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const n=this.parentScale,[i,a]=this.pageDimensions,[s,o]=this.pageTranslation,l=e/n,c=t/n,d=this.x*i,u=this.y*a,h=this.width*i,p=this.height*a;switch(r){case 0:return[d+l+s,a-u-c-p+o,d+l+h+s,a-u-c+o];case 90:return[d+c+s,a-u+l+o,d+c+p+s,a-u+l+h+o];case 180:return[d-l-h+s,a-u+c+o,d-l+s,a-u+c+p+o];case 270:return[d-c-p+s,a-u-l-h+o,d-c+s,a-u-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,n,i,a]=e,s=i-r,o=a-n;switch(this.rotation){case 0:return[r,t-a,s,o];case 90:return[r,t-n,o,s];case 180:return[i,t-n,s,o];case 270:return[i,t-a,o,s];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),__privateSet(this,Vt,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),__privateSet(this,Vt,!1),!0)}isInEditMode(){return __privateGet(this,Vt)}shouldGetKeyboardEvents(){return __privateGet(this,Ht)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:n}=this.getClientDimensions(),{innerHeight:i,innerWidth:a}=window;return t<a&&n>0&&e<i&&r>0}rebuild(){__privateMethod(this,Zt,fr).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null==(e=this._initialData)?void 0:e.popupRef)||""}}serialize(e=!1,t=null){Af("An editor must be serializable")}static deserialize(e,t,r){return __async(this,null,function*(){const n=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId});n.rotation=e.rotation,__privateSet(n,Et,e.accessibilityData),n._isCopy=e.isCopy||!1;const[i,a]=n.pageDimensions,[s,o,l,c]=n.getRectInCurrentCoords(e.rect,a);return n.x=s/i,n.y=o/a,n.width=l/i,n.height=c/a,n})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t;if(null==(e=__privateGet(this,Ot))||e.abort(),__privateSet(this,Ot,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),__privateGet(this,Ut)&&(clearTimeout(__privateGet(this,Ut)),__privateSet(this,Ut,null)),__privateMethod(this,Zt,yr).call(this),this.removeEditToolbar(),__privateGet(this,Kt)){for(const e of __privateGet(this,Kt).values())clearTimeout(e);__privateSet(this,Kt,null)}this.parent=null,null==(t=__privateGet(this,Yt))||t.destroy(),__privateSet(this,Yt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(__privateMethod(this,Zt,ir).call(this),__privateGet(this,Dt).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),__privateSet(this,Ft,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=__privateGet(this,Dt).children;if(!__privateGet(this,jt)){__privateSet(this,jt,Array.from(r));const t=__privateMethod(this,Zt,mr).bind(this),n=__privateMethod(this,Zt,_r).bind(this),i=this._uiManager._signal;for(const r of __privateGet(this,jt)){const a=r.getAttribute("data-resizer-name");r.setAttribute("role","spinbutton"),r.addEventListener("keydown",t,{signal:i}),r.addEventListener("blur",n,{signal:i}),r.addEventListener("focus",__privateMethod(this,Zt,vr).bind(this,a),{signal:i}),r.setAttribute("data-l10n-id",e._l10nResizer[a])}}const n=__privateGet(this,jt)[0];let i=0;for(const e of r){if(e===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(__privateGet(this,jt).length/4);if(a!==i){if(a<i)for(let e=0;e<i-a;e++)__privateGet(this,Dt).append(__privateGet(this,Dt).firstChild);else if(a>i)for(let e=0;e<a-i;e++)__privateGet(this,Dt).firstChild.before(__privateGet(this,Dt).lastChild);let t=0;for(const n of r){const r=__privateGet(this,jt)[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",e._l10nResizer[r])}}__privateMethod(this,Zt,gr).call(this,0),__privateSet(this,Ht,!0),__privateGet(this,Dt).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(e,t){__privateGet(this,Ht)&&__privateMethod(this,Zt,lr).call(this,__privateGet(this,zt),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){__privateMethod(this,Zt,yr).call(this),this.div.focus()}select(){var e,t,r;this.isSelected&&this._editToolbar||(this.isSelected=!0,this.makeResizable(),null==(e=this.div)||e.classList.add("selectedEditor"),this._editToolbar?(null==(t=this._editToolbar)||t.show(),null==(r=__privateGet(this,Gt))||r.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;(null==(e=this.div)?void 0:e.classList.contains("selectedEditor"))&&(null==(t=this._editToolbar)||t.show())}))}unselect(){var e,t,r,n,i;this.isSelected&&(this.isSelected=!1,null==(e=__privateGet(this,Dt))||e.classList.add("hidden"),null==(t=this.div)||t.classList.remove("selectedEditor"),(null==(r=this.div)?void 0:r.contains(document.activeElement))&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null==(n=this._editToolbar)||n.hide(),null==(i=__privateGet(this,Gt))||i.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return __privateGet(this,Bt)}set isEditing(e){__privateSet(this,Bt,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){__privateSet(this,Lt,!0);const r=e/t,{style:n}=this.div;n.aspectRatio=r,n.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,r=!1){if(r){__privateGet(this,Kt)||__privateSet(this,Kt,new Map);const{action:r}=t;let n=__privateGet(this,Kt).get(r);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(t),__privateGet(this,Kt).delete(r),0===__privateGet(this,Kt).size&&__privateSet(this,Kt,null)},e._telemetryTimeout),void __privateGet(this,Kt).set(r,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),__privateSet(this,Pt,!1)}disable(){this.div&&(this.div.tabIndex=-1),__privateSet(this,Pt,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null==t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}};Et=new WeakMap,jt=new WeakMap,Gt=new WeakMap,Pt=new WeakMap,Rt=new WeakMap,Tt=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,It=new WeakMap,Ft=new WeakMap,Ot=new WeakMap,zt=new WeakMap,Wt=new WeakMap,$t=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,Ht=new WeakMap,Ut=new WeakMap,qt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Yt=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,Zt=new WeakSet,er=function([e,t],r,n){[r,n]=this.screenToPageTranslation(r,n),this.x+=r/e,this.y+=n/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},tr=new WeakSet,rr=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},nr=function(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}},ir=function(){if(__privateGet(this,Dt))return;__privateSet(this,Dt,document.createElement("div")),__privateGet(this,Dt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const e=document.createElement("div");__privateGet(this,Dt).append(e),e.classList.add("resizer",r),e.setAttribute("data-resizer-name",r),e.addEventListener("pointerdown",__privateMethod(this,Zt,ar).bind(this,r),{signal:t}),e.addEventListener("contextmenu",om,{signal:t}),e.tabIndex=-1}this.div.prepend(__privateGet(this,Dt))},ar=function(e,t){var r;t.preventDefault();const{isMac:n}=Of.platform;if(0!==t.button||t.ctrlKey&&n)return;null==(r=__privateGet(this,Gt))||r.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,__privateSet(this,It,[t.screenX,t.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",__privateMethod(this,Zt,lr).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",lm,{passive:!1,signal:s}),window.addEventListener("contextmenu",om,{signal:s}),__privateSet(this,Ft,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var e;a.abort(),this.parent.togglePointerEvents(!0),null==(e=__privateGet(this,Gt))||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,__privateMethod(this,Zt,or).call(this)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},sr=function(e,t,r,n){this.width=r,this.height=n,this.x=e,this.y=t;const[i,a]=this.parentDimensions;this.setDims(i*r,a*n),this.fixAndSetPosition(),this._onResized()},or=function(){if(!__privateGet(this,Ft))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:n}=__privateGet(this,Ft);__privateSet(this,Ft,null);const i=this.x,a=this.y,s=this.width,o=this.height;i===e&&a===t&&s===r&&o===n||this.addCommands({cmd:__privateMethod(this,Zt,sr).bind(this,i,a,s,o),undo:__privateMethod(this,Zt,sr).bind(this,e,t,r,n),mustExec:!0})},lr=function(e,t){const[r,n]=this.parentDimensions,i=this.x,a=this.y,s=this.width,o=this.height,l=Tm.MIN_SIZE/r,c=Tm.MIN_SIZE/n,d=__privateMethod(this,Zt,nr).call(this,this.rotation),u=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],h=__privateMethod(this,Zt,nr).call(this,360-this.rotation);let p,f,m=!1,_=!1;switch(e){case"topLeft":m=!0,p=(e,t)=>[0,0],f=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],f=(e,t)=>[e/2,t];break;case"topRight":m=!0,p=(e,t)=>[e,0],f=(e,t)=>[0,t];break;case"middleRight":_=!0,p=(e,t)=>[e,t/2],f=(e,t)=>[0,t/2];break;case"bottomRight":m=!0,p=(e,t)=>[e,t],f=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],f=(e,t)=>[e/2,0];break;case"bottomLeft":m=!0,p=(e,t)=>[0,t],f=(e,t)=>[e,0];break;case"middleLeft":_=!0,p=(e,t)=>[0,t/2],f=(e,t)=>[e,t/2]}const v=p(s,o),g=f(s,o);let y=u(...g);const b=Tm._round(i+y[0]),x=Tm._round(a+y[1]);let w,k,S=1,A=1;if(t.fromKeyboard)({deltaX:w,deltaY:k}=t);else{const{screenX:e,screenY:r}=t,[n,i]=__privateGet(this,It);[w,k]=this.screenToPageTranslation(e-n,r-i),__privateGet(this,It)[0]=e,__privateGet(this,It)[1]=r}var M,C;if([w,k]=(M=w/r,C=k/n,[h[0]*M+h[2]*C,h[1]*M+h[3]*C]),m){const e=Math.hypot(s,o);S=A=Math.max(Math.min(Math.hypot(g[0]-v[0]-w,g[1]-v[1]-k)/e,1/s,1/o),l/s,c/o)}else _?S=qf(Math.abs(g[0]-v[0]-w),l,1)/s:A=qf(Math.abs(g[1]-v[1]-k),c,1)/o;const N=Tm._round(s*S),E=Tm._round(o*A);y=u(...f(N,E));const j=b-y[0],G=x-y[1];__privateGet(this,$t)||__privateSet(this,$t,[this.x,this.y,this.width,this.height]),this.width=N,this.height=E,this.x=j,this.y=G,this.setDims(r*N,n*E),this.fixAndSetPosition(),this._onResizing()},cr=function(){var e;__privateSet(this,Ft,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null==(e=__privateGet(this,Gt))||e.toggle(!1),this.parent.togglePointerEvents(!1)},dr=function(e,t,r){let n=r/t*.7+1-.7;if(1===n)return;const i=__privateMethod(this,Zt,nr).call(this,this.rotation),a=(e,t)=>[i[0]*e+i[2]*t,i[1]*e+i[3]*t],[s,o]=this.parentDimensions,l=this.x,c=this.y,d=this.width,u=this.height,h=Tm.MIN_SIZE/s,p=Tm.MIN_SIZE/o;n=Math.max(Math.min(n,1/d,1/u),h/d,p/u);const f=Tm._round(d*n),m=Tm._round(u*n);if(f===d&&m===u)return;__privateGet(this,$t)||__privateSet(this,$t,[l,c,d,u]);const _=a(d/2,u/2),v=Tm._round(l+_[0]),g=Tm._round(c+_[1]),y=a(f/2,m/2);this.x=v-y[0],this.y=g-y[1],this.width=f,this.height=m,this.setDims(s*f,o*m),this.fixAndSetPosition(),this._onResizing()},ur=function(){var e;null==(e=__privateGet(this,Gt))||e.toggle(!0),this.parent.togglePointerEvents(!0),__privateMethod(this,Zt,or).call(this)},hr=function(e){const{isMac:t}=Of.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},pr=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const n=new AbortController,i=this._uiManager.combinedSignal(n),a={capture:!0,passive:!1,signal:i},s=e=>{n.abort(),__privateSet(this,Rt,null),__privateSet(this,Wt,!1),this._uiManager.endDragSession()||__privateMethod(this,Zt,hr).call(this,e),r&&this._onStopDragging()};t&&(__privateSet(this,qt,e.clientX),__privateSet(this,Xt,e.clientY),__privateSet(this,Rt,e.pointerId),__privateSet(this,Tt,e.pointerType),window.addEventListener("pointermove",e=>{r||(r=!0,this._onStartDragging());const{clientX:t,clientY:n,pointerId:i}=e;if(i!==__privateGet(this,Rt))return void lm(e);const[a,s]=this.screenToPageTranslation(t-__privateGet(this,qt),n-__privateGet(this,Xt));__privateSet(this,qt,t),__privateSet(this,Xt,n),this._uiManager.dragSelectedEditors(a,s)},a),window.addEventListener("touchmove",lm,a),window.addEventListener("pointerdown",e=>{e.pointerType===__privateGet(this,Tt)&&(__privateGet(this,Yt)||e.isPrimary)&&s(e),lm(e)},a));const o=e=>{__privateGet(this,Rt)&&__privateGet(this,Rt)!==e.pointerId?lm(e):s(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})},fr=function(){if(__privateGet(this,Ot)||!this.div)return;__privateSet(this,Ot,new AbortController);const e=this._uiManager.combinedSignal(__privateGet(this,Ot));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},mr=function(e){Tm._resizerKeyboardManager.exec(this,e)},_r=function(e){var t;__privateGet(this,Ht)&&(null==(t=e.relatedTarget)?void 0:t.parentNode)!==__privateGet(this,Dt)&&__privateMethod(this,Zt,yr).call(this)},vr=function(e){__privateSet(this,zt,__privateGet(this,Ht)?e:"")},gr=function(e){if(__privateGet(this,jt))for(const t of __privateGet(this,jt))t.tabIndex=e},yr=function(){__privateSet(this,Ht,!1),__privateMethod(this,Zt,gr).call(this,-1),__privateMethod(this,Zt,or).call(this)},__privateAdd(Tm,tr),__publicField(Tm,"_l10n",null),__publicField(Tm,"_l10nResizer",null),__publicField(Tm,"_borderLineWidth",-1),__publicField(Tm,"_colorManager",new Cm),__publicField(Tm,"_zIndex",1),__publicField(Tm,"_telemetryTimeout",1e3);let Lm=Tm;class Dm extends Lm{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Im=3285377520,Fm=4294901760,Om=65535;class zm{constructor(e){this.h1=e?4294967295&e:Im,this.h2=e?4294967295&e:Im}update(e){let t,r;if("string"==typeof e){t=new Uint8Array(2*e.length),r=0;for(let n=0,i=e.length;n<i;n++){const i=e.charCodeAt(n);i<=255?t[r++]=i:(t[r++]=i>>>8,t[r++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),r=t.byteLength}const n=r>>2,i=r-4*n,a=new Uint32Array(t.buffer,0,n);let s=0,o=0,l=this.h1,c=this.h2;const d=3432918353,u=461845907,h=11601,p=13715;for(let f=0;f<n;f++)1&f?(s=a[f],s=s*d&Fm|s*h&Om,s=s<<15|s>>>17,s=s*u&Fm|s*p&Om,l^=s,l=l<<13|l>>>19,l=5*l+3864292196):(o=a[f],o=o*d&Fm|o*h&Om,o=o<<15|o>>>17,o=o*u&Fm|o*p&Om,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(s=0,i){case 3:s^=t[4*n+2]<<16;case 2:s^=t[4*n+1]<<8;case 1:s^=t[4*n],s=s*d&Fm|s*h&Om,s=s<<15|s>>>17,s=s*u&Fm|s*p&Om,1&n?l^=s:c^=s}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Fm|36045*e&Om,t=4283543511*t&Fm|(2950163797*(t<<16|e>>>16)&Fm)>>>16,e^=t>>>1,e=444984403*e&Fm|60499*e&Om,t=3301882366*t&Fm|(3120437893*(t<<16|e>>>16)&Fm)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Wm=Object.freeze({map:null,hash:"",transfer:void 0});class $m{constructor(){__privateAdd(this,kr),__privateAdd(this,br,!1),__privateAdd(this,xr,null),__privateAdd(this,wr,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=__privateGet(this,wr).get(e);return void 0===r?t:Object.assign(t,r)}getRawValue(e){return __privateGet(this,wr).get(e)}remove(e){if(__privateGet(this,wr).delete(e),0===__privateGet(this,wr).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of __privateGet(this,wr).values())if(e instanceof Lm)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=__privateGet(this,wr).get(e);let n=!1;if(void 0!==r)for(const[i,a]of Object.entries(t))r[i]!==a&&(n=!0,r[i]=a);else n=!0,__privateGet(this,wr).set(e,t);n&&__privateMethod(this,kr,Sr).call(this),t instanceof Lm&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return __privateGet(this,wr).has(e)}get size(){return __privateGet(this,wr).size}resetModified(){__privateGet(this,br)&&(__privateSet(this,br,!1),"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Bm(this)}get serializable(){if(0===__privateGet(this,wr).size)return Wm;const e=new Map,t=new zm,r=[],n=Object.create(null);let i=!1;for(const[a,s]of __privateGet(this,wr)){const r=s instanceof Lm?s.serialize(!1,n):s;r&&(e.set(a,r),t.update(`${a}:${JSON.stringify(r)}`),i||(i=!!r.bitmap))}if(i)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:Wm}get editorStats(){var e;let t=null;const r=new Map;for(const n of __privateGet(this,wr).values()){if(!(n instanceof Lm))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:a}=i;r.has(a)||r.set(a,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const s=t[a]||(t[a]=new Map);for(const[t,r]of Object.entries(i)){if("type"===t)continue;let n=s.get(t);n||(n=new Map,s.set(t,n));const i=null!=(e=n.get(r))?e:0;n.set(r,i+1)}}for(const[n,i]of r)t[n]=i.computeTelemetryFinalData(t[n]);return t}resetModifiedIds(){__privateSet(this,xr,null)}get modifiedIds(){if(__privateGet(this,xr))return __privateGet(this,xr);const e=[];for(const t of __privateGet(this,wr).values())t instanceof Lm&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return __privateSet(this,xr,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return __privateGet(this,wr).entries()}}br=new WeakMap,xr=new WeakMap,wr=new WeakMap,kr=new WeakSet,Sr=function(){__privateGet(this,br)||(__privateSet(this,br,!0),"function"==typeof this.onSetModified&&this.onSetModified())};class Bm extends $m{constructor(e){super(),__privateAdd(this,Ar);const{map:t,hash:r,transfer:n}=e.serializable,i=structuredClone(t,n?{transfer:n}:null);__privateSet(this,Ar,{map:i,hash:r,transfer:n})}get print(){Af("Should not call PrintAnnotationStorage.print")}get serializable(){return __privateGet(this,Ar)}get modifiedIds(){return Ef(this,"modifiedIds",{ids:new Set,hash:""})}}Ar=new WeakMap;class Vm{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){__privateAdd(this,Mr,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),__privateGet(this,Mr).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(e){return __async(this,arguments,function*({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(e&&!__privateGet(this,Mr).has(e.loadedName)){if(Mf(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:i,style:a}=e,s=new FontFace(t,i,a);this.addNativeFontFace(s);try{yield s.load(),__privateGet(this,Mr).add(t),null==r||r(e)}catch(n){Sf(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(s)}return}Af("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return __async(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void(yield this.loadSystemFont(e));if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{yield t.loaded}catch(r){throw Sf(`Failed to load font '${t.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(t=>{const r=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,r)})}})}get isFontLoadingAPISupported(){var e;return Ef(this,"isFontLoadingAPISupported",!!(null==(e=this._document)?void 0:e.fonts))}get isSyncFontLoadingSupported(){return Ef(this,"isSyncFontLoadingSupported",Fp||Of.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,r={done:!1,complete:function(){for(Mf(!r.done,"completeRequest() cannot be called twice."),r.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(r),r}get _loadTestFont(){return Ef(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function n(e,t,r,n){return e.substring(0,t)+n+e.substring(t+r)}let i,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let l=0;const c=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=n(d,976,c.length,c);const u=1482184792;let h=r(d,16);for(i=0,a=c.length-3;i<a;i+=4)h=h-u+r(c,i)|0;var p;i<c.length&&(h=h-u+r(c+"XXX",i)|0),d=n(d,16,4,(p=h,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${c}";src:${`url(data:font/opentype;base64,${btoa(d)});`}}`;this.insertRule(f);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const _ of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=_,m.append(e)}this._document.body.append(m),function e(t,r){if(++l>30)return Sf("Load test font never loaded."),void r();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?r():setTimeout(e.bind(null,t,r))}(c,()=>{m.remove(),t.complete()})}}Mr=new WeakMap;class Hm{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const r in e)this[r]=e[r];this._inspectFont=t}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null==(e=this._inspectFont)||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Xf(this.data)});`;let r;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return null==(e=this._inspectFont)||e.call(this,this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let n;try{n=e.get(r)}catch(a){Sf(`getPathGenerator - ignoring character: "${a}".`)}const i=new Path2D(n||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=i}}function Um(e){if("string"!=typeof e)return null;if(e.endsWith("/"))return e;throw new Error(`Invalid factory url: "${e}" must include trailing slash.`)}const qm=e=>"object"==typeof e&&Number.isInteger(null==e?void 0:e.num)&&e.num>=0&&Number.isInteger(null==e?void 0:e.gen)&&e.gen>=0,Xm=function(e,t,r){if(!Array.isArray(r)||r.length<2)return!1;const[n,i,...a]=r;if(!e(n)&&!Number.isInteger(n))return!1;if(!t(i))return!1;const s=a.length;let o=!0;switch(i.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const l of a)if(!("number"==typeof l||o&&null===l))return!1;return!0}.bind(null,qm,e=>"object"==typeof e&&"string"==typeof(null==e?void 0:e.name));class Km{constructor(){__privateAdd(this,Cr,new Map),__privateAdd(this,Nr,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};__privateGet(this,Nr).then(()=>{for(const[e]of __privateGet(this,Cr))e.call(this,r)})}addEventListener(e,t,r=null){let n=null;if((null==r?void 0:r.signal)instanceof AbortSignal){const{signal:i}=r;if(i.aborted)return void Sf("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(e,t);n=()=>i.removeEventListener("abort",a),i.addEventListener("abort",a)}__privateGet(this,Cr).set(t,n)}removeEventListener(e,t){const r=__privateGet(this,Cr).get(t);null==r||r(),__privateGet(this,Cr).delete(t)}terminate(){for(const[,e]of __privateGet(this,Cr))null==e||e();__privateGet(this,Cr).clear()}}Cr=new WeakMap,Nr=new WeakMap;const Ym=1,Qm=2,Jm=1,Zm=2,e_=3,t_=4,r_=5,n_=6,i_=7,a_=8;function s_(){}function o_(e){if(e instanceof Df||e instanceof Rf||e instanceof Gf||e instanceof Tf||e instanceof Pf)return e;switch(e instanceof Error||"object"==typeof e&&null!==e||Af('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Df(e.message);case"InvalidPDFException":return new Rf(e.message);case"PasswordException":return new Gf(e.message,e.code);case"ResponseException":return new Tf(e.message,e.status,e.missing);case"UnknownErrorException":return new Pf(e.message,e.details)}return new Pf(e.message,e.toString())}class l_{constructor(e,t,r){__privateAdd(this,jr),__privateAdd(this,Er,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",__privateMethod(this,jr,Gr).bind(this),{signal:__privateGet(this,Er).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const n=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[n]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},r)}catch(a){i.reject(a)}return i.promise}sendWithStream(e,t,r,n){const i=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:r=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:r,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:e,streamId:i,data:t,desiredSize:r.desiredSize},n),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:a,targetName:s,stream:n_,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Mf(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:Jm,streamId:i,reason:o_(e)}),t.promise}},r)}destroy(){var e;null==(e=__privateGet(this,Er))||e.abort(),__privateSet(this,Er,null)}}Er=new WeakMap,jr=new WeakSet,Gr=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream)return void __privateMethod(this,jr,Rr).call(this,e);if(e.callback){const t=e.callbackId,r=this.callbackCapabilities[t];if(!r)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===Ym)r.resolve(e.data);else{if(e.callback!==Qm)throw new Error("Unexpected callback case");r.reject(o_(e.reason))}return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,n=e.sourceName,i=this.comObj;return void Promise.try(t,e.data).then(function(t){i.postMessage({sourceName:r,targetName:n,callback:Ym,callbackId:e.callbackId,data:t})},function(t){i.postMessage({sourceName:r,targetName:n,callback:Qm,callbackId:e.callbackId,reason:o_(t)})})}e.streamId?__privateMethod(this,jr,Pr).call(this,e):t(e.data)},Pr=function(e){const t=e.streamId,r=this.sourceName,n=e.sourceName,i=this.comObj,a=this,s=this.actionHandler[e.action],o={enqueue(e,a=1,s){if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:r,targetName:n,stream:t_,streamId:t,chunk:e},s)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:n,stream:e_,streamId:t}),delete a.streamSinks[t])},error(e){Mf(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:r,targetName:n,stream:r_,streamId:t,reason:o_(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(s,e.data,o).then(function(){i.postMessage({sourceName:r,targetName:n,stream:a_,streamId:t,success:!0})},function(e){i.postMessage({sourceName:r,targetName:n,stream:a_,streamId:t,reason:o_(e)})})},Rr=function(e){const t=e.streamId,r=this.sourceName,n=e.sourceName,i=this.comObj,a=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case a_:e.success?a.startCall.resolve():a.startCall.reject(o_(e.reason));break;case i_:e.success?a.pullCall.resolve():a.pullCall.reject(o_(e.reason));break;case n_:if(!s){i.postMessage({sourceName:r,targetName:n,stream:i_,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||s_).then(function(){i.postMessage({sourceName:r,targetName:n,stream:i_,streamId:t,success:!0})},function(e){i.postMessage({sourceName:r,targetName:n,stream:i_,streamId:t,reason:o_(e)})});break;case t_:if(Mf(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case e_:if(Mf(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),__privateMethod(this,jr,Tr).call(this,a,t);break;case r_:Mf(a,"error should have stream controller"),a.controller.error(o_(e.reason)),__privateMethod(this,jr,Tr).call(this,a,t);break;case Zm:e.success?a.cancelCall.resolve():a.cancelCall.reject(o_(e.reason)),__privateMethod(this,jr,Tr).call(this,a,t);break;case Jm:if(!s)break;const o=o_(e.reason);Promise.try(s.onCancel||s_,o).then(function(){i.postMessage({sourceName:r,targetName:n,stream:Zm,streamId:t,success:!0})},function(e){i.postMessage({sourceName:r,targetName:n,stream:Zm,streamId:t,reason:o_(e)})}),s.sinkCapability.reject(o),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Tr=function(e,t){return __async(this,null,function*(){var r,n,i;yield Promise.allSettled([null==(r=e.startCall)?void 0:r.promise,null==(n=e.pullCall)?void 0:n.promise,null==(i=e.cancelCall)?void 0:i.promise]),delete this.streamControllers[t]})};class c_{constructor({enableHWA:e=!1}){__privateAdd(this,Lr,!1),__privateSet(this,Lr,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!__privateGet(this,Lr)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Af("Abstract method `_createCanvas` called.")}}Lr=new WeakMap;class d_ extends c_{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class u_{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch(e){return __async(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})})}_fetch(e){return __async(this,null,function*(){Af("Abstract method `_fetch` called.")})}}class h_ extends u_{_fetch(e){return __async(this,null,function*(){const t=yield Jf(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Ff(t)})}}class p_{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,n,i){return"none"}destroy(e=!1){}}class f_ extends p_{constructor({docId:e,ownerDocument:t=globalThis.document}){super(),__privateAdd(this,Br),__privateAdd(this,Dr),__privateAdd(this,Ir),__privateAdd(this,Fr),__privateAdd(this,Or),__privateAdd(this,zr),__privateAdd(this,Wr),__privateAdd(this,$r,0),__privateSet(this,Or,e),__privateSet(this,zr,t)}addFilter(e){if(!e)return"none";let t=__privateGet(this,Br,Vr).get(e);if(t)return t;const[r,n,i]=__privateMethod(this,Br,qr).call(this,e),a=1===e.length?r:`${r}${n}${i}`;if(t=__privateGet(this,Br,Vr).get(a),t)return __privateGet(this,Br,Vr).set(e,t),t;const s=`g_${__privateGet(this,Or)}_transfer_map_${__privateWrapper(this,$r)._++}`,o=__privateMethod(this,Br,Xr).call(this,s);__privateGet(this,Br,Vr).set(e,o),__privateGet(this,Br,Vr).set(a,o);const l=__privateMethod(this,Br,Qr).call(this,s);return __privateMethod(this,Br,Zr).call(this,r,n,i,l),o}addHCMFilter(e,t){var r;const n=`${e}-${t}`,i="base";let a=__privateGet(this,Br,Hr).get(i);if((null==a?void 0:a.key)===n)return a.url;if(a?(null==(r=a.filter)||r.remove(),a.key=n,a.url="none",a.filter=null):(a={key:n,url:"none",filter:null},__privateGet(this,Br,Hr).set(i,a)),!e||!t)return a.url;const s=__privateMethod(this,Br,tn).call(this,e);e=Wf.makeHexColor(...s);const o=__privateMethod(this,Br,tn).call(this,t);if(t=Wf.makeHexColor(...o),__privateGet(this,Br,Ur).style.color="","#000000"===e&&"#ffffff"===t||e===t)return a.url;const l=new Array(256);for(let p=0;p<=255;p++){const e=p/255;l[p]=e<=.03928?e/12.92:__pow((e+.055)/1.055,2.4)}const c=l.join(","),d=`g_${__privateGet(this,Or)}_hcm_filter`,u=a.filter=__privateMethod(this,Br,Qr).call(this,d);__privateMethod(this,Br,Zr).call(this,c,c,c,u),__privateMethod(this,Br,Yr).call(this,u);const h=(e,t)=>{const r=s[e]/255,n=o[e]/255,i=new Array(t+1);for(let a=0;a<=t;a++)i[a]=r+a/t*(n-r);return i.join(",")};return __privateMethod(this,Br,Zr).call(this,h(0,5),h(1,5),h(2,5),u),a.url=__privateMethod(this,Br,Xr).call(this,d),a.url}addAlphaFilter(e){let t=__privateGet(this,Br,Vr).get(e);if(t)return t;const[r]=__privateMethod(this,Br,qr).call(this,[e]),n=`alpha_${r}`;if(t=__privateGet(this,Br,Vr).get(n),t)return __privateGet(this,Br,Vr).set(e,t),t;const i=`g_${__privateGet(this,Or)}_alpha_map_${__privateWrapper(this,$r)._++}`,a=__privateMethod(this,Br,Xr).call(this,i);__privateGet(this,Br,Vr).set(e,a),__privateGet(this,Br,Vr).set(n,a);const s=__privateMethod(this,Br,Qr).call(this,i);return __privateMethod(this,Br,en).call(this,r,s),a}addLuminosityFilter(e){let t,r,n=__privateGet(this,Br,Vr).get(e||"luminosity");if(n)return n;if(e?([t]=__privateMethod(this,Br,qr).call(this,[e]),r=`luminosity_${t}`):r="luminosity",n=__privateGet(this,Br,Vr).get(r),n)return __privateGet(this,Br,Vr).set(e,n),n;const i=`g_${__privateGet(this,Or)}_luminosity_map_${__privateWrapper(this,$r)._++}`,a=__privateMethod(this,Br,Xr).call(this,i);__privateGet(this,Br,Vr).set(e,a),__privateGet(this,Br,Vr).set(r,a);const s=__privateMethod(this,Br,Qr).call(this,i);return __privateMethod(this,Br,Kr).call(this,s),e&&__privateMethod(this,Br,en).call(this,t,s),a}addHighlightHCMFilter(e,t,r,n,i){var a;const s=`${t}-${r}-${n}-${i}`;let o=__privateGet(this,Br,Hr).get(e);if((null==o?void 0:o.key)===s)return o.url;if(o?(null==(a=o.filter)||a.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},__privateGet(this,Br,Hr).set(e,o)),!t||!r)return o.url;const[l,c]=[t,r].map(__privateMethod(this,Br,tn).bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),u=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,p]=[n,i].map(__privateMethod(this,Br,tn).bind(this));u<d&&([d,u,h,p]=[u,d,p,h]),__privateGet(this,Br,Ur).style.color="";const f=(e,t,r)=>{const n=new Array(256),i=(u-d)/r,a=e/255,s=(t-e)/(255*r);let o=0;for(let l=0;l<=r;l++){const e=Math.round(d+l*i),t=a+l*s;for(let r=o;r<=e;r++)n[r]=t;o=e+1}for(let l=o;l<256;l++)n[l]=n[o-1];return n.join(",")},m=`g_${__privateGet(this,Or)}_hcm_${e}_filter`,_=o.filter=__privateMethod(this,Br,Qr).call(this,m);return __privateMethod(this,Br,Yr).call(this,_),__privateMethod(this,Br,Zr).call(this,f(h[0],p[0],5),f(h[1],p[1],5),f(h[2],p[2],5),_),o.url=__privateMethod(this,Br,Xr).call(this,m),o.url}destroy(e=!1){var t,r,n,i;e&&(null==(t=__privateGet(this,Wr))?void 0:t.size)||(null==(r=__privateGet(this,Fr))||r.parentNode.parentNode.remove(),__privateSet(this,Fr,null),null==(n=__privateGet(this,Ir))||n.clear(),__privateSet(this,Ir,null),null==(i=__privateGet(this,Wr))||i.clear(),__privateSet(this,Wr,null),__privateSet(this,$r,0))}}Dr=new WeakMap,Ir=new WeakMap,Fr=new WeakMap,Or=new WeakMap,zr=new WeakMap,Wr=new WeakMap,$r=new WeakMap,Br=new WeakSet,Vr=function(){return __privateGet(this,Ir)||__privateSet(this,Ir,new Map)},Hr=function(){return __privateGet(this,Wr)||__privateSet(this,Wr,new Map)},Ur=function(){if(!__privateGet(this,Fr)){const e=__privateGet(this,zr).createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const r=__privateGet(this,zr).createElementNS(Kf,"svg");r.setAttribute("width",0),r.setAttribute("height",0),__privateSet(this,Fr,__privateGet(this,zr).createElementNS(Kf,"defs")),e.append(r),r.append(__privateGet(this,Fr)),__privateGet(this,zr).body.append(e)}return __privateGet(this,Fr)},qr=function(e){if(1===e.length){const t=e[0],r=new Array(256);for(let e=0;e<256;e++)r[e]=t[e]/255;const n=r.join(",");return[n,n,n]}const[t,r,n]=e,i=new Array(256),a=new Array(256),s=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,a[o]=r[o]/255,s[o]=n[o]/255;return[i.join(","),a.join(","),s.join(",")]},Xr=function(e){if(void 0===__privateGet(this,Dr)){__privateSet(this,Dr,"");const e=__privateGet(this,zr).URL;e!==__privateGet(this,zr).baseURI&&(tm(e)?Sf('#createUrl: ignore "data:"-URL for performance reasons.'):__privateSet(this,Dr,Nf(e,"")))}return`url(${__privateGet(this,Dr)}#${e})`},Kr=function(e){const t=__privateGet(this,zr).createElementNS(Kf,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)},Yr=function(e){const t=__privateGet(this,zr).createElementNS(Kf,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)},Qr=function(e){const t=__privateGet(this,zr).createElementNS(Kf,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),__privateGet(this,Br,Ur).append(t),t},Jr=function(e,t,r){const n=__privateGet(this,zr).createElementNS(Kf,t);n.setAttribute("type","discrete"),n.setAttribute("tableValues",r),e.append(n)},Zr=function(e,t,r,n){const i=__privateGet(this,zr).createElementNS(Kf,"feComponentTransfer");n.append(i),__privateMethod(this,Br,Jr).call(this,i,"feFuncR",e),__privateMethod(this,Br,Jr).call(this,i,"feFuncG",t),__privateMethod(this,Br,Jr).call(this,i,"feFuncB",r)},en=function(e,t){const r=__privateGet(this,zr).createElementNS(Kf,"feComponentTransfer");t.append(r),__privateMethod(this,Br,Jr).call(this,r,"feFuncA",e)},tn=function(e){return __privateGet(this,Br,Ur).style.color=e,um(getComputedStyle(__privateGet(this,Br,Ur)).getPropertyValue("color"))};class m_{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(e){return __async(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(e=>{throw new Error(`Unable to load font data at: ${t}`)})})}_fetch(e){return __async(this,null,function*(){Af("Abstract method `_fetch` called.")})}}class __ extends m_{_fetch(e){return __async(this,null,function*(){const t=yield Jf(e,"arraybuffer");return new Uint8Array(t)})}}class v_{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(e){return __async(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(e=>{throw new Error(`Unable to load wasm data at: ${t}`)})})}_fetch(e){return __async(this,null,function*(){Af("Abstract method `_fetch` called.")})}}class g_ extends v_{_fetch(e){return __async(this,null,function*(){const t=yield Jf(e,"arraybuffer");return new Uint8Array(t)})}}function y_(e){return __async(this,null,function*(){const t=process.getBuiltinModule("fs"),r=yield t.promises.readFile(e);return new Uint8Array(r)})}Fp&&Sf("Please use the `legacy` build in Node.js environments.");class b_ extends p_{}class x_ extends c_{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(od&&"SCRIPT"===od.tagName.toUpperCase()&&od.src||new URL("lytsite-template.iife.js",document.baseURI).href)("@napi-rs/canvas").createCanvas(e,t)}}class w_ extends u_{_fetch(e){return __async(this,null,function*(){return y_(e)})}}class k_ extends m_{_fetch(e){return __async(this,null,function*(){return y_(e)})}}class S_ extends v_{_fetch(e){return __async(this,null,function*(){return y_(e)})}}const A_="Fill",M_="Stroke",C_="Shading";function N_(e,t){if(!t)return;const r=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],r,n),e.clip(i)}class E_{isModifyingCurrentTransform(){return!1}getPattern(){Af("Abstract method `getPattern` called.")}}class j_ extends E_{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,n){let i;if(n===M_||n===A_){const a=t.current.getClippedPathBoundingBox(n,hm(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,l=t.cachedCanvases.getCanvas("pattern",s,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-a[0],-a[1]),r=Wf.transform(r,[1,0,0,1,a[0],a[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),N_(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(r);i.setTransform(d)}else N_(e,this._bbox),i=this._createGradient(e);return i}}function G_(e,t,r,n,i,a,s,o){const l=t.coords,c=t.colors,d=e.data,u=4*e.width;let h;l[r+1]>l[n+1]&&(h=r,r=n,n=h,h=a,a=s,s=h),l[n+1]>l[i+1]&&(h=n,n=i,i=h,h=s,s=o,o=h),l[r+1]>l[n+1]&&(h=r,r=n,n=h,h=a,a=s,s=h);const p=(l[r]+t.offsetX)*t.scaleX,f=(l[r+1]+t.offsetY)*t.scaleY,m=(l[n]+t.offsetX)*t.scaleX,_=(l[n+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,g=(l[i+1]+t.offsetY)*t.scaleY;if(f>=g)return;const y=c[a],b=c[a+1],x=c[a+2],w=c[s],k=c[s+1],S=c[s+2],A=c[o],M=c[o+1],C=c[o+2],N=Math.round(f),E=Math.round(g);let j,G,P,R,T,L,D,I;for(let F=N;F<=E;F++){if(F<_){const e=F<f?0:(f-F)/(f-_);j=p-(p-m)*e,G=y-(y-w)*e,P=b-(b-k)*e,R=x-(x-S)*e}else{let e;e=F>g?1:_===g?0:(_-F)/(_-g),j=m-(m-v)*e,G=w-(w-A)*e,P=k-(k-M)*e,R=S-(S-C)*e}let e;e=F<f?0:F>g?1:(f-F)/(f-g),T=p-(p-v)*e,L=y-(y-A)*e,D=b-(b-M)*e,I=x-(x-C)*e;const t=Math.round(Math.min(j,T)),r=Math.round(Math.max(j,T));let n=u*F+4*t;for(let i=t;i<=r;i++)e=(j-i)/(j-T),e<0?e=0:e>1&&(e=1),d[n++]=G-(G-L)*e|0,d[n++]=P-(P-D)*e|0,d[n++]=R-(R-I)*e|0,d[n++]=255}}function P_(e,t,r){const n=t.coords,i=t.colors;let a,s;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(a=0;a<l;a++){let t=a*o;for(let a=0;a<c;a++,t++)G_(e,r,n[t],n[t+1],n[t+o],i[t],i[t+1],i[t+o]),G_(e,r,n[t+o+1],n[t+1],n[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(a=0,s=n.length;a<s;a+=3)G_(e,r,n[a],n[a+1],n[a+2],i[a],i[a+1],i[a+2]);break;default:throw new Error("illegal figure")}}class R_ extends E_{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const n=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-n,s=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),c=a/o,d=s/l,u={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-i,scaleX:1/c,scaleY:1/d},h=o+4,p=l+4,f=r.getCanvas("mesh",h,p),m=f.context,_=m.createImageData(o,l);if(t){const e=_.data;for(let r=0,n=e.length;r<n;r+=4)e[r]=t[0],e[r+1]=t[1],e[r+2]=t[2],e[r+3]=255}for(const v of this._figures)P_(_,v,u);m.putImageData(_,2,2);return{canvas:f.canvas,offsetX:n-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,n){N_(e,this._bbox);const i=new Float32Array(2);if(n===C_)Wf.singularValueDecompose2dScale(hm(e),i);else if(this.matrix){Wf.singularValueDecompose2dScale(this.matrix,i);const[e,r]=i;Wf.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=e,i[1]*=r}else Wf.singularValueDecompose2dScale(t.baseTransform,i);const a=this._createMeshCanvas(i,n===C_?null:this._background,t.cachedCanvases);return n!==C_&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class T_ extends E_{getPattern(){return"hotpink"}}const L_=1,D_=2,I_=class e{constructor(e,t,r,n){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=n}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:n,tilingType:i,color:a,canvasGraphicsFactory:s}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),kf("TilingType: "+i);const c=t[0],d=t[1],u=t[2],h=t[3],p=u-c,f=h-d,m=new Float32Array(2);Wf.singularValueDecompose2dScale(this.matrix,m);const[_,v]=m;Wf.singularValueDecompose2dScale(this.baseTransform,m);const g=_*m[0],y=v*m[1];let b=p,x=f,w=!1,k=!1;const S=Math.ceil(o*g),A=Math.ceil(l*y);S>=Math.ceil(p*g)?b=o:w=!0,A>=Math.ceil(f*y)?x=l:k=!0;const M=this.getSizeAndScale(b,this.ctx.canvas.width,g),C=this.getSizeAndScale(x,this.ctx.canvas.height,y),N=e.cachedCanvases.getCanvas("pattern",M.size,C.size),E=N.context,j=s.createCanvasGraphics(E);if(j.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(j,n,a),E.translate(-M.scale*c,-C.scale*d),j.transform(M.scale,0,0,C.scale,0,0),E.save(),this.clipBbox(j,c,d,u,h),j.baseTransform=hm(j.ctx),j.executeOperatorList(r),j.endDrawing(),E.restore(),w||k){const t=N.canvas;w&&(b=o),k&&(x=l);const r=this.getSizeAndScale(b,this.ctx.canvas.width,g),n=this.getSizeAndScale(x,this.ctx.canvas.height,y),i=r.size,a=n.size,s=e.cachedCanvases.getCanvas("pattern-workaround",i,a),u=s.context,h=w?Math.floor(p/o):0,m=k?Math.floor(f/l):0;for(let e=0;e<=h;e++)for(let r=0;r<=m;r++)u.drawImage(t,i*e,a*r,i,a,0,0,i,a);return{canvas:s.canvas,scaleX:r.scale,scaleY:n.scale,offsetX:c,offsetY:d}}return{canvas:N.canvas,scaleX:M.scale,scaleY:C.scale,offsetX:c,offsetY:d}}getSizeAndScale(t,r,n){const i=Math.max(e.MAX_PATTERN_SIZE,r);let a=Math.ceil(t*n);return a>=i?a=i:n=a/t,{scale:n,size:a}}clipBbox(e,t,r,n,i){const a=n-t,s=i-r;e.ctx.rect(t,r,a,s),Wf.axialAlignedBoundingBox([t,r,n,i],hm(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const n=e.ctx,i=e.current;switch(t){case L_:const{fillStyle:e,strokeStyle:a}=this.ctx;n.fillStyle=i.fillColor=e,n.strokeStyle=i.strokeColor=a;break;case D_:n.fillStyle=n.strokeStyle=r,i.fillColor=i.strokeColor=r;break;default:throw new Lf(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,n){let i=r;n!==C_&&(i=Wf.transform(i,t.baseTransform),this.matrix&&(i=Wf.transform(i,this.matrix)));const a=this.createPatternCanvas(t);let s=new DOMMatrix(i);s=s.translate(a.offsetX,a.offsetY),s=s.scale(1/a.scaleX,1/a.scaleY);const o=e.createPattern(a.canvas,"repeat");return o.setTransform(s),o}};__publicField(I_,"MAX_PATTERN_SIZE",3e3);let F_=I_;function O_({src:e,srcPos:t=0,dest:r,width:n,height:i,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=Of.isLittleEndian?4278190080:255,[l,c]=s?[a,o]:[o,a],d=n>>3,u=7&n,h=e.length;r=new Uint32Array(r.buffer);let p=0;for(let f=0;f<i;f++){for(const i=t+d;t<i;t++){const n=t<h?e[t]:255;r[p++]=128&n?c:l,r[p++]=64&n?c:l,r[p++]=32&n?c:l,r[p++]=16&n?c:l,r[p++]=8&n?c:l,r[p++]=4&n?c:l,r[p++]=2&n?c:l,r[p++]=1&n?c:l}if(0===u)continue;const n=t<h?e[t++]:255;for(let e=0;e<u;e++)r[p++]=n&1<<7-e?c:l}return{srcPos:t,destPos:p}}const z_=16,W_=new DOMMatrix,$_=new Float32Array(2),B_=new Float32Array([1/0,1/0,-1/0,-1/0]);class V_{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let n;return void 0!==this.cache[e]?(n=this.cache[e],this.canvasFactory.reset(n,t,r)):(n=this.canvasFactory.create(t,r),this.cache[e]=n),n}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function H_(e,t,r,n,i,a,s,o,l,c){const[d,u,h,p,f,m]=hm(e);if(0===u&&0===h){const _=s*d+f,v=Math.round(_),g=o*p+m,y=Math.round(g),b=(s+l)*d+f,x=Math.abs(Math.round(b)-v)||1,w=(o+c)*p+m,k=Math.abs(Math.round(w)-y)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,y),e.drawImage(t,r,n,i,a,0,0,x,k),e.setTransform(d,u,h,p,f,m),[x,k]}if(0===d&&0===p){const _=o*h+f,v=Math.round(_),g=s*u+m,y=Math.round(g),b=(o+c)*h+f,x=Math.abs(Math.round(b)-v)||1,w=(s+l)*u+m,k=Math.abs(Math.round(w)-y)||1;return e.setTransform(0,Math.sign(u),Math.sign(h),0,v,y),e.drawImage(t,r,n,i,a,0,0,k,x),e.setTransform(d,u,h,p,f,m),[k,x]}e.drawImage(t,r,n,i,a,s,o,l,c);return[Math.hypot(d,u)*l,Math.hypot(h,p)*c]}class U_{constructor(e,t){__publicField(this,"alphaIsShape",!1),__publicField(this,"fontSize",0),__publicField(this,"fontSizeScale",1),__publicField(this,"textMatrix",null),__publicField(this,"textMatrixScale",1),__publicField(this,"fontMatrix",Op),__publicField(this,"leading",0),__publicField(this,"x",0),__publicField(this,"y",0),__publicField(this,"lineX",0),__publicField(this,"lineY",0),__publicField(this,"charSpacing",0),__publicField(this,"wordSpacing",0),__publicField(this,"textHScale",1),__publicField(this,"textRenderingMode",ef),__publicField(this,"textRise",0),__publicField(this,"fillColor","#000000"),__publicField(this,"strokeColor","#000000"),__publicField(this,"patternFill",!1),__publicField(this,"patternStroke",!1),__publicField(this,"fillAlpha",1),__publicField(this,"strokeAlpha",1),__publicField(this,"lineWidth",1),__publicField(this,"activeSMask",null),__publicField(this,"transferMaps","none"),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=B_.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=A_,t=null){const r=this.minMax.slice();if(e===M_){t||Af("Stroke bounding box must include transform."),Wf.singularValueDecompose2dScale(t,$_);const e=$_[0]*this.lineWidth/2,n=$_[1]*this.lineWidth/2;r[0]-=e,r[1]-=n,r[2]+=e,r[3]+=n}return r}updateClipFromPath(){const e=Wf.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(B_,0)}getClippedPathBoundingBox(e=A_,t=null){return Wf.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function q_(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const r=t.height,n=t.width,i=r%z_,a=(r-i)/z_,s=0===i?a:a+1,o=e.createImageData(n,z_);let l,c=0;const d=t.data,u=o.data;let h,p,f,m;if(t.kind===of.GRAYSCALE_1BPP){const t=d.byteLength,r=new Uint32Array(u.buffer,0,u.byteLength>>2),m=r.length,_=n+7>>3,v=4294967295,g=Of.isLittleEndian?4278190080:255;for(h=0;h<s;h++){for(f=h<a?z_:i,l=0,p=0;p<f;p++){const e=t-c;let i=0;const a=e>_?n:8*e-7,s=-8&a;let o=0,u=0;for(;i<s;i+=8)u=d[c++],r[l++]=128&u?v:g,r[l++]=64&u?v:g,r[l++]=32&u?v:g,r[l++]=16&u?v:g,r[l++]=8&u?v:g,r[l++]=4&u?v:g,r[l++]=2&u?v:g,r[l++]=1&u?v:g;for(;i<a;i++)0===o&&(u=d[c++],o=128),r[l++]=u&o?v:g,o>>=1}for(;l<m;)r[l++]=0;e.putImageData(o,0,h*z_)}}else if(t.kind===of.RGBA_32BPP){for(p=0,m=n*z_*4,h=0;h<a;h++)u.set(d.subarray(c,c+m)),c+=m,e.putImageData(o,0,p),p+=z_;h<s&&(m=n*i*4,u.set(d.subarray(c,c+m)),e.putImageData(o,0,p))}else{if(t.kind!==of.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(f=z_,m=n*f,h=0;h<s;h++){for(h>=a&&(f=i,m=n*f),l=0,p=m;p--;)u[l++]=d[c++],u[l++]=d[c++],u[l++]=d[c++],u[l++]=255;e.putImageData(o,0,h*z_)}}}function X_(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const r=t.height,n=t.width,i=r%z_,a=(r-i)/z_,s=0===i?a:a+1,o=e.createImageData(n,z_);let l=0;const c=t.data,d=o.data;for(let u=0;u<s;u++){const t=u<a?z_:i;({srcPos:l}=O_({src:c,srcPos:l,dest:d,width:n,height:t,nonBlackColor:0})),e.putImageData(o,0,u*z_)}}function K_(e,t){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)void 0!==e[n]&&(t[n]=e[n]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Y_(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function Q_(e,t){if(t)return!0;Wf.singularValueDecompose2dScale(e,$_);const r=Math.fround(mm.pixelRatio*Qf.PDF_TO_CSS_UNITS);return $_[0]<=r&&$_[1]<=r}const J_=["butt","round","square"],Z_=["miter","round","bevel"],ev={},tv={};rn=new WeakSet,nn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},an=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},sn=function(e,t,r){const n=new Path2D;return n.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),n};let rv=class e{constructor(e,t,r,n,i,{optionalContentConfig:a,markedContentStack:s=null},o,l){__privateAdd(this,rn),this.ctx=e,this.current=new U_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=a,this.cachedCanvases=new V_(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=o,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:n=null}){const i=this.ctx.canvas.width,a=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=n||"#ffffff",this.ctx.fillRect(0,0,i,a),this.ctx.fillStyle=s,r){const e=this.cachedCanvases.getCanvas("transparent",i,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...hm(this.compositeCtx))}this.ctx.save(),Y_(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=hm(this.ctx)}executeOperatorList(e,t,r,n){const i=e.argsArray,a=e.fnArray;let s=t||0;const o=i.length;if(o===s)return s;const l=o-s>10&&"function"==typeof r,c=l?Date.now()+15:0;let d=0;const u=this.commonObjs,h=this.objs;let p;for(;;){if(void 0!==n&&s===n.nextBreakPoint)return n.breakIt(s,r),s;if(p=a[s],p!==mf.dependency)this[p].apply(this,i[s]);else for(const e of i[s]){const t=e.startsWith("g_")?u:h;if(!t.has(e))return t.get(e,r),s}if(s++,s===o)return s;if(l&&++d>10){if(Date.now()>c)return r(),s;d=0}}}endDrawing(){__privateMethod(this,rn,nn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),__privateMethod(this,rn,an).call(this)}_scaleImage(e,t){var r,n;const i=null!=(r=e.width)?r:e.displayWidth,a=null!=(n=e.height)?n:e.displayHeight;let s,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=i,u=a,h="prescale1";for(;l>2&&d>1||c>2&&u>1;){let t=d,r=u;l>2&&d>1&&(t=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/t),c>2&&u>1&&(r=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,c/=u/r),s=this.cachedCanvases.getCanvas(h,t,r),o=s.context,o.clearRect(0,0,t,r),o.drawImage(e,0,0,d,u,0,0,t,r),e=s.canvas,d=t,u=r,h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:u}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:n}=e,i=this.current.fillColor,a=this.current.patternFill,s=hm(t);let o,l,c,d;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(a?s:[s.slice(0,4),i]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const r=o.get(l);if(r&&!a){return{canvas:r,offsetX:Math.round(Math.min(s[0],s[2])+s[4]),offsetY:Math.round(Math.min(s[1],s[3])+s[5])}}c=r}c||(d=this.cachedCanvases.getCanvas("maskCanvas",r,n),X_(d.context,e));let u=Wf.transform(s,[1/r,0,0,-1/n,0,0]);u=Wf.transform(u,[1,0,0,1,0,-n]);const h=B_.slice();Wf.axialAlignedBoundingBox([0,0,r,n],u,h);const[p,f,m,_]=h,v=Math.round(m-p)||1,g=Math.round(_-f)||1,y=this.cachedCanvases.getCanvas("fillCanvas",v,g),b=y.context,x=p,w=f;b.translate(-x,-w),b.transform(...u),c||(c=this._scaleImage(d.canvas,pm(b)),c=c.img,o&&a&&o.set(l,c)),b.imageSmoothingEnabled=Q_(hm(b),e.interpolate),H_(b,c,0,0,c.width,c.height,0,0,r,n),b.globalCompositeOperation="source-in";const k=Wf.transform(pm(b),[1,0,0,1,-x,-w]);return b.fillStyle=a?i.getPattern(t,this,k,A_):i,b.fillRect(0,0,r,n),o&&!a&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(x),offsetY:Math.round(w)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=J_[e]}setLineJoin(e){this.ctx.lineJoin=Z_[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,n=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx;const i=this.ctx=n.context;i.setTransform(this.suspendedCtx.getTransform()),K_(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,r){t.translate(e,r),this.__originalTranslate(e,r)},e.scale=function(e,r){t.scale(e,r),this.__originalScale(e,r)},e.transform=function(e,r,n,i,a,s){t.transform(e,r,n,i,a,s),this.__originalTransform(e,r,n,i,a,s)},e.setTransform=function(e,r,n,i,a,s){t.setTransform(e,r,n,i,a,s),this.__originalSetTransform(e,r,n,i,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,r){t.moveTo(e,r),this.__originalMoveTo(e,r)},e.lineTo=function(e,r){t.lineTo(e,r),this.__originalLineTo(e,r)},e.bezierCurveTo=function(e,r,n,i,a,s){t.bezierCurveTo(e,r,n,i,a,s),this.__originalBezierCurveTo(e,r,n,i,a,s)},e.rect=function(e,r,n,i){t.rect(e,r,n,i),this.__originalRect(e,r,n,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),K_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,n){const i=n[0],a=n[1],s=n[2]-i,o=n[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(t.context,r,s,o,t.subtype,t.backdrop,t.transferMap,i,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,n,i,a,s,o,l,c,d){let u=e.canvas,h=o-c,p=l-d;if(a)if(h<0||p<0||h+r>u.width||p+n>u.height){const e=this.cachedCanvases.getCanvas("maskExtension",r,n),t=e.context;t.drawImage(u,-h,-p),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(0,0,r,n),t.globalCompositeOperation="source-over",u=e.canvas,h=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(h,p,r,n),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(h,p,r,n),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(s));const f=new Path2D;f.rect(o,l,r,n),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(u,h,p,r,n,o,l,r,n),t.restore()}save(){this.inSMaskMode&&K_(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&K_(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,r,n,i,a){this.ctx.transform(e,t,r,n,i,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){let[n]=t;if(!r)return n||(n=t[0]=new Path2D),void this[e](n);if(!(n instanceof Path2D)){const e=t[0]=new Path2D;for(let t=0,r=n.length;t<r;)switch(n[t++]){case _f:e.moveTo(n[t++],n[t++]);break;case vf:e.lineTo(n[t++],n[t++]);break;case gf:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case yf:e.closePath();break;default:Sf(`Unrecognized drawing path operator: ${n[t-1]}`)}n=e}Wf.axialAlignedBoundingBox(r,hm(this.ctx),this.current.minMax),this[e](n)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const r=this.ctx,n=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof n&&(null==n?void 0:n.getPattern)){const t=n.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=n.getPattern(r,this,pm(r),M_),t){const n=new Path2D;n.addPath(e,r.getTransform().invertSelf().multiplySelf(t)),e=n}this.rescaleAndStroke(e,!1),r.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(M_,hm(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const r=this.ctx,n=this.current.fillColor;let i=!1;if(this.current.patternFill){const t=n.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.fillStyle=n.getPattern(r,this,pm(r),A_),t){const n=new Path2D;n.addPath(e,r.getTransform().invertSelf().multiplySelf(t)),e=n}i=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==a&&(this.pendingEOFill?(r.fill(e,"evenodd"),this.pendingEOFill=!1):r.fill(e)),i&&r.restore(),t&&this.consumePath(e,a)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=ev}eoClip(){this.pendingClip=tv}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0===e)return;const r=new Path2D,n=t.getTransform().invertSelf();for(const{transform:i,x:a,y:s,fontSize:o,path:l}of e)r.addPath(l,new DOMMatrix(i).preMultiplySelf(n).translate(a,s).scale(o,-o));t.clip(r),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var r;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||Op,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||Sf("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const a=n.loadedName||"sans-serif",s=(null==(r=n.systemFontInfo)?void 0:r.css)||`"${a}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font=`${l} ${o} ${c}px ${s}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,n,i){const a=this.ctx,s=this.current,o=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,d=l&af,u=!!(l&sf),h=s.patternFill&&!o.missingFile,p=s.patternStroke&&!o.missingFile;let f;if((o.disableFontFace||u||h||p)&&(f=o.getPathGenerator(this.commonObjs,e)),o.disableFontFace||h||p){let e;if(a.save(),a.translate(t,r),a.scale(c,-c),d!==ef&&d!==rf||(n?(e=a.getTransform(),a.setTransform(...n),a.fill(__privateMethod(this,rn,sn).call(this,f,e,n))):a.fill(f)),d===tf||d===rf)if(i){e||(e=a.getTransform()),a.setTransform(...i);const{a:t,b:r,c:n,d:s}=e,o=Wf.inverseTransform(i),l=Wf.transform([t,r,n,s,0,0],o);Wf.singularValueDecompose2dScale(l,$_),a.lineWidth*=Math.max($_[0],$_[1])/c,a.stroke(__privateMethod(this,rn,sn).call(this,f,e,i))}else a.lineWidth/=c,a.stroke(f);a.restore()}else d!==ef&&d!==rf||a.fillText(e,t,r),d!==tf&&d!==rf||a.strokeText(e,t,r);if(u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:hm(a),x:t,y:r,fontSize:c,path:f})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let n=3;n<t.length;n+=4)if(t[n]>0&&t[n]<255){r=!0;break}return Ef(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const n=t.fontSize;if(0===n)return;const i=this.ctx,a=t.fontSizeScale,s=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,d=e.length,u=r.vertical,h=u?1:-1,p=r.defaultVMetrics,f=n*t.fontMatrix[0],m=t.textRenderingMode===ef&&!r.disableFontFace&&!t.patternFill;let _,v;if(i.save(),t.textMatrix&&i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),l>0?i.scale(c,-1):i.scale(c,1),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,pm(i),A_);_=hm(i),i.restore(),i.fillStyle=e}if(t.patternStroke){i.save();const e=t.strokeColor.getPattern(i,this,pm(i),M_);v=hm(i),i.restore(),i.strokeStyle=e}let g=t.lineWidth;const y=t.textMatrixScale;if(0===y||0===g){const e=t.textRenderingMode&af;e!==tf&&e!==rf||(g=this.getSinglePixelWidth())}else g/=y;if(1!==a&&(i.scale(a,a),g/=a),i.lineWidth=g,r.isInvalidPDFjsFont){const r=[];let n=0;for(const t of e)r.push(t.unicode),n+=t.width;return i.fillText(r.join(""),0,0),t.x+=n*f*c,i.restore(),void this.compose()}let b,x=0;for(b=0;b<d;++b){const t=e[b];if("number"==typeof t){x+=h*t*n/1e3;continue}let c=!1;const d=(t.isSpace?o:0)+s,g=t.fontChar,y=t.accent;let w,k,S=t.width;if(u){const e=t.vmetric||p,r=-(t.vmetric?e[1]:.5*S)*f,n=e[2]*f;S=e?-e[0]:S,w=r/a,k=(x+n)/a}else w=x/a,k=0;if(r.remeasure&&S>0){const e=1e3*i.measureText(g).width/n*a;if(S<e&&this.isFontSubpixelAAEnabled){const t=S/e;c=!0,i.save(),i.scale(t,1),w/=t}else S!==e&&(w+=(S-e)/2e3*n/a)}if(this.contentVisible&&(t.isInFont||r.missingFile))if(m&&!y)i.fillText(g,w,k);else if(this.paintChar(g,w,k,_,v),y){const e=w+n*y.offset.x/a,t=k-n*y.offset.y/a;this.paintChar(y.fontChar,e,t,_,v)}x+=u?S*f-d*l:S*f+d*l,c&&i.restore()}u?t.y-=x:t.x+=x*c,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,n=r.font,i=r.fontSize,a=r.fontDirection,s=n.vertical?1:-1,o=r.charSpacing,l=r.wordSpacing,c=r.textHScale*a,d=r.fontMatrix||Op,u=e.length;let h,p,f,m;if(!(r.textRenderingMode===nf)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),r.textMatrix&&t.transform(...r.textMatrix),t.translate(r.x,r.y+r.textRise),t.scale(c,a),h=0;h<u;++h){if(p=e[h],"number"==typeof p){m=s*p*i/1e3,this.ctx.translate(m,0),r.x+=m*c;continue}const a=(p.isSpace?l:0)+o,u=n.charProcOperatorList[p.operatorListId];u?this.contentVisible&&(this.save(),t.scale(i,i),t.transform(...d),this.executeOperatorList(u),this.restore()):Sf(`Type3 character "${p.operatorListId}" is not available.`);const _=[p.width,0];Wf.applyTransform(_,d),f=_[0]*i+a,t.translate(f,0),r.x+=f*c}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,n,i,a){const s=new Path2D;s.rect(r,n,i-r,a-n),this.ctx.clip(s),this.endPath()}getColorN_Pattern(t){let r;if("TilingPattern"===t[0]){const n=this.baseTransform||hm(this.ctx),i={createCanvasGraphics:t=>new e(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new F_(t,this.ctx,i,n)}else r=this._getPattern(t[1],t[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=function(e){switch(e[0]){case"RadialAxial":return new j_(e);case"Mesh":return new R_(e);case"Dummy":return new T_}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,pm(t),C_);const n=pm(t);if(n){const{width:e,height:r}=t.canvas,i=B_.slice();Wf.axialAlignedBoundingBox([0,0,e,r],n,i);const[a,s,o,l]=i;this.ctx.fillRect(a,s,o-a,l-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Af("Should not call beginInlineImage")}beginImageData(){Af("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=hm(this.ctx),t)){Wf.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[e,r,n,i]=t,a=new Path2D;a.rect(e,r,n-e,i-r),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||kf("TODO: Support non-isolated groups."),e.knockout&&Sf("Knockout groups not supported.");const r=hm(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let n=B_.slice();Wf.axialAlignedBoundingBox(e.bbox,hm(t),n);const i=[0,0,t.canvas.width,t.canvas.height];n=Wf.intersect(n,i)||[0,0,0,0];const a=Math.floor(n[0]),s=Math.floor(n[1]),o=Math.max(Math.ceil(n[2])-a,1),l=Math.max(Math.ceil(n[3])-s,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(c,o,l),u=d.context;u.translate(-a,-s),u.transform(...r);let h=new Path2D;const[p,f,m,_]=e.bbox;if(h.rect(p,f,m-p,_-f),e.matrix){const t=new Path2D;t.addPath(h,new DOMMatrix(e.matrix)),h=t}u.clip(h),e.smask?this.smaskStack.push({canvas:d.canvas,context:u,offsetX:a,offsetY:s,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,s),t.save()),K_(t,u),this.ctx=u,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=hm(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const r=B_.slice();Wf.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e,r),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,r,n,i){if(__privateMethod(this,rn,nn).call(this),Y_(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const n=t[2]-t[0],a=t[3]-t[1];if(i&&this.annotationCanvasMap){(r=r.slice())[4]-=t[0],r[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=n,t[3]=a,Wf.singularValueDecompose2dScale(hm(this.ctx),$_);const{viewportScale:i}=this,s=Math.ceil(n*this.outputScaleX*i),o=Math.ceil(a*this.outputScaleY*i);this.annotationCanvas=this.canvasFactory.create(s,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform($_[0],0,0,-$_[1],0,a*$_[1]),Y_(this.ctx)}else{Y_(this.ctx),this.endPath();const e=new Path2D;e.rect(t[0],t[1],n,a),this.ctx.clip(e)}}this.current=new U_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...n)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),__privateMethod(this,rn,an).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const r=this.ctx,n=this._createMaskCanvas(e),i=n.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(i,n.offsetX,n.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,n=0,i,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const s=this.ctx;s.save();const o=hm(s);s.transform(t,r,n,i,0,0);const l=this._createMaskCanvas(e);s.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,d=a.length;c<d;c+=2){const e=Wf.transform(o,[t,r,n,i,a[c],a[c+1]]);s.drawImage(l.canvas,e[4],e[5])}s.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,n=this.current.patternFill;for(const i of e){const{data:e,width:a,height:s,transform:o}=i,l=this.cachedCanvases.getCanvas("maskCanvas",a,s),c=l.context;c.save();X_(c,this.getObject(e,i)),c.globalCompositeOperation="source-in",c.fillStyle=n?r.getPattern(c,this,pm(t),A_):r,c.fillRect(0,0,a,s),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),H_(t,l.canvas,0,0,a,s,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):Sf("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,r,n){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void Sf("Dependent image isn't ready yet");const a=i.width,s=i.height,o=[];for(let l=0,c=n.length;l<c;l+=2)o.push({transform:[t,0,0,r,n[l],n[l+1]],x:0,y:0,w:a,h:s});this.paintInlineImageXObjectGroup(i,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:r,height:n}=e,i=this.cachedCanvases.getCanvas("inlineImage",r,n),a=i.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,n=this.ctx;this.save();const{filter:i}=n;let a;if("none"!==i&&""!==i&&(n.filter="none"),n.scale(1/t,-1/r),e.bitmap)a=this.applyTransferMapsToBitmap(e);else if("function"==typeof HTMLElement&&e instanceof HTMLElement||!e.data)a=e;else{const n=this.cachedCanvases.getCanvas("inlineImage",t,r).context;q_(n,e),a=this.applyTransferMapsToCanvas(n)}const s=this._scaleImage(a,pm(n));n.imageSmoothingEnabled=Q_(hm(n),e.interpolate),H_(n,s.img,0,0,s.paintWidth,s.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let n;if(e.bitmap)n=e.bitmap;else{const t=e.width,r=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,r).context;q_(i,e),n=this.applyTransferMapsToCanvas(i)}for(const i of t)r.save(),r.transform(...i.transform),r.scale(1,-1),H_(r,n,i.x,i.y,i.w,i.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(r||(this.pendingClip===tv?n.clip(e,"evenodd"):n.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=hm(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),n=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,n)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:r,c:n,d:i}=this.ctx.getTransform();let a,s;if(0===r&&0===n){const r=Math.abs(t),n=Math.abs(i);if(r===n)if(0===e)a=s=1/r;else{const t=r*e;a=s=t<1?1/t:1}else if(0===e)a=1/r,s=1/n;else{const t=r*e,i=n*e;a=t<1?1/t:1,s=i<1?1/i:1}}else{const o=Math.abs(t*i-r*n),l=Math.hypot(t,r),c=Math.hypot(n,i);if(0===e)a=c/o,s=l/o;else{const t=e*o;a=c>t?c/t:1,s=l>t?l/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:n}}=this,[i,a]=this.getScaleForStroking();if(i===a)return r.lineWidth=(n||1)*i,void r.stroke(e);const s=r.getLineDash();t&&r.save(),r.scale(i,a),W_.a=1/i,W_.d=1/a;const o=new Path2D;if(o.addPath(e,W_),s.length>0){const e=Math.max(i,a);r.setLineDash(s.map(t=>t/e)),r.lineDashOffset/=e}r.lineWidth=n||1,r.stroke(o),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(const ZA in mf)void 0!==rv.prototype[ZA]&&(rv.prototype[mf[ZA]]=rv.prototype[ZA]);class nv{static get workerPort(){return __privateGet(this,on)}static set workerPort(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");__privateSet(this,on,e)}static get workerSrc(){return __privateGet(this,ln)}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");__privateSet(this,ln,e)}}on=new WeakMap,ln=new WeakMap,__privateAdd(nv,on,null),__privateAdd(nv,ln,"");class iv{constructor({parsedData:e,rawData:t}){__privateAdd(this,cn),__privateAdd(this,dn),__privateSet(this,cn,e),__privateSet(this,dn,t)}getRaw(){return __privateGet(this,dn)}get(e){var t;return null!=(t=__privateGet(this,cn).get(e))?t:null}[Symbol.iterator](){return __privateGet(this,cn).entries()}}cn=new WeakMap,dn=new WeakMap;const av=Symbol("INTERNAL");class sv{constructor(e,{name:t,intent:r,usage:n,rbGroups:i}){__privateAdd(this,un,!1),__privateAdd(this,hn,!1),__privateAdd(this,pn,!1),__privateAdd(this,fn,!0),__privateSet(this,un,!!(e&$p)),__privateSet(this,hn,!!(e&Bp)),this.name=t,this.intent=r,this.usage=n,this.rbGroups=i}get visible(){if(__privateGet(this,pn))return __privateGet(this,fn);if(!__privateGet(this,fn))return!1;const{print:e,view:t}=this.usage;return __privateGet(this,un)?"OFF"!==(null==t?void 0:t.viewState):!__privateGet(this,hn)||"OFF"!==(null==e?void 0:e.printState)}_setVisible(e,t,r=!1){e!==av&&Af("Internal method `_setVisible` called."),__privateSet(this,pn,r),__privateSet(this,fn,t)}}un=new WeakMap,hn=new WeakMap,pn=new WeakMap,fn=new WeakMap;class ov{constructor(e,t=$p){if(__privateAdd(this,yn),__privateAdd(this,mn,null),__privateAdd(this,_n,new Map),__privateAdd(this,vn,null),__privateAdd(this,gn,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,__privateSet(this,gn,e.order);for(const r of e.groups)__privateGet(this,_n).set(r.id,new sv(t,r));if("OFF"===e.baseState)for(const e of __privateGet(this,_n).values())e._setVisible(av,!1);for(const t of e.on)__privateGet(this,_n).get(t)._setVisible(av,!0);for(const t of e.off)__privateGet(this,_n).get(t)._setVisible(av,!1);__privateSet(this,vn,this.getHash())}}isVisible(e){if(0===__privateGet(this,_n).size)return!0;if(!e)return kf("Optional content group not defined."),!0;if("OCG"===e.type)return __privateGet(this,_n).has(e.id)?__privateGet(this,_n).get(e.id).visible:(Sf(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return __privateMethod(this,yn,bn).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!__privateGet(this,_n).has(t))return Sf(`Optional content group not found: ${t}`),!0;if(__privateGet(this,_n).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!__privateGet(this,_n).has(t))return Sf(`Optional content group not found: ${t}`),!0;if(!__privateGet(this,_n).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!__privateGet(this,_n).has(t))return Sf(`Optional content group not found: ${t}`),!0;if(!__privateGet(this,_n).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!__privateGet(this,_n).has(t))return Sf(`Optional content group not found: ${t}`),!0;if(__privateGet(this,_n).get(t).visible)return!1}return!0}return Sf(`Unknown optional content policy ${e.policy}.`),!0}return Sf(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var n;const i=__privateGet(this,_n).get(e);if(i){if(r&&t&&i.rbGroups.length)for(const t of i.rbGroups)for(const r of t)r!==e&&(null==(n=__privateGet(this,_n).get(r))||n._setVisible(av,!1,!0));i._setVisible(av,!!t,!0),__privateSet(this,mn,null)}else Sf(`Optional content group not found: ${e}`)}setOCGState({state:e,preserveRB:t}){let r;for(const n of e){switch(n){case"ON":case"OFF":case"Toggle":r=n;continue}const e=__privateGet(this,_n).get(n);if(e)switch(r){case"ON":this.setVisibility(n,!0,t);break;case"OFF":this.setVisibility(n,!1,t);break;case"Toggle":this.setVisibility(n,!e.visible,t)}}__privateSet(this,mn,null)}get hasInitialVisibility(){return null===__privateGet(this,vn)||this.getHash()===__privateGet(this,vn)}getOrder(){return __privateGet(this,_n).size?__privateGet(this,gn)?__privateGet(this,gn).slice():[...__privateGet(this,_n).keys()]:null}getGroup(e){return __privateGet(this,_n).get(e)||null}getHash(){if(null!==__privateGet(this,mn))return __privateGet(this,mn);const e=new zm;for(const[t,r]of __privateGet(this,_n))e.update(`${t}:${r.visible}`);return __privateSet(this,mn,e.hexdigest())}[Symbol.iterator](){return __privateGet(this,_n).entries()}}mn=new WeakMap,_n=new WeakMap,vn=new WeakMap,gn=new WeakMap,yn=new WeakSet,bn=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let n=1;n<t;n++){const t=e[n];let i;if(Array.isArray(t))i=__privateMethod(this,yn,bn).call(this,t);else{if(!__privateGet(this,_n).has(t))return Sf(`Optional content group not found: ${t}`),!0;i=__privateGet(this,_n).get(t).visible}switch(r){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===r};class lv{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Mf(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:n,initialData:i,progressiveDone:a,contentDispositionFilename:s}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,(null==i?void 0:i.length)>0){const e=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=n,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{Mf(this._rangeReaders.some(function(t){return t._begin===e&&(t._enqueue(r),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!=(t=null==(e=this._fullRequestReader)?void 0:e._loaded)?t:0}_onProgress(e){var t,r,n,i;void 0===e.total?null==(r=null==(t=this._rangeReaders[0])?void 0:t.onProgress)||r.call(t,{loaded:e.loaded}):null==(i=null==(n=this._fullRequestReader)?void 0:n.onProgress)||i.call(n,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null==(e=this._fullRequestReader)||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Mf(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new cv(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new dv(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class cv{constructor(e,t,r=!1,n=null){this._stream=e,this._done=r||!1,this._filename=rm(n)?n:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return __async(this,null,function*(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class dv{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return __async(this,null,function*(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function uv(e,t){const r=new Headers;if(!e||!t||"object"!=typeof t)return r;for(const n in t){const e=t[n];void 0!==e&&r.append(n,e)}return r}function hv(e){var t,r;return null!=(r=null==(t=URL.parse(e))?void 0:t.origin)?r:null}function pv({responseHeaders:e,isHttp:t,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(a))return i;if(i.suggestedLength=a,a<=2*r)return i;if(n||!t)return i;if("bytes"!==e.get("Accept-Ranges"))return i;return"identity"!==(e.get("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i}function fv(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,r=n("filename\\*","i").exec(e);if(r){r=r[1];let e=s(r);return e=unescape(e),e=o(e),e=l(e),a(e)}if(r=function(e){const t=[];let r;const i=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(r=i.exec(e));){let[,e,n,i]=r;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[n,i]}const a=[];for(let n=0;n<t.length&&n in t;++n){let[e,r]=t[n];r=s(r),e&&(r=unescape(r),0===n&&(r=o(r))),a.push(r)}return a.join("")}(e),r)return a(l(r));if(r=n("filename","i").exec(e),r){r=r[1];let e=s(r);return e=l(e),a(e)}function n(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,r){if(e){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const n=new TextDecoder(e,{fatal:!0}),i=Ff(r);r=n.decode(i),t=!1}catch(n){}}return r}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function s(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const r=t[e].indexOf('"');-1!==r&&(t[e]=t[e].slice(0,r),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,n){if("q"===r||"Q"===r)return i(t,n=(n=n.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{n=atob(n)}catch(a){}return i(t,n)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(r){}if(rm(e))return e}return null}function mv(e,t){return new Tf(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e,404===e||0===e&&t.startsWith("file:"))}function _v(e){return 200===e||206===e}function vv(e,t,r){return{method:"GET",headers:e,signal:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function gv(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Sf(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class yv{constructor(e){__publicField(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=uv(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!=(t=null==(e=this._fullRequestReader)?void 0:e._loaded)?t:0}getFullReader(){return Mf(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new bv(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new xv(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class bv{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),n=t.url;fetch(n,vv(r,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=hv(t.url),!_v(t.status))throw mv(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const r=t.headers,{allowRangeRequests:i,suggestedLength:a}=pv({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=a||this._contentLength,this._filename=fv(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Df("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return __async(this,null,function*(){var e;yield this._headersCapability.promise;const{value:t,done:r}=yield this._reader.read();return r?{value:t,done:r}:(this._loaded+=t.byteLength,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:gv(t),done:!1})})}cancel(e){var t;null==(t=this._reader)||t.cancel(e),this._abortController.abort()}}class xv{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const n=e.source;this._withCredentials=n.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!n.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range",`bytes=${t}-${r-1}`);const a=n.url;fetch(a,vv(i,this._withCredentials,this._abortController)).then(t=>{const r=hv(t.url);if(r!==e._responseOrigin)throw new Error(`Expected range response-origin "${r}" to match "${e._responseOrigin}".`);if(!_v(t.status))throw mv(t.status,a);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return __async(this,null,function*(){var e;yield this._readCapability.promise;const{value:t,done:r}=yield this._reader.read();return r?{value:t,done:r}:(this._loaded+=t.byteLength,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded}),{value:gv(t),done:!1})})}cancel(e){var t;null==(t=this._reader)||t.cancel(e),this._abortController.abort()}}class wv{constructor({url:e,httpHeaders:t,withCredentials:r}){__publicField(this,"_responseOrigin",null),this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=uv(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,n=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,a]of this.headers)t.setRequestHeader(i,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),n.expectedStatus=206):n.expectedStatus=200,t.responseType="arraybuffer",Mf(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var r;const n=this.pendingRequests[e];n&&(null==(r=n.onProgress)||r.call(n,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const n=r.xhr;if(n.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),4!==n.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===n.status&&this.isHttp)return void r.onError(n.status);const i=n.status||200;if(!(200===i&&206===r.expectedStatus)&&i!==r.expectedStatus)return void r.onError(n.status);const a=function(e){const t=e.response;return"string"!=typeof t?t:Ff(t).buffer}(n);if(206===i){const e=n.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?r.onDone({begin:parseInt(t[1],10),chunk:a}):(Sf('Missing or invalid "Content-Range" header.'),r.onError(0))}else a?r.onDone({begin:0,chunk:a}):r.onError(n.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class kv{constructor(e){this._source=e,this._manager=new wv(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Mf(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Sv(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new Av(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Sv{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=hv(t.responseURL);const r=t.getAllResponseHeaders(),n=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...r]=e.split(": ");return[t,r.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:a}=pv({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=fv(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=mv(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null==(t=this.onProgress)||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return __async(this,null,function*(){if(yield this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Av{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=hv(null==(e=this._manager.getRequestXhr(this._requestId))?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;null==(e=this.onClosed)||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){null!=this._storedError||(this._storedError=mv(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||null==(t=this.onProgress)||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return __async(this,null,function*(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Mv=/^[a-z][a-z0-9\-+.]+:/i;class Cv{constructor(e){this.source=e,this.url=function(e){if(Mv.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),Mf("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!=(t=null==(e=this._fullRequestReader)?void 0:e._loaded)?t:0}getFullReader(){return Mf(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Nv(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new Ev(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Nv{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=mv(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return __async(this,null,function*(){var e;if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Df("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ev{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}read(){return __async(this,null,function*(){var e;if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const jv=Symbol("INITIAL_DATA");class Gv{constructor(){__privateAdd(this,wn),__privateAdd(this,xn,Object.create(null))}get(e,t=null){if(t){const r=__privateMethod(this,wn,kn).call(this,e);return r.promise.then(()=>t(r.data)),null}const r=__privateGet(this,xn)[e];if(!r||r.data===jv)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=__privateGet(this,xn)[e];return!!t&&t.data!==jv}delete(e){const t=__privateGet(this,xn)[e];return!(!t||t.data===jv)&&(delete __privateGet(this,xn)[e],!0)}resolve(e,t=null){const r=__privateMethod(this,wn,kn).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in __privateGet(this,xn)){const{data:r}=__privateGet(this,xn)[t];null==(e=null==r?void 0:r.bitmap)||e.close()}__privateSet(this,xn,Object.create(null))}*[Symbol.iterator](){for(const e in __privateGet(this,xn)){const{data:t}=__privateGet(this,xn)[e];t!==jv&&(yield[e,t])}}}xn=new WeakMap,wn=new WeakSet,kn=function(e){var t;return(t=__privateGet(this,xn))[e]||(t[e]=__spreadProps(__spreadValues({},Promise.withResolvers()),{data:jv}))};let Pv=(Bn=class{constructor({textContentSource:e,container:t,viewport:r}){var n;if(__privateAdd(this,Kn),__privateAdd(this,An,Promise.withResolvers()),__privateAdd(this,Mn,null),__privateAdd(this,Cn,!1),__privateAdd(this,Nn,!!(null==(Sn=globalThis.FontInspector)?void 0:Sn.enabled)),__privateAdd(this,En,null),__privateAdd(this,jn,null),__privateAdd(this,Gn,0),__privateAdd(this,Pn,0),__privateAdd(this,Rn,null),__privateAdd(this,Tn,null),__privateAdd(this,Ln,0),__privateAdd(this,Dn,0),__privateAdd(this,In,Object.create(null)),__privateAdd(this,Fn,[]),__privateAdd(this,On,null),__privateAdd(this,zn,[]),__privateAdd(this,Wn,new WeakMap),__privateAdd(this,$n,null),e instanceof ReadableStream)__privateSet(this,On,e);else{if("object"!=typeof e)throw new Error('No "textContentSource" parameter specified.');__privateSet(this,On,new ReadableStream({start(t){t.enqueue(e),t.close()}}))}__privateSet(this,Mn,__privateSet(this,Tn,t)),__privateSet(this,Dn,r.scale*mm.pixelRatio),__privateSet(this,Ln,r.rotation),__privateSet(this,jn,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:a,pageX:s,pageY:o}=r.rawDims;__privateSet(this,$n,[1,0,0,-1,-s,o+a]),__privateSet(this,Pn,i),__privateSet(this,Gn,a),__privateMethod(n=Bn,Zn,ri).call(n),fm(t,r),__privateGet(this,An).promise.finally(()=>{__privateGet(Bn,Xn).delete(this),__privateSet(this,jn,null),__privateSet(this,In,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Of.platform;return Ef(this,"fontFamilyMap",new Map([["sans-serif",(e&&t?"Calibri, ":"")+"sans-serif"],["monospace",(e&&t?"Lucida Console, ":"")+"monospace"]]))}render(){const e=()=>{__privateGet(this,Rn).read().then(({value:t,done:r})=>{r?__privateGet(this,An).resolve():(null!=__privateGet(this,En)||__privateSet(this,En,t.lang),Object.assign(__privateGet(this,In),t.styles),__privateMethod(this,Kn,Yn).call(this,t.items),e())},__privateGet(this,An).reject)};return __privateSet(this,Rn,__privateGet(this,On).getReader()),__privateGet(Bn,Xn).add(this),e(),__privateGet(this,An).promise}update({viewport:e,onBefore:t=null}){var r;const n=e.scale*mm.pixelRatio,i=e.rotation;if(i!==__privateGet(this,Ln)&&(null==t||t(),__privateSet(this,Ln,i),fm(__privateGet(this,Tn),{rotation:i})),n!==__privateGet(this,Dn)){null==t||t(),__privateSet(this,Dn,n);const e={div:null,properties:null,ctx:__privateMethod(r=Bn,Zn,ei).call(r,__privateGet(this,En))};for(const t of __privateGet(this,zn))e.properties=__privateGet(this,Wn).get(t),e.div=t,__privateMethod(this,Kn,Jn).call(this,e)}}cancel(){var e;const t=new Df("TextLayer task cancelled.");null==(e=__privateGet(this,Rn))||e.cancel(t).catch(()=>{}),__privateSet(this,Rn,null),__privateGet(this,An).reject(t)}get textDivs(){return __privateGet(this,zn)}get textContentItemsStr(){return __privateGet(this,Fn)}static cleanup(){if(!(__privateGet(this,Xn).size>0)){__privateGet(this,Vn).clear();for(const{canvas:e}of __privateGet(this,Hn).values())e.remove();__privateGet(this,Hn).clear()}}},An=new WeakMap,Mn=new WeakMap,Cn=new WeakMap,Nn=new WeakMap,En=new WeakMap,jn=new WeakMap,Gn=new WeakMap,Pn=new WeakMap,Rn=new WeakMap,Tn=new WeakMap,Ln=new WeakMap,Dn=new WeakMap,In=new WeakMap,Fn=new WeakMap,On=new WeakMap,zn=new WeakMap,Wn=new WeakMap,$n=new WeakMap,Vn=new WeakMap,Hn=new WeakMap,Un=new WeakMap,qn=new WeakMap,Xn=new WeakMap,Kn=new WeakSet,Yn=function(e){var t,r;if(__privateGet(this,Cn))return;null!=(r=__privateGet(this,jn)).ctx||(r.ctx=__privateMethod(t=Bn,Zn,ei).call(t,__privateGet(this,En)));const n=__privateGet(this,zn),i=__privateGet(this,Fn);for(const a of e){if(n.length>1e5)return Sf("Ignoring additional textDivs for performance reasons."),void __privateSet(this,Cn,!0);if(void 0!==a.str)i.push(a.str),__privateMethod(this,Kn,Qn).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const e=__privateGet(this,Mn);__privateSet(this,Mn,document.createElement("span")),__privateGet(this,Mn).classList.add("markedContent"),null!==a.id&&__privateGet(this,Mn).setAttribute("id",`${a.id}`),e.append(__privateGet(this,Mn))}else"endMarkedContent"===a.type&&__privateSet(this,Mn,__privateGet(this,Mn).parentNode)}},Qn=function(e){var t;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};__privateGet(this,zn).push(r);const i=Wf.transform(__privateGet(this,$n),e.transform);let a=Math.atan2(i[1],i[0]);const s=__privateGet(this,In)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=__privateGet(this,Nn)&&s.fontSubstitution||s.fontFamily;o=Bn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*__privateMethod(t=Bn,Zn,ni).call(t,o,s,__privateGet(this,En));let d,u;0===a?(d=i[4],u=i[5]-c):(d=i[4]+c*Math.sin(a),u=i[5]-c*Math.cos(a));const h="calc(var(--total-scale-factor) *",p=r.style;__privateGet(this,Mn)===__privateGet(this,Tn)?(p.left=`${(100*d/__privateGet(this,Pn)).toFixed(2)}%`,p.top=`${(100*u/__privateGet(this,Gn)).toFixed(2)}%`):(p.left=`${h}${d.toFixed(2)}px)`,p.top=`${h}${u.toFixed(2)}px)`),p.fontSize=`${h}${(__privateGet(Bn,qn)*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,__privateGet(this,Nn)&&(r.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),0!==a&&(n.angle=a*(180/Math.PI));let f=!1;if(e.str.length>1)f=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),r=Math.abs(e.transform[3]);t!==r&&Math.max(t,r)/Math.min(t,r)>1.5&&(f=!0)}if(f&&(n.canvasWidth=s.vertical?e.height:e.width),__privateGet(this,Wn).set(r,n),__privateGet(this,jn).div=r,__privateGet(this,jn).properties=n,__privateMethod(this,Kn,Jn).call(this,__privateGet(this,jn)),n.hasText&&__privateGet(this,Mn).append(r),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),__privateGet(this,Mn).append(e)}},Jn=function(e){var t;const{div:r,properties:n,ctx:i}=e,{style:a}=r;let s="";if(__privateGet(Bn,qn)>1&&(s=`scale(${1/__privateGet(Bn,qn)})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=a,{canvasWidth:o,fontSize:l}=n;__privateMethod(t=Bn,Zn,ti).call(t,i,l*__privateGet(this,Dn),e);const{width:c}=i.measureText(r.textContent);c>0&&(s=`scaleX(${o*__privateGet(this,Dn)/c}) ${s}`)}0!==n.angle&&(s=`rotate(${n.angle}deg) ${s}`),s.length>0&&(a.transform=s)},Zn=new WeakSet,ei=function(e=null){let t=__privateGet(this,Hn).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),__privateGet(this,Hn).set(e,t),__privateGet(this,Un).set(t,{size:0,family:""})}return t},ti=function(e,t,r){const n=__privateGet(this,Un).get(e);t===n.size&&r===n.family||(e.font=`${t}px ${r}`,n.size=t,n.family=r)},ri=function(){if(null!==__privateGet(this,qn))return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),__privateSet(this,qn,e.getBoundingClientRect().height),e.remove()},ni=function(e,t,r){const n=__privateGet(this,Vn).get(e);if(n)return n;const i=__privateMethod(this,Zn,ei).call(this,r);i.canvas.width=i.canvas.height=30,__privateMethod(this,Zn,ti).call(this,i,30,e);const a=i.measureText(""),s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let l=.8;return s?l=s/(s+o):(Of.platform.isFirefox&&Sf("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),__privateGet(this,Vn).set(e,l),l},__privateAdd(Bn,Zn),__privateAdd(Bn,Vn,new Map),__privateAdd(Bn,Hn,new Map),__privateAdd(Bn,Un,new WeakMap),__privateAdd(Bn,qn,null),__privateAdd(Bn,Xn,new Set),Bn);class Rv{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};return function e(r){var n;if(!r)return;let i=null;const a=r.name;if("#text"===a)i=r.value;else{if(!Rv.shouldBuildText(a))return;(null==(n=null==r?void 0:r.attributes)?void 0:n.textContent)?i=r.attributes.textContent:r.value&&(i=r.value)}if(null!==i&&t.push({str:i}),r.children)for(const t of r.children)e(t)}(e),r}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}function Tv(e={}){var t,r;"string"==typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const n=new Dv,{docId:i}=n,a=e.url?function(e){if(e instanceof URL)return e.href;if("string"==typeof e){if(Fp)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,s=e.data?function(e){if(Fp&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return Ff(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"==typeof e&&!isNaN(null==e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,o=e.httpHeaders||null,l=!0===e.withCredentials,c=null!=(t=e.password)?t:null,d=e.range instanceof Iv?e.range:null,u=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:__pow(2,16);let h=e.worker instanceof Wv?e.worker:null;const p=e.verbosity,f="string"!=typeof e.docBaseUrl||tm(e.docBaseUrl)?null:e.docBaseUrl,m=Um(e.cMapUrl),_=!1!==e.cMapPacked,v=e.CMapReaderFactory||(Fp?w_:h_),g=Um(e.iccUrl),y=Um(e.standardFontDataUrl),b=e.StandardFontDataFactory||(Fp?k_:__),x=Um(e.wasmUrl),w=e.WasmFactory||(Fp?S_:g_),k=!0!==e.stopAtErrors,S=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,A=!1!==e.isEvalSupported,M="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!Fp,C="boolean"==typeof e.isImageDecoderSupported?e.isImageDecoderSupported:!Fp&&(Of.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,E="boolean"==typeof e.disableFontFace?e.disableFontFace:Fp,j=!0===e.fontExtraProperties,G=!0===e.enableXfa,P=e.ownerDocument||globalThis.document,R=!0===e.disableRange,T=!0===e.disableStream,L=!0===e.disableAutoFetch,D=!0===e.pdfBug,I=e.CanvasFactory||(Fp?x_:d_),F=e.FilterFactory||(Fp?b_:f_),O=!0===e.enableHWA,z=!1!==e.useWasm,W=d?d.length:null!=(r=e.length)?r:NaN,$="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!Fp&&!E,B="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:!!(v===h_&&b===__&&w===g_&&m&&y&&x&&sm(m,document.baseURI)&&sm(y,document.baseURI)&&sm(x,document.baseURI));var V;V=p,Number.isInteger(V)&&(xf=V);const H={canvasFactory:new I({ownerDocument:P,enableHWA:O}),filterFactory:new F({docId:i,ownerDocument:P}),cMapReaderFactory:B?null:new v({baseUrl:m,isCompressed:_}),standardFontDataFactory:B?null:new b({baseUrl:y}),wasmFactory:B?null:new w({baseUrl:x})};h||(h=Wv.create({verbosity:p,port:nv.workerPort}),n._worker=h);const U={docId:i,apiVersion:"5.3.93",data:s,password:c,disableAutoFetch:L,rangeChunkSize:u,length:W,docBaseUrl:f,enableXfa:G,evaluatorOptions:{maxImageSize:S,disableFontFace:E,ignoreErrors:k,isEvalSupported:A,isOffscreenCanvasSupported:M,isImageDecoderSupported:C,canvasMaxAreaInBytes:N,fontExtraProperties:j,useSystemFonts:$,useWasm:z,useWorkerFetch:B,cMapUrl:m,iccUrl:g,standardFontDataUrl:y,wasmUrl:x}},q={ownerDocument:P,pdfBug:D,styleElement:null,loadingParams:{disableAutoFetch:L,enableXfa:G}};return h.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const e=h.messageHandler.sendWithPromise("GetDocRequest",U,s?[s.buffer]:null);let t;if(d)t=new lv(d,{disableRange:R,disableStream:T});else if(!s){if(!a)throw new Error("getDocument - no `url` parameter provided.");const e=sm(a)?yv:Fp?Cv:kv;t=new e({url:a,length:W,httpHeaders:o,withCredentials:l,rangeChunkSize:u,disableRange:R,disableStream:T})}return e.then(e=>{if(n.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const r=new l_(i,e,h.port),a=new $v(r,n,t,q,H);n._transport=a,r.send("Ready",null)})}).catch(n._capability.reject),n}const Lv=class e{constructor(){__publicField(this,"_capability",Promise.withResolvers()),__publicField(this,"_transport",null),__publicField(this,"_worker",null),__publicField(this,"docId","d"+__privateWrapper(e,ii)._++),__publicField(this,"destroyed",!1),__publicField(this,"onPassword",null),__publicField(this,"onProgress",null)}get promise(){return this._capability.promise}destroy(){return __async(this,null,function*(){var e,t,r,n;this.destroyed=!0;try{(null==(e=this._worker)?void 0:e.port)&&(this._worker._pendingDestroy=!0),yield null==(t=this._transport)?void 0:t.destroy()}catch(i){throw(null==(r=this._worker)?void 0:r.port)&&delete this._worker._pendingDestroy,i}this._transport=null,null==(n=this._worker)||n.destroy(),this._worker=null})}getData(){return __async(this,null,function*(){return this._transport.getData()})}};ii=new WeakMap,__privateAdd(Lv,ii,0);let Dv=Lv,Iv=(di=class{constructor(e,t,r=!1,n=null){__privateAdd(this,ai,Promise.withResolvers()),__privateAdd(this,si,[]),__privateAdd(this,oi,[]),__privateAdd(this,li,[]),__privateAdd(this,ci,[]),this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=n}addRangeListener(e){__privateGet(this,ci).push(e)}addProgressListener(e){__privateGet(this,li).push(e)}addProgressiveReadListener(e){__privateGet(this,oi).push(e)}addProgressiveDoneListener(e){__privateGet(this,si).push(e)}onDataRange(e,t){for(const r of __privateGet(this,ci))r(e,t)}onDataProgress(e,t){__privateGet(this,ai).promise.then(()=>{for(const r of __privateGet(this,li))r(e,t)})}onDataProgressiveRead(e){__privateGet(this,ai).promise.then(()=>{for(const t of __privateGet(this,oi))t(e)})}onDataProgressiveDone(){__privateGet(this,ai).promise.then(()=>{for(const e of __privateGet(this,si))e()})}transportReady(){__privateGet(this,ai).resolve()}requestDataRange(e,t){Af("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},ai=new WeakMap,si=new WeakMap,oi=new WeakMap,li=new WeakMap,ci=new WeakMap,di);class Fv{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ef(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Ov{constructor(e,t,r,n=!1){__privateAdd(this,hi),__privateAdd(this,ui,!1),this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=n?new am:null,this._pdfBug=n,this.commonObjs=r.commonObjs,this.objs=new Gv,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:n=0,dontFlip:i=!1}={}){return new Zf({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:n,dontFlip:i})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ef(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return __async(this,null,function*(){var e;return(null==(e=this._transport._htmlForXfa)?void 0:e.children[this._pageIndex])||null})}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:n=Kp.ENABLE,transform:i=null,background:a=null,optionalContentConfigPromise:s=null,annotationCanvasMap:o=null,pageColors:l=null,printAnnotationStorage:c=null,isEditing:d=!1}){var u,h;null==(u=this._stats)||u.time("Overall");const p=this._transport.getRenderingIntent(r,n,c,d),{renderingIntent:f,cacheKey:m}=p;__privateSet(this,ui,!1),s||(s=this._transport.getOptionalContentConfig(f));let _=this._intentStates.get(m);_||(_=Object.create(null),this._intentStates.set(m,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const v=!!(f&Bp);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null==(h=this._stats)||h.time("Page Request"),this._pumpOperatorList(p));const g=e=>{var t;_.renderTasks.delete(y),v&&__privateSet(this,ui,!0),__privateMethod(this,hi,pi).call(this),e?(y.capability.reject(e),this._abortOperatorList({intentState:_,reason:e instanceof Error?e:new Error(e)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(null==(t=globalThis.Stats)?void 0:t.enabled)&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new Hv({callback:g,params:{canvasContext:e,viewport:t,transform:i,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:o,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:l});(_.renderTasks||(_.renderTasks=new Set)).add(y);const b=y.task;return Promise.all([_.displayReadyCapability.promise,s]).then(([e,t])=>{var r;if(this.destroyed)g();else{if(null==(r=this._stats)||r.time("Rendering"),!(t.renderingIntent&f))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:e,optionalContentConfig:t}),y.operatorListChanged()}}).catch(g),b}getOperatorList({intent:e="display",annotationMode:t=Kp.ENABLE,printAnnotationStorage:r=null,isEditing:n=!1}={}){var i;const a=this._transport.getRenderingIntent(e,t,r,n,!0);let s,o=this._intentStates.get(a.cacheKey);return o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o)),o.opListReadCapability||(s=Object.create(null),s.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(s))},o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(s),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null==(i=this._stats)||i.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>Rv.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,r){const n=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){n.read().then(function({value:r,done:n}){n?e(i):(null!=i.lang||(i.lang=r.lang),Object.assign(i.styles,r.styles),i.items.push(...r.items),t())},r)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),__privateSet(this,ui,!1),Promise.all(e)}cleanup(e=!1){__privateSet(this,ui,!0);const t=__privateMethod(this,hi,pi).call(this);return e&&t&&this._stats&&(this._stats=new am),t}_startRenderPage(e,t){var r,n;const i=this._intentStates.get(t);i&&(null==(r=this._stats)||r.timeEnd("Page Request"),null==(n=i.displayReadyCapability)||n.resolve(e))}_renderPageChunk(e,t){for(let r=0,n=e.length;r<n;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&__privateMethod(this,hi,pi).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:n}){const{map:i,transfer:a}=r,s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:i,modifiedIds:n},a).getReader(),o=this._intentStates.get(t);o.streamReader=s;const l=()=>{s.read().then(({value:e,done:t})=>{t?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,o),l())},e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();__privateMethod(this,hi,pi).call(this)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}})};l()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof em){let r=100;return t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r))}}if(e.streamReader.cancel(new Df(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[t,r]of this._intentStates)if(r===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}ui=new WeakMap,hi=new WeakSet,pi=function(){if(!__privateGet(this,ui)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),__privateSet(this,ui,!1),!0};const zv=class e{constructor({name:t=null,port:r=null,verbosity:n=wf()}={}){if(__privateAdd(this,xi),__privateAdd(this,fi,Promise.withResolvers()),__privateAdd(this,mi,null),__privateAdd(this,_i,null),__privateAdd(this,vi,null),this.name=t,this.destroyed=!1,this.verbosity=n,r){if(__privateGet(e,bi).has(r))throw new Error("Cannot use more than one PDFWorker per port.");__privateGet(e,bi).set(r,this),__privateMethod(this,xi,ki).call(this,r)}else __privateMethod(this,xi,Si).call(this)}get promise(){return __privateGet(this,fi).promise}get port(){return __privateGet(this,_i)}get messageHandler(){return __privateGet(this,mi)}destroy(){var t,r;this.destroyed=!0,null==(t=__privateGet(this,vi))||t.terminate(),__privateSet(this,vi,null),__privateGet(e,bi).delete(__privateGet(this,_i)),__privateSet(this,_i,null),null==(r=__privateGet(this,mi))||r.destroy(),__privateSet(this,mi,null)}static create(t){const r=__privateGet(this,bi).get(null==t?void 0:t.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new e(t)}static get workerSrc(){if(nv.workerSrc)return nv.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ef(this,"_setupFakeWorkerGlobal",(()=>__async(this,null,function*(){if(__privateGet(this,Mi,Ci))return __privateGet(this,Mi,Ci);return(yield import(this.workerSrc)).WorkerMessageHandler}))())}};fi=new WeakMap,mi=new WeakMap,_i=new WeakMap,vi=new WeakMap,gi=new WeakMap,yi=new WeakMap,bi=new WeakMap,xi=new WeakSet,wi=function(){__privateGet(this,fi).resolve(),__privateGet(this,mi).send("configure",{verbosity:this.verbosity})},ki=function(e){__privateSet(this,_i,e),__privateSet(this,mi,new l_("main","worker",e)),__privateGet(this,mi).on("ready",()=>{}),__privateMethod(this,xi,wi).call(this)},Si=function(){if(__privateGet(zv,yi)||__privateGet(zv,Mi,Ci))return void __privateMethod(this,xi,Ai).call(this);let{workerSrc:e}=zv;try{zv._isSameOrigin(window.location,e)||(e=zv._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new l_("main","worker",t),n=()=>{i.abort(),r.destroy(),t.terminate(),this.destroyed?__privateGet(this,fi).reject(new Error("Worker was destroyed")):__privateMethod(this,xi,Ai).call(this)},i=new AbortController;t.addEventListener("error",()=>{__privateGet(this,vi)||n()},{signal:i.signal}),r.on("test",e=>{i.abort(),!this.destroyed&&e?(__privateSet(this,mi,r),__privateSet(this,_i,t),__privateSet(this,vi,t),__privateMethod(this,xi,wi).call(this)):n()}),r.on("ready",e=>{if(i.abort(),this.destroyed)n();else try{a()}catch(t){__privateMethod(this,xi,Ai).call(this)}});const a=()=>{const e=new Uint8Array;r.send("test",e,[e.buffer])};return void a()}catch(t){kf("The worker has been disabled.")}__privateMethod(this,xi,Ai).call(this)},Ai=function(){__privateGet(zv,yi)||(Sf("Setting up fake worker."),__privateSet(zv,yi,!0)),zv._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void __privateGet(this,fi).reject(new Error("Worker was destroyed"));const t=new Km;__privateSet(this,_i,t);const r="fake"+__privateWrapper(zv,gi)._++,n=new l_(r+"_worker",r,t);e.setup(n,t),__privateSet(this,mi,new l_(r,r+"_worker",t)),__privateMethod(this,xi,wi).call(this)}).catch(e=>{__privateGet(this,fi).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Mi=new WeakSet,Ci=function(){var e;try{return(null==(e=globalThis.pdfjsWorker)?void 0:e.WorkerMessageHandler)||null}catch(t){return null}},__privateAdd(zv,Mi),__privateAdd(zv,gi,0),__privateAdd(zv,yi,!1),__privateAdd(zv,bi,new WeakMap),Fp&&(__privateSet(zv,yi,!0),nv.workerSrc||(nv.workerSrc="./pdf.worker.mjs")),zv._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(null==r?void 0:r.origin)||"null"===r.origin)return!1;const n=new URL(t,r);return r.origin===n.origin},zv._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},zv.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),!(null==e?void 0:e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return zv.create(e)};let Wv=zv;class $v{constructor(e,t,r,n,i){__privateAdd(this,Ri),__privateAdd(this,Ni,new Map),__privateAdd(this,Ei,new Map),__privateAdd(this,ji,new Map),__privateAdd(this,Gi,new Map),__privateAdd(this,Pi,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Gv,this.fontLoader=new Vm({ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this.loadingParams=n.loadingParams,this._params=n,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ef(this,"annotationStorage",new $m)}getRenderingIntent(e,t=Kp.ENABLE,r=null,n=!1,i=!1){let a=$p,s=Wm;switch(e){case"any":a=Wp;break;case"display":break;case"print":a=Bp;break;default:Sf(`getRenderingIntent - invalid intent: ${e}`)}const o=a&Bp&&r instanceof Bm?r:this.annotationStorage;switch(t){case Kp.DISABLE:a+=Up;break;case Kp.ENABLE:break;case Kp.ENABLE_FORMS:a+=Vp;break;case Kp.ENABLE_STORAGE:a+=Hp,s=o.serializable;break;default:Sf(`getRenderingIntent - invalid annotationMode: ${t}`)}n&&(a+=qp),i&&(a+=Xp);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,c].join("_"),annotationStorageSerializable:s,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null==(e=__privateGet(this,Pi))||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of __privateGet(this,Ei).values())t.push(n._destroy());__privateGet(this,Ei).clear(),__privateGet(this,ji).clear(),__privateGet(this,Gi).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return t.push(r),Promise.all(t).then(()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),__privateGet(this,Ni).clear(),this.filterFactory.destroy(),Pv.cleanup(),null==(e=this._networkStream)||e.cancelAllRequests(new Df("Worker was terminated.")),null==(t=this.messageHandler)||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{Mf(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function({value:e,done:r}){r?t.close():(Mf(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",e=>__async(this,null,function*(){var e;yield this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:n,contentLength:i}=this._fullReader;return r&&n||(this._lastProgress&&(null==(e=t.onProgress)||e.call(t,this._lastProgress)),this._fullReader.onProgress=e=>{var r;null==(r=t.onProgress)||r.call(t,{loaded:e.loaded,total:e.total})}),{isStreamingSupported:r,isRangeSupported:n,contentLength:i}})),e.on("GetRangeReader",(e,t)=>{Mf(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(e.begin,e.end);r?(t.onPull=()=>{r.read().then(function({value:e,done:r}){r?t.close():(Mf(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{r.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new Fv(e,this))}),e.on("DocException",e=>{t._capability.reject(o_(e))}),e.on("PasswordRequest",e=>{__privateSet(this,Pi,Promise.withResolvers());try{if(!t.onPassword)throw o_(e);const r=e=>{e instanceof Error?__privateGet(this,Pi).reject(e):__privateGet(this,Pi).resolve({password:e})};t.onPassword(r,e.code)}catch(r){__privateGet(this,Pi).reject(r)}return __privateGet(this,Pi).promise}),e.on("DataLoaded",e=>{var r;null==(r=t.onProgress)||r.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;__privateGet(this,Ei).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",([t,r,n])=>{var i;if(this.destroyed)return null;if(this.commonObjs.has(t))return null;switch(r){case"Font":if("error"in n){const e=n.error;Sf(`Error during font loading: ${e}`),this.commonObjs.resolve(t,e);break}const a=this._params.pdfBug&&(null==(i=globalThis.FontInspector)?void 0:i.enabled)?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,s=new Hm(n,a);this.fontLoader.bind(s).catch(()=>e.sendWithPromise("FontFallback",{id:t})).finally(()=>{!s.fontExtraProperties&&s.data&&(s.data=null),this.commonObjs.resolve(t,s)});break;case"CopyLocalImage":const{imageRef:o}=n;Mf(o,"The imageRef must be defined.");for(const e of __privateGet(this,Ei).values())for(const[,r]of e.objs)if((null==r?void 0:r.ref)===o)return r.dataLen?(this.commonObjs.resolve(t,structuredClone(r)),r.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(t,n);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([e,t,r,n])=>{var i;if(this.destroyed)return;const a=__privateGet(this,Ei).get(t);if(!a.objs.has(e))if(0!==a._intentStates.size)switch(r){case"Image":case"Pattern":a.objs.resolve(e,n);break;default:throw new Error(`Got unknown object type ${r}`)}else null==(i=null==n?void 0:n.bitmap)||i.close()}),e.on("DocProgress",e=>{var r;this.destroyed||null==(r=t.onProgress)||r.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",e=>__async(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error(`${e.type} not initialized, see the \`useWorkerFetch\` parameter.`);return t.fetch(e)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&Sf("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:r,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:r,filename:null!=(t=null==(e=this._fullReader)?void 0:e.filename)?t:null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=__privateGet(this,ji).get(t);if(r)return r;const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&__privateGet(this,Gi).set(r.refStr,e);const n=new Ov(t,r,this,this._params.pdfBug);return __privateGet(this,Ei).set(t,n),n});return __privateGet(this,ji).set(t,n),n}getPageIndex(e){return qm(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return __privateMethod(this,Ri,Ti).call(this,"GetFieldObjects")}hasJSActions(){return __privateMethod(this,Ri,Ti).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return __privateMethod(this,Ri,Ti).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return __privateMethod(this,Ri,Ti).call(this,"GetOptionalContentConfig").then(t=>new ov(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=__privateGet(this,Ni).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,r,n,i;return{info:e[0],metadata:e[1]?new iv(e[1]):null,contentDispositionFilename:null!=(r=null==(t=this._fullReader)?void 0:t.filename)?r:null,contentLength:null!=(i=null==(n=this._fullReader)?void 0:n.contentLength)?i:null}});return __privateGet(this,Ni).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return __async(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(const e of __privateGet(this,Ei).values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),__privateGet(this,Ni).clear(),this.filterFactory.destroy(!0),Pv.cleanup()}})}cachedPageNumber(e){var t;if(!qm(e))return null;const r=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return null!=(t=__privateGet(this,Gi).get(r))?t:null}}Ni=new WeakMap,Ei=new WeakMap,ji=new WeakMap,Gi=new WeakMap,Pi=new WeakMap,Ri=new WeakSet,Ti=function(e,t=null){const r=__privateGet(this,Ni).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,t);return __privateGet(this,Ni).set(e,n),n};class Bv{constructor(e){__privateAdd(this,Li,null),__publicField(this,"onContinue",null),__publicField(this,"onError",null),__privateSet(this,Li,e)}get promise(){return __privateGet(this,Li).capability.promise}cancel(e=0){__privateGet(this,Li).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=__privateGet(this,Li).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=__privateGet(this,Li);return e.form||e.canvas&&(null==t?void 0:t.size)>0}}Li=new WeakMap;const Vv=class e{constructor({callback:e,params:t,objs:r,commonObjs:n,annotationCanvasMap:i,operatorList:a,pageIndex:s,canvasFactory:o,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:u=null}){__privateAdd(this,Di,null),this.callback=e,this.params=t,this.objs=r,this.commonObjs=n,this.annotationCanvasMap=i,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=o,this.filterFactory=l,this._pdfBug=d,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Bv(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:r}){var n,i;if(this.cancelled)return;if(this._canvas){if(__privateGet(e,Ii).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");__privateGet(e,Ii).add(this._canvas)}this._pdfBug&&(null==(n=globalThis.StepperManager)?void 0:n.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:s,transform:o,background:l}=this.params;this.gfx=new rv(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null==(i=this.graphicsReadyCallback)||i.call(this)}cancel(t=null,r=0){var n,i,a;this.running=!1,this.cancelled=!0,null==(n=this.gfx)||n.endDrawing(),__privateGet(this,Di)&&(window.cancelAnimationFrame(__privateGet(this,Di)),__privateSet(this,Di,null)),__privateGet(e,Ii).delete(this._canvas),t||(t=new em(`Rendering cancelled, page ${this._pageIndex+1}`,r)),this.callback(t),null==(a=(i=this.task).onError)||a.call(i,t)}operatorListChanged(){var e;this.graphicsReady?(null==(e=this.stepper)||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?__privateSet(this,Di,window.requestAnimationFrame(()=>{__privateSet(this,Di,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return __async(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),__privateGet(e,Ii).delete(this._canvas),this.callback())))})}};Di=new WeakMap,Ii=new WeakMap,__privateAdd(Vv,Ii,new WeakSet);let Hv=Vv;const Uv="5.3.93",qv="cbeef3233";function Xv(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Kv(e){return Math.max(0,Math.min(255,255*e))}class Yv{static CMYK_G([e,t,r,n]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+n)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=Kv(e),e,e]}static G_HTML([e]){const t=Xv(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Kv)}static RGB_HTML(e){return`#${e.map(Xv).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,n]){return["RGB",1-Math.min(1,e+n),1-Math.min(1,r+n),1-Math.min(1,t+n)]}static CMYK_rgb([e,t,r,n]){return[Kv(1-Math.min(1,e+n)),Kv(1-Math.min(1,r+n)),Kv(1-Math.min(1,t+n))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const n=1-e,i=1-t,a=1-r;return["CMYK",n,i,a,Math.min(n,i,a)]}}class Qv{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),r||(n.setAttribute("width",`${e}px`),n.setAttribute("height",`${t}px`)),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox",`0 0 ${e} ${t}`),n}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Af("Abstract method `_createSVG` called.")}}class Jv extends Qv{_createSVG(e){return document.createElementNS(Kf,e)}}class Zv{static setupStorage(e,t,r,n,i){const a=n.getValue(t,{value:null});switch(r.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===i)break;e.addEventListener("input",e=>{n.setValue(t,{value:e.target.value})});break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{n.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===i)break;e.addEventListener("input",e=>{n.setValue(t,{value:e.target.value})})}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of r.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const r=e.target.options,i=-1===r.selectedIndex?"":r[r.selectedIndex].value;n.setValue(t,{value:i})})}}static setAttributes({html:e,element:t,storage:r=null,intent:n,linkService:i}){const{attributes:a}=t,s=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${n}`);for(const[o,l]of Object.entries(a))if(null!=l)switch(o){case"class":l.length&&e.setAttribute(o,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!s||"href"!==o&&"newWindow"!==o)&&e.setAttribute(o,l)}s&&i.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var t,r;const n=e.annotationStorage,i=e.linkService,a=e.xfaHtml,s=e.intent||"display",o=document.createElement(a.name);a.attributes&&this.setAttributes({html:o,element:a,intent:s,linkService:i});const l="richText"!==s,c=e.div;if(c.append(o),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=t}l&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(0===a.children.length){if(a.value){const e=document.createTextNode(a.value);o.append(e),l&&Rv.shouldBuildText(a.name)&&d.push(e)}return{textDivs:d}}const u=[[a,-1,o]];for(;u.length>0;){const[e,a,o]=u.at(-1);if(a+1===e.children.length){u.pop();continue}const c=e.children[++u.at(-1)[1]];if(null===c)continue;const{name:h}=c;if("#text"===h){const e=document.createTextNode(c.value);d.push(e),o.append(e);continue}const p=(null==(t=null==c?void 0:c.attributes)?void 0:t.xmlns)?document.createElementNS(c.attributes.xmlns,h):document.createElement(h);if(o.append(p),c.attributes&&this.setAttributes({html:p,element:c,storage:n,intent:s,linkService:i}),(null==(r=c.children)?void 0:r.length)>0)u.push([c,-1,p]);else if(c.value){const e=document.createTextNode(c.value);l&&Rv.shouldBuildText(h)&&d.push(e),p.append(e)}}for(const h of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const eg=new WeakSet;class tg{static create(e){switch(e.data.annotationType){case lf.LINK:return new ng(e);case lf.TEXT:return new ig(e);case lf.WIDGET:switch(e.data.fieldType){case"Tx":return new sg(e);case"Btn":return e.data.radioButton?new cg(e):e.data.checkBox?new lg(e):new dg(e);case"Ch":return new ug(e);case"Sig":return new og(e)}return new ag(e);case lf.POPUP:return new hg(e);case lf.FREETEXT:return new fg(e);case lf.LINE:return new mg(e);case lf.SQUARE:return new _g(e);case lf.CIRCLE:return new vg(e);case lf.POLYLINE:return new gg(e);case lf.CARET:return new bg(e);case lf.INK:return new xg(e);case lf.POLYGON:return new yg(e);case lf.HIGHLIGHT:return new wg(e);case lf.UNDERLINE:return new kg(e);case lf.SQUIGGLY:return new Sg(e);case lf.STRIKEOUT:return new Ag(e);case lf.STAMP:return new Mg(e);case lf.FILEATTACHMENT:return new Cg(e);default:return new rg(e)}}}Fi=new WeakMap,Oi=new WeakMap,zi=new WeakMap,Wi=new WeakSet,$i=function(e){const{container:{style:t},data:{rect:r,rotation:n},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:o}}}}=this;null==r||r.splice(0,4,...e),t.left=100*(e[0]-s)/i+"%",t.top=100*(a-e[3]+o)/a+"%",0===n?(t.width=100*(e[2]-e[0])/i+"%",t.height=100*(e[3]-e[1])/a+"%"):this.setRotation(n)};let rg=class e{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:n=!1}={}){__privateAdd(this,Wi),__privateAdd(this,Fi,null),__privateAdd(this,Oi,!1),__privateAdd(this,zi,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),n&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!(!(null==e?void 0:e.str)&&!(null==t?void 0:t.str))}get _isEditable(){return this.data.isEditable}get hasPopupData(){return e._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;__privateGet(this,Fi)||__privateSet(this,Fi,{rect:this.data.rect.slice(0)});const{rect:r}=e;r&&__privateMethod(this,Wi,$i).call(this,r),null==(t=__privateGet(this,zi))||t.popup.updateEdited(e)}resetEdited(){var e;__privateGet(this,Fi)&&(__privateMethod(this,Wi,$i).call(this,__privateGet(this,Fi).rect),null==(e=__privateGet(this,zi))||e.popup.resetEdited(),__privateSet(this,Fi,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:n}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof ag||(i.tabIndex=0);const{style:a}=i;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof hg){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:s,height:o}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,r=t.borderStyle.verticalCornerRadius;if(e>0||r>0){const t=`calc(${e}px * var(--total-scale-factor)) / calc(${r}px * var(--total-scale-factor))`;a.borderRadius=t}else if(this instanceof cg){const e=`calc(${s}px * var(--total-scale-factor)) / calc(${o}px * var(--total-scale-factor))`;a.borderRadius=e}switch(t.borderStyle.style){case cf:a.borderStyle="solid";break;case df:a.borderStyle="dashed";break;case uf:Sf("Unimplemented border style: beveled");break;case hf:Sf("Unimplemented border style: inset");break;case pf:a.borderBottomStyle="solid"}const n=t.borderColor||null;n?(__privateSet(this,Oi,!0),a.borderColor=Wf.makeHexColor(0|n[0],0|n[1],0|n[2])):a.borderWidth=0}const l=Wf.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:c,pageHeight:d,pageX:u,pageY:h}=n.rawDims;a.left=100*(l[0]-u)/c+"%",a.top=100*(l[1]-h)/d+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width=100*s/c+"%",a.height=100*o/d+"%"):this.setRotation(p,i),i}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:n}=this.parent.viewport.rawDims;let{width:i,height:a}=this;e%180!=0&&([i,a]=[a,i]),t.style.width=100*i/r+"%",t.style.height=100*a/n+"%",t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,r)=>{const n=r.detail[e],i=n[0],a=n.slice(1);r.target.style[t]=Yv[`${i}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[t]:Yv[`${i}_rgb`](a)})};return Ef(this,"_commonActions",{display:e=>{const{display:t}=e.detail,r=t%2==1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const n of Object.keys(t.detail)){const i=e[n]||r[n];null==i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[n,i]of Object.entries(t)){const a=r[n];if(a){a({detail:{[n]:i},target:e}),delete t[n]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,n,i]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[a,s,o,l]=e.subarray(2,6);if(n===a&&i===s&&t===o&&r===l)return}const{style:a}=this.container;let s;if(__privateGet(this,Oi)){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=n-t,l=i-r,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const u=c.createElement("defs");d.append(u);const h=c.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),u.append(h);for(let f=2,m=e.length;f<m;f+=8){const r=e[f],n=e[f+1],a=e[f+2],d=e[f+3],u=c.createElement("rect"),p=(a-t)/o,m=(i-n)/l,_=(r-a)/o,v=(n-d)/l;u.setAttribute("x",p),u.setAttribute("y",m),u.setAttribute("width",_),u.setAttribute("height",v),h.append(u),null==s||s.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${m}" width="${_}" height="${v}"/>`)}__privateGet(this,Oi)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(){const{data:e}=this,t=__privateSet(this,zi,new hg({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){Af("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const n=this._fieldObjects[e];if(n)for(const{page:e,id:i,exportValues:a}of n){if(-1===e)continue;if(i===t)continue;const n="string"==typeof a?a:null,s=document.querySelector(`[data-element-id="${i}"]`);!s||eg.has(s)?r.push({id:i,exportValue:n,domElement:s}):Sf(`_getElementsByName - element not allowed: ${i}`)}return r}for(const n of document.getElementsByName(e)){const{exportValue:e}=n,i=n.getAttribute("data-element-id");i!==t&&(eg.has(n)&&r.push({id:i,exportValue:e,domElement:n}))}return r}show(){var e;this.container&&(this.container.hidden=!1),null==(e=this.popup)||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null==(e=this.popup)||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;null==(r=this.linkService.eventBus)||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};class ng extends rg{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!(null==t?void 0:t.ignoreBorder),createQuadrilaterals:!0}),__privateAdd(this,Bi),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let n=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),n=!0):e.action?(this._bindNamedAction(r,e.action),n=!0):e.attachment?(__privateMethod(this,Bi,Hi).call(this,r,e.attachment,e.attachmentDest),n=!0):e.setOCGState?(__privateMethod(this,Bi,Ui).call(this,r,e.setOCGState),n=!0):e.dest?(this._bindLink(r,e.dest),n=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),n=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(r,""),n=!0)),this.container.classList.add("linkAnnotation"),n&&this.container.append(r),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&__privateMethod(this,Bi,Vi).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),__privateMethod(this,Bi,Vi).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const n of Object.keys(t.actions)){const i=r.get(n);i&&(e[i]=()=>{var e;return null==(e=this.linkService.eventBus)||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:n}}),!1})}e.onclick||(e.onclick=()=>!1),__privateMethod(this,Bi,Vi).call(this)}_bindResetFormAction(e,t){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),__privateMethod(this,Bi,Vi).call(this),!this._fieldObjects)return Sf('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(e.onclick=()=>!1));e.onclick=()=>{var e;null==r||r();const{fields:n,refs:i,include:a}=t,s=[];if(0!==n.length||0!==i.length){const e=new Set(i);for(const t of n){const r=this._fieldObjects[t]||[];for(const{id:t}of r)e.add(t)}for(const t of Object.values(this._fieldObjects))for(const r of t)e.has(r.id)===a&&s.push(r)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const o=this.annotationStorage,l=[];for(const t of s){const{id:e}=t;switch(l.push(e),t.type){case"text":{const r=t.defaultValue||"";o.setValue(e,{value:r});break}case"checkbox":case"radiobutton":{const r=t.defaultValue===t.exportValues;o.setValue(e,{value:r});break}case"combobox":case"listbox":{const r=t.defaultValue||"";o.setValue(e,{value:r});break}default:continue}const r=document.querySelector(`[data-element-id="${e}"]`);r&&(eg.has(r)?r.dispatchEvent(new Event("resetform")):Sf(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&(null==(e=this.linkService.eventBus)||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}})),!1}}}Bi=new WeakSet,Vi=function(){this.container.setAttribute("data-internal-link","")},Hi=function(e,t,r=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var e;return null==(e=this.downloadManager)||e.openOrDownloadData(t.content,t.filename,r),!1},__privateMethod(this,Bi,Vi).call(this)},Ui=function(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),__privateMethod(this,Bi,Vi).call(this)};class ig extends rg{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ag extends rg{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null==(t=e.previousSibling)?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Of.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,n,i){r.includes("mouse")?e.addEventListener(r,e=>{var t;null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(r,e=>{var a;if("blur"===r){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===r){if(t.focused)return;t.focused=!0}i&&(null==(a=this.linkService.eventBus)||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:i(e)}}))})}_setEventListeners(e,t,r,n){var i,a,s;for(const[o,l]of r)("Action"===l||(null==(i=this.data.actions)?void 0:i[l]))&&("Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,n),"Focus"!==l||(null==(a=this.data.actions)?void 0:a.Blur)?"Blur"!==l||(null==(s=this.data.actions)?void 0:s.Focus)||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Wf.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,i=e.style;let a;const s=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(zp*n))||1);a=Math.min(n,s(t/zp))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(n,s(e/zp))}i.fontSize=`calc(${a}px * var(--total-scale-factor))`,i.color=Wf.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class sg extends ag{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,r,n){const i=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),i.setValue(a.id,{[n]:r})}render(){var e,t;const r=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=r.getValue(n,{value:this.data.fieldValue});let s=a.value||"";const o=r.getValue(n,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let l=a.formattedValue||(null==(e=this.data.textContent)?void 0:e.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:s,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=null!=l?l:s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",null!=l?l:s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),eg.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(i.title=d),this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",e=>{r.setValue(n,{value:e.target.value}),this.setPropertyOnSiblings(i,"value",e.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",e=>{var t;const r=null!=(t=this.data.defaultFieldValue)?t:"";i.value=c.userValue=r,c.formattedValue=null});let u=e=>{const{formattedValue:t}=c;null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",e=>{var t;if(c.focused)return;const{target:r}=e;c.userValue&&(r.value=c.userValue),c.lastCommittedValue=r.value,c.commitKey=1,(null==(t=this.data.actions)?void 0:t.Focus)||(c.focused=!0)}),i.addEventListener("updatefromsandbox",e=>{this.showElementAndHideCanvas(e.target);const t={value(e){var t;c.userValue=null!=(t=e.detail.value)?t:"",r.setValue(n,{value:c.userValue.toString()}),e.target.value=c.userValue},formattedValue(e){const{formattedValue:t}=e.detail;c.formattedValue=t,null!=t&&e.target!==document.activeElement&&(e.target.value=t),r.setValue(n,{formattedValue:t})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:e=>{var t;const{charLimit:i}=e.detail,{target:a}=e;if(0===i)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",i);let s=c.userValue;!s||s.length<=i||(s=s.slice(0,i),a.value=c.userValue=s,r.setValue(n,{value:s}),null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(t,e)}),i.addEventListener("keydown",e=>{var t;c.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;c.lastCommittedValue!==i&&(c.lastCommittedValue=i,c.userValue=i,null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const e=u;u=null,i.addEventListener("blur",t=>{var r,i;if(!c.focused||!t.relatedTarget)return;(null==(r=this.data.actions)?void 0:r.Blur)||(c.focused=!1);const{value:a}=t.target;c.userValue=a,c.lastCommittedValue!==a&&(null==(i=this.linkService.eventBus)||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:a,willCommit:!0,commitKey:c.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),e(t)}),(null==(t=this.data.actions)?void 0:t.Keystroke)&&i.addEventListener("beforeinput",e=>{var t;c.lastCommittedValue=null;const{data:r,target:i}=e,{value:a,selectionStart:s,selectionEnd:o}=i;let l=s,d=o;switch(e.inputType){case"deleteWordBackward":{const e=a.substring(0,s).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=a.substring(s).match(/^[^\w]*\w*/);e&&(d+=e[0].length);break}case"deleteContentBackward":s===o&&(l-=1);break;case"deleteContentForward":s===o&&(d+=1)}e.preventDefault(),null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:a,change:r||"",willCommit:!1,selStart:l,selEnd:d}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(u&&i.addEventListener("blur",u),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${e}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class og extends ag{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class lg extends ag{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let n=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;"string"==typeof n&&(n="Off"!==n,e.setValue(r,{value:n})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return eg.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,n&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",n=>{const{name:i,checked:a}=n.target;for(const s of this._getElementsByName(i,r)){const r=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=r),e.setValue(s.id,{value:r})}e.setValue(r,{value:a})}),i.addEventListener("resetform",e=>{const r=t.defaultFieldValue||"Off";e.target.checked=r===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",t=>{const n={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(r,{value:t.target.checked})}};this._dispatchEventFromSandbox(n,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class cg extends ag{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let n=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof n&&(n=n!==t.buttonValue,e.setValue(r,{value:n})),n)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const i=document.createElement("input");if(eg.add(i),i.setAttribute("data-element-id",r),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,n&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",t=>{const{name:n,checked:i}=t.target;for(const a of this._getElementsByName(n,r))e.setValue(a.id,{value:!1});e.setValue(r,{value:i})}),i.addEventListener("resetform",e=>{const r=t.defaultFieldValue;e.target.checked=null!=r&&r===t.buttonValue}),this.enableScripting&&this.hasJSActions){const n=t.buttonValue;i.addEventListener("updatefromsandbox",t=>{const i={value:t=>{const i=n===t.detail.value;for(const n of this._getElementsByName(t.target.name)){const t=i&&n.id===r;n.domElement&&(n.domElement.checked=t),e.setValue(n.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class dg extends ng{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class ug extends ag{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),n=document.createElement("select");eg.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,this._setRequired(n,this.data.required),n.name=this.data.fieldName,n.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0)),n.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const r of n.options)r.selected=r.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,r.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),n.append(e)}let a=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),n.prepend(e),a=()=>{e.remove(),n.removeEventListener("input",a),a=null},n.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:r,multiple:i}=n;return i?Array.prototype.filter.call(r,e=>e.selected).map(e=>e[t]):-1===r.selectedIndex?null:r[r.selectedIndex][t]};let o=s(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(n.addEventListener("updatefromsandbox",r=>{const i={value(r){null==a||a();const i=r.detail.value,l=new Set(Array.isArray(i)?i:[i]);for(const e of n.options)e.selected=l.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){n.multiple=!0},remove(r){const i=n.options,a=r.detail.remove;if(i[a].selected=!1,n.remove(a),i.length>0){-1===Array.prototype.findIndex.call(i,e=>e.selected)&&(i[0].selected=!0)}e.setValue(t,{value:s(!0),items:l(r)}),o=s(!1)},clear(r){for(;0!==n.length;)n.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(r){const{index:i,displayValue:a,exportValue:c}=r.detail.insert,d=n.children[i],u=document.createElement("option");u.textContent=a,u.value=c,d?d.before(u):n.append(u),e.setValue(t,{value:s(!0),items:l(r)}),o=s(!1)},items(r){const{items:i}=r.detail;for(;0!==n.length;)n.remove(0);for(const e of i){const{displayValue:t,exportValue:r}=e,i=document.createElement("option");i.textContent=t,i.value=r,n.append(i)}n.options.length>0&&(n.options[0].selected=!0),e.setValue(t,{value:s(!0),items:l(r)}),o=s(!1)},indices(r){const n=new Set(r.detail.indices);for(const e of r.target.options)e.selected=n.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,r)}),n.addEventListener("input",r=>{var n;const i=s(!0),a=s(!1);e.setValue(t,{value:i}),r.preventDefault(),null==(n=this.linkService.eventBus)||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:a,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(n,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):n.addEventListener("input",function(r){e.setValue(t,{value:s(!0)})}),this.data.combo&&this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class hg extends rg{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:rg._hasPopupData(t)}),this.elements=r,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new pg({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",r.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(e=>`${Uf}${e}`).join(",")),this.container}}class pg{constructor({container:e,color:t,elements:r,titleObj:n,modificationDate:i,contentsObj:a,richText:s,parent:o,rect:l,parentRect:c,open:d}){var u;__privateAdd(this,ha),__privateAdd(this,qi,__privateMethod(this,ha,va).bind(this)),__privateAdd(this,Xi,__privateMethod(this,ha,xa).bind(this)),__privateAdd(this,Ki,__privateMethod(this,ha,ba).bind(this)),__privateAdd(this,Yi,__privateMethod(this,ha,ya).bind(this)),__privateAdd(this,Qi,null),__privateAdd(this,Ji,null),__privateAdd(this,Zi,null),__privateAdd(this,ea,null),__privateAdd(this,ta,null),__privateAdd(this,ra,null),__privateAdd(this,na,null),__privateAdd(this,ia,!1),__privateAdd(this,aa,null),__privateAdd(this,sa,null),__privateAdd(this,oa,null),__privateAdd(this,la,null),__privateAdd(this,ca,null),__privateAdd(this,da,null),__privateAdd(this,ua,!1),__privateSet(this,Ji,e),__privateSet(this,ca,n),__privateSet(this,Zi,a),__privateSet(this,la,s),__privateSet(this,ra,o),__privateSet(this,Qi,t),__privateSet(this,oa,l),__privateSet(this,na,c),__privateSet(this,ta,r),__privateSet(this,ea,cm.toDateObject(i)),this.trigger=r.flatMap(e=>e.getElementsToTriggerPopup());for(const h of this.trigger)h.addEventListener("click",__privateGet(this,Yi)),h.addEventListener("mouseenter",__privateGet(this,Ki)),h.addEventListener("mouseleave",__privateGet(this,Xi)),h.classList.add("popupTriggerArea");for(const h of r)null==(u=h.container)||u.addEventListener("keydown",__privateGet(this,qi));__privateGet(this,Ji).hidden=!0,d&&__privateMethod(this,ha,ya).call(this)}render(){if(__privateGet(this,aa))return;const e=__privateSet(this,aa,document.createElement("div"));if(e.className="popup",__privateGet(this,Qi)){const t=e.style.outlineColor=Wf.makeHexColor(...__privateGet(this,Qi));e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),({dir:r.dir,str:r.textContent}=__privateGet(this,ca)),e.append(t),__privateGet(this,ea)){const e=document.createElement("time");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:__privateGet(this,ea).valueOf()})),e.dateTime=__privateGet(this,ea).toISOString(),t.append(e)}const n=__privateGet(this,ha,pa);if(n)Zv.render({xfaHtml:n,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(__privateGet(this,Zi));e.append(t)}__privateGet(this,Ji).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const n=e.split(/(?:\r\n?|\n)/);for(let i=0,a=n.length;i<a;++i){const e=n[i];r.append(document.createTextNode(e)),i<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;__privateGet(this,da)||__privateSet(this,da,{contentsObj:__privateGet(this,Zi),richText:__privateGet(this,la)}),e&&__privateSet(this,sa,null),t&&(__privateSet(this,la,__privateMethod(this,ha,_a).call(this,t)),__privateSet(this,Zi,null)),null==(r=__privateGet(this,aa))||r.remove(),__privateSet(this,aa,null)}resetEdited(){var e;__privateGet(this,da)&&(({contentsObj:__privateWrapper(this,Zi)._,richText:__privateWrapper(this,la)._}=__privateGet(this,da)),__privateSet(this,da,null),null==(e=__privateGet(this,aa))||e.remove(),__privateSet(this,aa,null),__privateSet(this,sa,null))}forceHide(){__privateSet(this,ua,this.isVisible),__privateGet(this,ua)&&(__privateGet(this,Ji).hidden=!0)}maybeShow(){__privateGet(this,ua)&&(__privateGet(this,aa)||__privateMethod(this,ha,ba).call(this),__privateSet(this,ua,!1),__privateGet(this,Ji).hidden=!1)}get isVisible(){return!1===__privateGet(this,Ji).hidden}}qi=new WeakMap,Xi=new WeakMap,Ki=new WeakMap,Yi=new WeakMap,Qi=new WeakMap,Ji=new WeakMap,Zi=new WeakMap,ea=new WeakMap,ta=new WeakMap,ra=new WeakMap,na=new WeakMap,ia=new WeakMap,aa=new WeakMap,sa=new WeakMap,oa=new WeakMap,la=new WeakMap,ca=new WeakMap,da=new WeakMap,ua=new WeakMap,ha=new WeakSet,pa=function(){const e=__privateGet(this,la),t=__privateGet(this,Zi);return!(null==e?void 0:e.str)||(null==t?void 0:t.str)&&t.str!==e.str?null:__privateGet(this,la).html||null},fa=function(){var e,t,r;return(null==(r=null==(t=null==(e=__privateGet(this,ha,pa))?void 0:e.attributes)?void 0:t.style)?void 0:r.fontSize)||0},ma=function(){var e,t,r;return(null==(r=null==(t=null==(e=__privateGet(this,ha,pa))?void 0:e.attributes)?void 0:t.style)?void 0:r.color)||null},_a=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},n={style:{color:__privateGet(this,ha,ma),fontSize:__privateGet(this,ha,fa)?`calc(${__privateGet(this,ha,fa)}px * var(--total-scale-factor))`:""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:n});return r},va=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&__privateGet(this,ia))&&__privateMethod(this,ha,ya).call(this)},ga=function(){if(null!==__privateGet(this,sa))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:n,pageY:i}}}=__privateGet(this,ra);let a=!!__privateGet(this,na),s=__privateGet(this,a?na:oa);for(const h of __privateGet(this,ta))if(!s||null!==Wf.intersect(h.data.rect,s)){s=h.data.rect,a=!0;break}const o=Wf.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),l=a?s[2]-s[0]+5:0,c=o[0]+l,d=o[1];__privateSet(this,sa,[100*(c-n)/t,100*(d-i)/r]);const{style:u}=__privateGet(this,Ji);u.left=`${__privateGet(this,sa)[0]}%`,u.top=`${__privateGet(this,sa)[1]}%`},ya=function(){__privateSet(this,ia,!__privateGet(this,ia)),__privateGet(this,ia)?(__privateMethod(this,ha,ba).call(this),__privateGet(this,Ji).addEventListener("click",__privateGet(this,Yi)),__privateGet(this,Ji).addEventListener("keydown",__privateGet(this,qi))):(__privateMethod(this,ha,xa).call(this),__privateGet(this,Ji).removeEventListener("click",__privateGet(this,Yi)),__privateGet(this,Ji).removeEventListener("keydown",__privateGet(this,qi)))},ba=function(){__privateGet(this,aa)||this.render(),this.isVisible?__privateGet(this,ia)&&__privateGet(this,Ji).classList.add("focused"):(__privateMethod(this,ha,ga).call(this),__privateGet(this,Ji).hidden=!1,__privateGet(this,Ji).style.zIndex=parseInt(__privateGet(this,Ji).style.zIndex)+1e3)},xa=function(){__privateGet(this,Ji).classList.remove("focused"),!__privateGet(this,ia)&&this.isVisible&&(__privateGet(this,Ji).hidden=!0,__privateGet(this,Ji).style.zIndex=parseInt(__privateGet(this,Ji).style.zIndex)-1e3)};class fg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Qp.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class mg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),__privateAdd(this,wa,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:r}=this,n=this.svgFactory.create(t,r,!0),i=__privateSet(this,wa,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),n.append(i),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return __privateGet(this,wa)}addHighlightArea(){this.container.classList.add("highlightArea")}}wa=new WeakMap;class _g extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),__privateAdd(this,ka,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:r}=this,n=this.svgFactory.create(t,r,!0),i=e.borderStyle.width,a=__privateSet(this,ka,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",i/2),a.setAttribute("y",i/2),a.setAttribute("width",t-i),a.setAttribute("height",r-i),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),n.append(a),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return __privateGet(this,ka)}addHighlightArea(){this.container.classList.add("highlightArea")}}ka=new WeakMap;class vg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),__privateAdd(this,Sa,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:r}=this,n=this.svgFactory.create(t,r,!0),i=e.borderStyle.width,a=__privateSet(this,Sa,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",t/2),a.setAttribute("cy",r/2),a.setAttribute("rx",t/2-i/2),a.setAttribute("ry",r/2-i/2),a.setAttribute("stroke-width",i||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),n.append(a),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return __privateGet(this,Sa)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sa=new WeakMap;class gg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),__privateAdd(this,Aa,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:r,popupRef:n},width:i,height:a}=this;if(!t)return this.container;const s=this.svgFactory.create(i,a,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const r=t[c]-e[0],n=e[3]-t[c+1];o.push(`${r},${n}`)}o=o.join(" ");const l=__privateSet(this,Aa,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",r.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!n&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return __privateGet(this,Aa)}addHighlightArea(){this.container.classList.add("highlightArea")}}Aa=new WeakMap;class yg extends gg{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class bg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class xg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),__privateAdd(this,Na),__privateAdd(this,Ma,null),__privateAdd(this,Ca,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Qp.HIGHLIGHT:Qp.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:r,borderStyle:n,popupRef:i}}=this,{transform:a,width:s,height:o}=__privateMethod(this,Na,Ea).call(this,t,e),l=this.svgFactory.create(s,o,!0),c=__privateSet(this,Ma,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",a);for(let d=0,u=r.length;d<u;d++){const e=this.svgFactory.createElement(this.svgElementName);__privateGet(this,Ca).push(e),e.setAttribute("points",r[d].join(",")),c.append(e)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:r,rect:n}=e,i=__privateGet(this,Ma);if(t>=0&&i.setAttribute("stroke-width",t||1),r)for(let a=0,s=__privateGet(this,Ca).length;a<s;a++)__privateGet(this,Ca)[a].setAttribute("points",r[a].join(","));if(n){const{transform:e,width:t,height:r}=__privateMethod(this,Na,Ea).call(this,this.data.rotation,n);i.parentElement.setAttribute("viewBox",`0 0 ${t} ${r}`),i.setAttribute("transform",e)}}getElementsToTriggerPopup(){return __privateGet(this,Ca)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ma=new WeakMap,Ca=new WeakMap,Na=new WeakSet,Ea=function(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}};class wg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Qp.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const t=document.createElement("mark");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class kg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Sg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Ag extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const t=document.createElement("s");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Mg extends rg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Qp.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class Cg extends rg{constructor(e){var t;super(e,{isRenderable:!0}),__privateAdd(this,Ga),__privateAdd(this,ja,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,null==(t=this.linkService.eventBus)||t.dispatch("fileattachmentannotation",__spreadValues({source:this},r))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let r;t.hasAppearance||0===t.fillAlpha?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),r.addEventListener("dblclick",__privateMethod(this,Ga,Pa).bind(this)),__privateSet(this,ja,r);const{isMac:n}=Of.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(n?e.metaKey:e.ctrlKey)&&__privateMethod(this,Ga,Pa).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return __privateGet(this,ja)}addHighlightArea(){this.container.classList.add("highlightArea")}}ja=new WeakMap,Ga=new WeakSet,Pa=function(){var e;null==(e=this.downloadManager)||e.openOrDownloadData(this.content,this.filename)};let Ng=(za=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:n,page:i,viewport:a,structTreeLayer:s}){__privateAdd(this,Ia),__privateAdd(this,Ra,null),__privateAdd(this,Ta,null),__privateAdd(this,La,new Map),__privateAdd(this,Da,null),this.div=e,__privateSet(this,Ra,t),__privateSet(this,Ta,r),__privateSet(this,Da,s||null),this.page=i,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=n}hasEditableAnnotations(){return __privateGet(this,La).size>0}render(e){return __async(this,null,function*(){var t;const{annotations:r}=e,n=this.div;fm(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new Jv,annotationStorage:e.annotationStorage||new $m,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const e of r){if(e.noHTML)continue;const r=e.annotationType===lf.POPUP;if(r){const t=i.get(e.id);if(!t)continue;a.elements=t}else if(e.rect[2]===e.rect[0]||e.rect[3]===e.rect[1])continue;a.data=e;const n=tg.create(a);if(!n.isRenderable)continue;if(!r&&e.popupRef){const t=i.get(e.popupRef);t?t.push(n):i.set(e.popupRef,[n])}const s=n.render();e.hidden&&(s.style.visibility="hidden"),yield __privateMethod(this,Ia,Fa).call(this,s,e.id,a.elements),n._isEditable&&(__privateGet(this,La).set(n.data.id,n),null==(t=this._annotationEditorUIManager)||t.renderAnnotationElement(n))}__privateMethod(this,Ia,Oa).call(this)})}addLinkAnnotations(e,t){return __async(this,null,function*(){const r={data:null,layer:this.div,linkService:t,svgFactory:new Jv,parent:this};for(const t of e){t.borderStyle||(t.borderStyle=za._defaultBorderStyle),r.data=t;const e=tg.create(r);if(!e.isRenderable)continue;const n=e.render();yield __privateMethod(this,Ia,Fa).call(this,n,t.id,null)}})}update({viewport:e}){const t=this.div;this.viewport=e,fm(t,{rotation:e.rotation}),__privateMethod(this,Ia,Oa).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(__privateGet(this,La).values())}getEditableAnnotation(e){return __privateGet(this,La).get(e)}static get _defaultBorderStyle(){return Ef(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:cf,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Ra=new WeakMap,Ta=new WeakMap,La=new WeakMap,Da=new WeakMap,Ia=new WeakSet,Fa=function(e,t,r){return __async(this,null,function*(){var n,i;const a=e.firstChild||e,s=a.id=`${Uf}${t}`,o=yield null==(n=__privateGet(this,Da))?void 0:n.getAriaAttributes(s);if(o)for(const[e,t]of o)a.setAttribute(e,t);r?r.at(-1).container.after(e):(this.div.append(e),null==(i=__privateGet(this,Ra))||i.moveElementInDOM(this.div,e,a,!1))})},Oa=function(){var e;if(!__privateGet(this,Ta))return;const t=this.div;for(const[r,n]of __privateGet(this,Ta)){const i=t.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:a}=i;a?"CANVAS"===a.nodeName?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):i.append(n);const s=__privateGet(this,La).get(r);s&&(s._hasNoCanvas?(null==(e=this._annotationEditorUIManager)||e.setMissingCanvas(r,i.id,n),s._hasNoCanvas=!1):s.canvas=n)}__privateGet(this,Ta).clear()},za);const Eg=/\r\n?|\n/g,jg=class e extends Lm{constructor(t){super(__spreadProps(__spreadValues({},t),{name:"freeTextEditor"})),__privateAdd(this,Ua),__privateAdd(this,Wa),__privateAdd(this,$a,""),__privateAdd(this,Ba,`${this.id}-editor`),__privateAdd(this,Va,null),__privateAdd(this,Ha),__privateSet(this,Wa,t.color||e._defaultColor||Lm._defaultLineColor),__privateSet(this,Ha,t.fontSize||e._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=e.prototype,r=e=>e.isEmpty(),n=Em.TRANSLATE_SMALL,i=Em.TRANSLATE_BIG;return Ef(this,"_keyboardManager",new Am([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}]]))}static initialize(e,t){Lm.initialize(e,t);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Jp.FREETEXT_SIZE:e._defaultFontSize=r;break;case Jp.FREETEXT_COLOR:e._defaultColor=r}}updateParams(e,t){switch(e){case Jp.FREETEXT_SIZE:__privateMethod(this,Ua,qa).call(this,t);break;case Jp.FREETEXT_COLOR:__privateMethod(this,Ua,Xa).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Jp.FREETEXT_SIZE,e._defaultFontSize],[Jp.FREETEXT_COLOR,e._defaultColor||Lm._defaultLineColor]]}get propertiesToUpdate(){return[[Jp.FREETEXT_SIZE,__privateGet(this,Ha)],[Jp.FREETEXT_COLOR,__privateGet(this,Wa)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const t=this.parentScale;return[-e._internalPadding*t,-(e._internalPadding+__privateGet(this,Ha))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),__privateSet(this,Va,new AbortController);const e=this._uiManager.combinedSignal(__privateGet(this,Va));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",__privateGet(this,Ba)),this._isDraggable=!0,null==(e=__privateGet(this,Va))||e.abort(),__privateSet(this,Va,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(null==(t=this._initialOptions)?void 0:t.isCentered)&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=__privateGet(this,$a),t=__privateSet(this,$a,__privateMethod(this,Ua,Ka).call(this).trimEnd());if(e===t)return;const r=e=>{__privateSet(this,$a,e),e?(__privateMethod(this,Ua,Za).call(this),this._uiManager.rebuild(this),__privateMethod(this,Ua,Ya).call(this)):this.remove()};this.addCommands({cmd:()=>{r(t)},undo:()=>{r(e)},mustExec:!1}),__privateMethod(this,Ua,Ya).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(t){e._keyboardManager.exec(this,t)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",__privateGet(this,Ba)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${__privateGet(this,Ha)}px * var(--total-scale-factor))`,r.color=__privateGet(this,Wa),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,n]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let u,h;switch(this.rotation){case 0:u=e+(i[0]-c)/o,h=t+this.height-(i[1]-d)/l;break;case 90:u=e+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[s,-a];break;case 180:u=e-this.width+(i[0]-c)/o,h=t-(i[1]-d)/l,[a,s]=[-a,-s];break;case 270:u=e+(i[0]-c-this.height*l)/o,h=t+(i[1]-d-this.width*o)/l,[a,s]=[-s,a]}this.setAt(u*r,h*n,a,s)}else this._moveAfterPaste(e,t);__privateMethod(this,Ua,Za).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var r,n,i;const a=t.clipboardData||window.clipboardData,{types:s}=a;if(1===s.length&&"text/plain"===s[0])return;t.preventDefault();const o=__privateMethod(r=e,Qa,ts).call(r,a.getData("text")||"").replaceAll(Eg,"\n");if(!o)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!o.includes("\n"))return c.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),void l.collapseToStart();const{startContainer:d,startOffset:u}=c,h=[],p=[];if(d.nodeType===Node.TEXT_NODE){const t=d.parentElement;if(p.push(d.nodeValue.slice(u).replaceAll(Eg,"")),t!==this.editorDiv){let r=h;for(const i of this.editorDiv.childNodes)i!==t?r.push(__privateMethod(n=e,Qa,Ja).call(n,i)):r=p}h.push(d.nodeValue.slice(0,u).replaceAll(Eg,""))}else if(d===this.editorDiv){let t=h,r=0;for(const n of this.editorDiv.childNodes)r++===u&&(t=p),t.push(__privateMethod(i=e,Qa,Ja).call(i,n))}__privateSet(this,$a,`${h.join("\n")}${o}${p.join("\n")}`),__privateMethod(this,Ua,Za).call(this);const f=new Range;let m=Math.sumPrecise(h.map(e=>e.length));for(const{firstChild:e}of this.editorDiv.childNodes)if(e.nodeType===Node.TEXT_NODE){const t=e.nodeValue.length;if(m<=t){f.setStart(e,m),f.setEnd(e,m);break}m-=t}l.removeAllRanges(),l.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(t,r,n){return __async(this,null,function*(){var i;let a=null;if(t instanceof fg){const{data:{defaultAppearanceData:{fontSize:e,fontColor:r},rect:n,rotation:i,id:s,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:d}}}=t;if(!l||0===l.length)return null;a=t={annotationType:Qp.FREETEXT,color:Array.from(r),fontSize:e,value:l.join("\n"),position:c,pageIndex:d-1,rect:n.slice(0),rotation:i,annotationElementId:s,id:s,deleted:!1,popupRef:o}}const s=yield __superGet(e,this,"deserialize").call(this,t,r,n);return __privateSet(s,Ha,t.fontSize),__privateSet(s,Wa,Wf.makeHexColor(...t.color)),__privateSet(s,$a,__privateMethod(i=e,Qa,ts).call(i,t.value)),s._initialData=a,s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=e._internalPadding*this.parentScale,n=this.getRect(r,r),i=Lm._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:__privateGet(this,Wa)),a={annotationType:Qp.FREETEXT,color:i,fontSize:__privateGet(this,Ha),value:__privateMethod(this,Ua,es).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?(a.isCopy=!0,a):this.annotationElementId&&!__privateMethod(this,Ua,rs).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:n}=r;n.fontSize=`calc(${__privateGet(this,Ha)}px * var(--total-scale-factor))`,n.color=__privateGet(this,Wa),r.replaceChildren();for(const e of __privateGet(this,$a).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),r.append(t)}const i=e._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:__privateGet(this,$a)}),r}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Wa=new WeakMap,$a=new WeakMap,Ba=new WeakMap,Va=new WeakMap,Ha=new WeakMap,Ua=new WeakSet,qa=function(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--total-scale-factor))`,this.translate(0,-(e-__privateGet(this,Ha))*this.parentScale),__privateSet(this,Ha,e),__privateMethod(this,Ua,Ya).call(this)},r=__privateGet(this,Ha);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jp.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Xa=function(e){const t=e=>{__privateSet(this,Wa,this.editorDiv.style.color=e)},r=__privateGet(this,Wa);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jp.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Ka=function(){var e;const t=[];this.editorDiv.normalize();let r=null;for(const n of this.editorDiv.childNodes)(null==r?void 0:r.nodeType)===Node.TEXT_NODE&&"BR"===n.nodeName||(t.push(__privateMethod(e=jg,Qa,Ja).call(e,n)),r=n);return t.join("\n")},Ya=function(){const[e,t]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,n=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),r=t.getBoundingClientRect(),t.remove(),t.style.display=n,t.classList.toggle("hidden",i)}this.rotation%180==this.parentRotation%180?(this.width=r.width/e,this.height=r.height/t):(this.width=r.height/e,this.height=r.width/t),this.fixAndSetPosition()},Qa=new WeakSet,Ja=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Eg,"")},Za=function(){if(this.editorDiv.replaceChildren(),__privateGet(this,$a))for(const e of __privateGet(this,$a).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}},es=function(){return __privateGet(this,$a).replaceAll(" "," ")},ts=function(e){return e.replaceAll(" "," ")},rs=function(e){const{value:t,fontSize:r,color:n,pageIndex:i}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((e,t)=>e!==n[t])||e.pageIndex!==i},__privateAdd(jg,Qa),__publicField(jg,"_freeTextDefaultContent",""),__publicField(jg,"_internalPadding",0),__publicField(jg,"_defaultColor",null),__publicField(jg,"_defaultFontSize",10),__publicField(jg,"_type","freetext"),__publicField(jg,"_editorType",Qp.FREETEXT);let Gg=jg;class Pg{toSVGPath(){Af("Abstract method `toSVGPath` must be implemented.")}get box(){Af("Abstract getter `box` must be implemented.")}serialize(e,t){Af("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,n,i,a){a||(a=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s]*n,a[s+1]=r+e[s+1]*i;return a}static _rescaleAndSwap(e,t,r,n,i,a){a||(a=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s+1]*n,a[s+1]=r+e[s]*i;return a}static _translate(e,t,r,n){n||(n=new Float32Array(e.length));for(let i=0,a=e.length;i<a;i+=2)n[i]=t+e[i],n[i+1]=r+e[i+1];return n}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,r,n,i){switch(i){case 90:return[1-t/r,e/n];case 180:return[1-e/r,1-t/n];case 270:return[t/r,1-e/n];default:return[e/r,t/n]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,n,i,a){return[(e+5*r)/6,(t+5*n)/6,(5*r+i)/6,(5*n+a)/6,(r+i)/2,(n+a)/2]}}__publicField(Pg,"PRECISION",1e-4);const Rg=class e{constructor({x:t,y:r},n,i,a,s,o=0){__privateAdd(this,ys),__privateAdd(this,ns),__privateAdd(this,is,[]),__privateAdd(this,as),__privateAdd(this,ss),__privateAdd(this,os,[]),__privateAdd(this,ls,new Float32Array(18)),__privateAdd(this,cs),__privateAdd(this,ds),__privateAdd(this,us),__privateAdd(this,hs),__privateAdd(this,ps),__privateAdd(this,fs),__privateAdd(this,ms,[]),__privateSet(this,ns,n),__privateSet(this,fs,a*i),__privateSet(this,ss,s),__privateGet(this,ls).set([NaN,NaN,NaN,NaN,t,r],6),__privateSet(this,as,o),__privateSet(this,hs,__privateGet(e,_s)*i),__privateSet(this,us,__privateGet(e,gs)*i),__privateSet(this,ps,i),__privateGet(this,ms).push(t,r)}isEmpty(){return isNaN(__privateGet(this,ls)[8])}add({x:e,y:t}){var r;__privateSet(this,cs,e),__privateSet(this,ds,t);const[n,i,a,s]=__privateGet(this,ns);let[o,l,c,d]=__privateGet(this,ls).subarray(8,12);const u=e-c,h=t-d,p=Math.hypot(u,h);if(p<__privateGet(this,us))return!1;const f=p-__privateGet(this,hs),m=f/p,_=m*u,v=m*h;let g=o,y=l;o=c,l=d,c+=_,d+=v,null==(r=__privateGet(this,ms))||r.push(e,t);const b=_/f,x=-v/f*__privateGet(this,fs),w=b*__privateGet(this,fs);if(__privateGet(this,ls).set(__privateGet(this,ls).subarray(2,8),0),__privateGet(this,ls).set([c+x,d+w],4),__privateGet(this,ls).set(__privateGet(this,ls).subarray(14,18),12),__privateGet(this,ls).set([c-x,d-w],16),isNaN(__privateGet(this,ls)[6]))return 0===__privateGet(this,os).length&&(__privateGet(this,ls).set([o+x,l+w],2),__privateGet(this,os).push(NaN,NaN,NaN,NaN,(o+x-n)/a,(l+w-i)/s),__privateGet(this,ls).set([o-x,l-w],14),__privateGet(this,is).push(NaN,NaN,NaN,NaN,(o-x-n)/a,(l-w-i)/s)),__privateGet(this,ls).set([g,y,o,l,c,d],6),!this.isEmpty();__privateGet(this,ls).set([g,y,o,l,c,d],6);return Math.abs(Math.atan2(y-l,g-o)-Math.atan2(v,_))<Math.PI/2?([o,l,c,d]=__privateGet(this,ls).subarray(2,6),__privateGet(this,os).push(NaN,NaN,NaN,NaN,((o+c)/2-n)/a,((l+d)/2-i)/s),[o,l,g,y]=__privateGet(this,ls).subarray(14,18),__privateGet(this,is).push(NaN,NaN,NaN,NaN,((g+o)/2-n)/a,((y+l)/2-i)/s),!0):([g,y,o,l,c,d]=__privateGet(this,ls).subarray(0,6),__privateGet(this,os).push(((g+5*o)/6-n)/a,((y+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+d)/6-i)/s,((o+c)/2-n)/a,((l+d)/2-i)/s),[c,d,o,l,g,y]=__privateGet(this,ls).subarray(12,18),__privateGet(this,is).push(((g+5*o)/6-n)/a,((y+5*l)/6-i)/s,((5*o+c)/6-n)/a,((5*l+d)/6-i)/s,((o+c)/2-n)/a,((l+d)/2-i)/s),!0)}toSVGPath(){if(this.isEmpty())return"";const e=__privateGet(this,os),t=__privateGet(this,is);if(isNaN(__privateGet(this,ls)[6])&&!this.isEmpty())return __privateMethod(this,ys,xs).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let n=6;n<e.length;n+=6)isNaN(e[n])?r.push(`L${e[n+4]} ${e[n+5]}`):r.push(`C${e[n]} ${e[n+1]} ${e[n+2]} ${e[n+3]} ${e[n+4]} ${e[n+5]}`);__privateMethod(this,ys,ks).call(this,r);for(let n=t.length-6;n>=6;n-=6)isNaN(t[n])?r.push(`L${t[n+4]} ${t[n+5]}`):r.push(`C${t[n]} ${t[n+1]} ${t[n+2]} ${t[n+3]} ${t[n+4]} ${t[n+5]}`);return __privateMethod(this,ys,ws).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,n,i,a){return new Lg(e,t,r,n,i,a)}getOutlines(){var e,t;const r=__privateGet(this,os),n=__privateGet(this,is),i=__privateGet(this,ls),[a,s,o,l]=__privateGet(this,ns),c=new Float32Array((null!=(t=null==(e=__privateGet(this,ms))?void 0:e.length)?t:0)+2);for(let h=0,p=c.length-2;h<p;h+=2)c[h]=(__privateGet(this,ms)[h]-a)/o,c[h+1]=(__privateGet(this,ms)[h+1]-s)/l;if(c[c.length-2]=(__privateGet(this,cs)-a)/o,c[c.length-1]=(__privateGet(this,ds)-s)/l,isNaN(i[6])&&!this.isEmpty())return __privateMethod(this,ys,Ss).call(this,c);const d=new Float32Array(__privateGet(this,os).length+24+__privateGet(this,is).length);let u=r.length;for(let h=0;h<u;h+=2)isNaN(r[h])?d[h]=d[h+1]=NaN:(d[h]=r[h],d[h+1]=r[h+1]);u=__privateMethod(this,ys,Ms).call(this,d,u);for(let h=n.length-6;h>=6;h-=6)for(let e=0;e<6;e+=2)isNaN(n[h+e])?(d[u]=d[u+1]=NaN,u+=2):(d[u]=n[h+e],d[u+1]=n[h+e+1],u+=2);return __privateMethod(this,ys,As).call(this,d,u),this.newFreeDrawOutline(d,c,__privateGet(this,ns),__privateGet(this,ps),__privateGet(this,as),__privateGet(this,ss))}};ns=new WeakMap,is=new WeakMap,as=new WeakMap,ss=new WeakMap,os=new WeakMap,ls=new WeakMap,cs=new WeakMap,ds=new WeakMap,us=new WeakMap,hs=new WeakMap,ps=new WeakMap,fs=new WeakMap,ms=new WeakMap,_s=new WeakMap,vs=new WeakMap,gs=new WeakMap,ys=new WeakSet,bs=function(){const e=__privateGet(this,ls).subarray(4,6),t=__privateGet(this,ls).subarray(16,18),[r,n,i,a]=__privateGet(this,ns);return[(__privateGet(this,cs)+(e[0]-t[0])/2-r)/i,(__privateGet(this,ds)+(e[1]-t[1])/2-n)/a,(__privateGet(this,cs)+(t[0]-e[0])/2-r)/i,(__privateGet(this,ds)+(t[1]-e[1])/2-n)/a]},xs=function(){const[e,t,r,n]=__privateGet(this,ns),[i,a,s,o]=__privateMethod(this,ys,bs).call(this);return`M${(__privateGet(this,ls)[2]-e)/r} ${(__privateGet(this,ls)[3]-t)/n} L${(__privateGet(this,ls)[4]-e)/r} ${(__privateGet(this,ls)[5]-t)/n} L${i} ${a} L${s} ${o} L${(__privateGet(this,ls)[16]-e)/r} ${(__privateGet(this,ls)[17]-t)/n} L${(__privateGet(this,ls)[14]-e)/r} ${(__privateGet(this,ls)[15]-t)/n} Z`},ws=function(e){const t=__privateGet(this,is);e.push(`L${t[4]} ${t[5]} Z`)},ks=function(e){const[t,r,n,i]=__privateGet(this,ns),a=__privateGet(this,ls).subarray(4,6),s=__privateGet(this,ls).subarray(16,18),[o,l,c,d]=__privateMethod(this,ys,bs).call(this);e.push(`L${(a[0]-t)/n} ${(a[1]-r)/i} L${o} ${l} L${c} ${d} L${(s[0]-t)/n} ${(s[1]-r)/i}`)},Ss=function(e){const t=__privateGet(this,ls),[r,n,i,a]=__privateGet(this,ns),[s,o,l,c]=__privateMethod(this,ys,bs).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-r)/i,(t[3]-n)/a,NaN,NaN,NaN,NaN,(t[4]-r)/i,(t[5]-n)/a,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-r)/i,(t[17]-n)/a,NaN,NaN,NaN,NaN,(t[14]-r)/i,(t[15]-n)/a],0),this.newFreeDrawOutline(d,e,__privateGet(this,ns),__privateGet(this,ps),__privateGet(this,as),__privateGet(this,ss))},As=function(e,t){const r=__privateGet(this,is);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+6},Ms=function(e,t){const r=__privateGet(this,ls).subarray(4,6),n=__privateGet(this,ls).subarray(16,18),[i,a,s,o]=__privateGet(this,ns),[l,c,d,u]=__privateMethod(this,ys,bs).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-i)/s,(r[1]-a)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,(n[0]-i)/s,(n[1]-a)/o],t),t+24},__privateAdd(Rg,_s,8),__privateAdd(Rg,vs,2),__privateAdd(Rg,gs,__privateGet(Rg,_s)+__privateGet(Rg,vs));let Tg=Rg;class Lg extends Pg{constructor(e,t,r,n,i,a){super(),__privateAdd(this,Ts),__privateAdd(this,Cs),__privateAdd(this,Ns,new Float32Array(4)),__privateAdd(this,Es),__privateAdd(this,js),__privateAdd(this,Gs),__privateAdd(this,Ps),__privateAdd(this,Rs),__privateSet(this,Rs,e),__privateSet(this,Gs,t),__privateSet(this,Cs,r),__privateSet(this,Ps,n),__privateSet(this,Es,i),__privateSet(this,js,a),this.lastPoint=[NaN,NaN],__privateMethod(this,Ts,Ls).call(this,a);const[s,o,l,c]=__privateGet(this,Ns);for(let d=0,u=e.length;d<u;d+=2)e[d]=(e[d]-s)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,u=t.length;d<u;d+=2)t[d]=(t[d]-s)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=[`M${__privateGet(this,Rs)[4]} ${__privateGet(this,Rs)[5]}`];for(let t=6,r=__privateGet(this,Rs).length;t<r;t+=6)isNaN(__privateGet(this,Rs)[t])?e.push(`L${__privateGet(this,Rs)[t+4]} ${__privateGet(this,Rs)[t+5]}`):e.push(`C${__privateGet(this,Rs)[t]} ${__privateGet(this,Rs)[t+1]} ${__privateGet(this,Rs)[t+2]} ${__privateGet(this,Rs)[t+3]} ${__privateGet(this,Rs)[t+4]} ${__privateGet(this,Rs)[t+5]}`);return e.push("Z"),e.join(" ")}serialize([e,t,r,n],i){const a=r-e,s=n-t;let o,l;switch(i){case 0:o=Pg._rescale(__privateGet(this,Rs),e,n,a,-s),l=Pg._rescale(__privateGet(this,Gs),e,n,a,-s);break;case 90:o=Pg._rescaleAndSwap(__privateGet(this,Rs),e,t,a,s),l=Pg._rescaleAndSwap(__privateGet(this,Gs),e,t,a,s);break;case 180:o=Pg._rescale(__privateGet(this,Rs),r,t,-a,s),l=Pg._rescale(__privateGet(this,Gs),r,t,-a,s);break;case 270:o=Pg._rescaleAndSwap(__privateGet(this,Rs),r,n,-a,-s),l=Pg._rescaleAndSwap(__privateGet(this,Gs),r,n,-a,-s)}return{outline:Array.from(o),points:[Array.from(l)]}}get box(){return __privateGet(this,Ns)}newOutliner(e,t,r,n,i,a=0){return new Tg(e,t,r,n,i,a)}getNewOutline(e,t){const[r,n,i,a]=__privateGet(this,Ns),[s,o,l,c]=__privateGet(this,Cs),d=i*l,u=a*c,h=r*l+s,p=n*c+o,f=this.newOutliner({x:__privateGet(this,Gs)[0]*d+h,y:__privateGet(this,Gs)[1]*u+p},__privateGet(this,Cs),__privateGet(this,Ps),e,__privateGet(this,js),null!=t?t:__privateGet(this,Es));for(let m=2;m<__privateGet(this,Gs).length;m+=2)f.add({x:__privateGet(this,Gs)[m]*d+h,y:__privateGet(this,Gs)[m+1]*u+p});return f.getOutlines()}}Cs=new WeakMap,Ns=new WeakMap,Es=new WeakMap,js=new WeakMap,Gs=new WeakMap,Ps=new WeakMap,Rs=new WeakMap,Ts=new WeakSet,Ls=function(e){const t=__privateGet(this,Rs);let r=t[4],n=t[5];const i=[r,n,r,n];let a=r,s=n;const o=e?Math.max:Math.min;for(let c=6,d=t.length;c<d;c+=6){const e=t[c+4],l=t[c+5];if(isNaN(t[c]))Wf.pointBoundingBox(e,l,i),s<l?(a=e,s=l):s===l&&(a=o(a,e));else{const e=[1/0,1/0,-1/0,-1/0];Wf.bezierBoundingBox(r,n,...t.slice(c,c+6),e),Wf.rectBoundingBox(...e,i),s<e[3]?(a=e[2],s=e[3]):s===e[3]&&(a=o(a,e[2]))}r=e,n=l}const l=__privateGet(this,Ns);l[0]=i[0]-__privateGet(this,Es),l[1]=i[1]-__privateGet(this,Es),l[2]=i[2]-i[0]+2*__privateGet(this,Es),l[3]=i[3]-i[1]+2*__privateGet(this,Es),this.lastPoint=[a,s]};class Dg{constructor(e,t=0,r=0,n=!0){__privateAdd(this,zs),__privateAdd(this,Ds),__privateAdd(this,Is),__privateAdd(this,Fs,[]),__privateAdd(this,Os,[]);const i=[1/0,1/0,-1/0,-1/0],a=__pow(10,-4);for(const{x:h,y:p,width:f,height:m}of e){const e=Math.floor((h-t)/a)*a,r=Math.ceil((h+f+t)/a)*a,n=Math.floor((p-t)/a)*a,s=Math.ceil((p+m+t)/a)*a,o=[e,n,s,!0],l=[r,n,s,!1];__privateGet(this,Fs).push(o,l),Wf.rectBoundingBox(e,n,r,s,i)}const s=i[2]-i[0]+2*r,o=i[3]-i[1]+2*r,l=i[0]-r,c=i[1]-r,d=__privateGet(this,Fs).at(n?-1:-2),u=[d[0],d[2]];for(const h of __privateGet(this,Fs)){const[e,t,r]=h;h[0]=(e-l)/s,h[1]=(t-c)/o,h[2]=(r-c)/o}__privateSet(this,Ds,new Float32Array([l,c,s,o])),__privateSet(this,Is,u)}getOutlines(){__privateGet(this,Fs).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of __privateGet(this,Fs))t[3]?(e.push(...__privateMethod(this,zs,Hs).call(this,t)),__privateMethod(this,zs,Bs).call(this,t)):(__privateMethod(this,zs,Vs).call(this,t),e.push(...__privateMethod(this,zs,Hs).call(this,t)));return __privateMethod(this,zs,Ws).call(this,e)}}Ds=new WeakMap,Is=new WeakMap,Fs=new WeakMap,Os=new WeakMap,zs=new WeakSet,Ws=function(e){const t=[],r=new Set;for(const a of e){const[e,r,n]=a;t.push([e,r,a],[e,n,a])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let a=0,s=t.length;a<s;a+=2){const e=t[a][2],n=t[a+1][2];e.push(n),n.push(e),r.add(e),r.add(n)}const n=[];let i;for(;r.size>0;){const e=r.values().next().value;let[t,a,s,o,l]=e;r.delete(e);let c=t,d=a;for(i=[t,s],n.push(i);;){let e;if(r.has(o))e=o;else{if(!r.has(l))break;e=l}r.delete(e),[t,a,s,o,l]=e,c!==t&&(i.push(c,d,t,d===a?a:s),c=t),d=d===a?s:a}i.push(c,d)}return new Ig(n,__privateGet(this,Ds),__privateGet(this,Is))},$s=function(e){const t=__privateGet(this,Os);let r=0,n=t.length-1;for(;r<=n;){const i=r+n>>1,a=t[i][0];if(a===e)return i;a<e?r=i+1:n=i-1}return n+1},Bs=function([,e,t]){const r=__privateMethod(this,zs,$s).call(this,e);__privateGet(this,Os).splice(r,0,[e,t])},Vs=function([,e,t]){const r=__privateMethod(this,zs,$s).call(this,e);for(let n=r;n<__privateGet(this,Os).length;n++){const[r,i]=__privateGet(this,Os)[n];if(r!==e)break;if(r===e&&i===t)return void __privateGet(this,Os).splice(n,1)}for(let n=r-1;n>=0;n--){const[r,i]=__privateGet(this,Os)[n];if(r!==e)break;if(r===e&&i===t)return void __privateGet(this,Os).splice(n,1)}},Hs=function(e){const[t,r,n]=e,i=[[t,r,n]],a=__privateMethod(this,zs,$s).call(this,n);for(let s=0;s<a;s++){const[e,r]=__privateGet(this,Os)[s];for(let n=0,a=i.length;n<a;n++){const[,s,o]=i[n];if(!(r<=s||o<=e))if(s>=e)if(o>r)i[n][1]=r;else{if(1===a)return[];i.splice(n,1),n--,a--}else i[n][2]=e,o>r&&i.push([t,r,o])}}return i};class Ig extends Pg{constructor(e,t,r){super(),__privateAdd(this,Us),__privateAdd(this,qs),__privateSet(this,qs,e),__privateSet(this,Us,t),this.lastPoint=r}toSVGPath(){const e=[];for(const t of __privateGet(this,qs)){let[r,n]=t;e.push(`M${r} ${n}`);for(let i=2;i<t.length;i+=2){const a=t[i],s=t[i+1];a===r?(e.push(`V${s}`),n=s):s===n&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,t,r,n],i){const a=[],s=r-e,o=n-t;for(const l of __privateGet(this,qs)){const t=new Array(l.length);for(let r=0;r<l.length;r+=2)t[r]=e+l[r]*s,t[r+1]=n-l[r+1]*o;a.push(t)}return a}get box(){return __privateGet(this,Us)}get classNamesForOutlining(){return["highlightOutline"]}}Us=new WeakMap,qs=new WeakMap;class Fg extends Tg{newFreeDrawOutline(e,t,r,n,i,a){return new Og(e,t,r,n,i,a)}}class Og extends Lg{newOutliner(e,t,r,n,i,a=0){return new Fg(e,t,r,n,i,a)}}const zg=class e{constructor({editor:t=null,uiManager:r=null}){var n,i;__privateAdd(this,so),__privateAdd(this,Xs,null),__privateAdd(this,Ks,null),__privateAdd(this,Ys),__privateAdd(this,Qs,null),__privateAdd(this,Js,!1),__privateAdd(this,Zs,!1),__privateAdd(this,eo,null),__privateAdd(this,to),__privateAdd(this,ro,null),__privateAdd(this,no,null),__privateAdd(this,io),t?(__privateSet(this,Zs,!1),__privateSet(this,io,Jp.HIGHLIGHT_COLOR),__privateSet(this,eo,t)):(__privateSet(this,Zs,!0),__privateSet(this,io,Jp.HIGHLIGHT_DEFAULT_COLOR)),__privateSet(this,no,(null==t?void 0:t._uiManager)||r),__privateSet(this,to,__privateGet(this,no)._eventBus),__privateSet(this,Ys,(null==(n=null==t?void 0:t.color)?void 0:n.toUpperCase())||(null==(i=__privateGet(this,no))?void 0:i.highlightColors.values().next().value)||"#FFFF98"),__privateGet(e,ao)||__privateSet(e,ao,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ef(this,"_keyboardManager",new Am([[["Escape","mac+Escape"],e.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],e.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],e.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],e.prototype._moveToPrevious],[["Home","mac+Home"],e.prototype._moveToBeginning],[["End","mac+End"],e.prototype._moveToEnd]]))}renderButton(){const e=__privateSet(this,Xs,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",__privateGet(this,eo)&&(e.ariaControls=`${__privateGet(this,eo).id}_colorpicker_dropdown`);const t=__privateGet(this,no)._signal;e.addEventListener("click",__privateMethod(this,so,uo).bind(this),{signal:t}),e.addEventListener("keydown",__privateMethod(this,so,co).bind(this),{signal:t});const r=__privateSet(this,Ks,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=__privateGet(this,Ys),e.append(r),e}renderMainDropdown(){const e=__privateSet(this,Qs,__privateMethod(this,so,oo).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===__privateGet(this,Xs))return void __privateMethod(this,so,uo).call(this,e);const t=e.target.getAttribute("data-color");t&&__privateMethod(this,so,lo).call(this,t,e)}_moveToNext(e){var t,r;__privateGet(this,so,po)?e.target!==__privateGet(this,Xs)?null==(r=e.target.nextSibling)||r.focus():null==(t=__privateGet(this,Qs).firstChild)||t.focus():__privateMethod(this,so,uo).call(this,e)}_moveToPrevious(e){var t,r;e.target!==(null==(t=__privateGet(this,Qs))?void 0:t.firstChild)&&e.target!==__privateGet(this,Xs)?(__privateGet(this,so,po)||__privateMethod(this,so,uo).call(this,e),null==(r=e.target.previousSibling)||r.focus()):__privateGet(this,so,po)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;__privateGet(this,so,po)?null==(t=__privateGet(this,Qs).firstChild)||t.focus():__privateMethod(this,so,uo).call(this,e)}_moveToEnd(e){var t;__privateGet(this,so,po)?null==(t=__privateGet(this,Qs).lastChild)||t.focus():__privateMethod(this,so,uo).call(this,e)}hideDropdown(){var e,t;null==(e=__privateGet(this,Qs))||e.classList.add("hidden"),__privateGet(this,Xs).ariaExpanded="false",null==(t=__privateGet(this,ro))||t.abort(),__privateSet(this,ro,null)}_hideDropdownFromKeyboard(){var e;__privateGet(this,Zs)||(__privateGet(this,so,po)?(this.hideDropdown(),__privateGet(this,Xs).focus({preventScroll:!0,focusVisible:__privateGet(this,Js)})):null==(e=__privateGet(this,eo))||e.unselect())}updateColor(e){if(__privateGet(this,Ks)&&(__privateGet(this,Ks).style.backgroundColor=e),!__privateGet(this,Qs))return;const t=__privateGet(this,no).highlightColors.values();for(const r of __privateGet(this,Qs).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;null==(e=__privateGet(this,Xs))||e.remove(),__privateSet(this,Xs,null),__privateSet(this,Ks,null),null==(t=__privateGet(this,Qs))||t.remove(),__privateSet(this,Qs,null)}};Xs=new WeakMap,Ks=new WeakMap,Ys=new WeakMap,Qs=new WeakMap,Js=new WeakMap,Zs=new WeakMap,eo=new WeakMap,to=new WeakMap,ro=new WeakMap,no=new WeakMap,io=new WeakMap,ao=new WeakMap,so=new WeakSet,oo=function(){const e=document.createElement("div"),t=__privateGet(this,no)._signal;e.addEventListener("contextmenu",om,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),__privateGet(this,eo)&&(e.id=`${__privateGet(this,eo).id}_colorpicker_dropdown`);for(const[r,n]of __privateGet(this,no).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",n),i.title=r,i.setAttribute("data-l10n-id",__privateGet(zg,ao)[r]);const a=document.createElement("span");i.append(a),a.className="swatch",a.style.backgroundColor=n,i.ariaSelected=n===__privateGet(this,Ys),i.addEventListener("click",__privateMethod(this,so,lo).bind(this,n),{signal:t}),e.append(i)}return e.addEventListener("keydown",__privateMethod(this,so,co).bind(this),{signal:t}),e},lo=function(e,t){t.stopPropagation(),__privateGet(this,to).dispatch("switchannotationeditorparams",{source:this,type:__privateGet(this,io),value:e})},co=function(e){zg._keyboardManager.exec(this,e)},uo=function(e){if(__privateGet(this,so,po))return void this.hideDropdown();if(__privateSet(this,Js,0===e.detail),__privateGet(this,ro)||(__privateSet(this,ro,new AbortController),window.addEventListener("pointerdown",__privateMethod(this,so,ho).bind(this),{signal:__privateGet(this,no).combinedSignal(__privateGet(this,ro))})),__privateGet(this,Xs).ariaExpanded="true",__privateGet(this,Qs))return void __privateGet(this,Qs).classList.remove("hidden");const t=__privateSet(this,Qs,__privateMethod(this,so,oo).call(this));__privateGet(this,Xs).append(t)},ho=function(e){var t;(null==(t=__privateGet(this,Qs))?void 0:t.contains(e.target))||this.hideDropdown()},po=function(){return __privateGet(this,Qs)&&!__privateGet(this,Qs).classList.contains("hidden")},__privateAdd(zg,ao,null);let Wg=zg;const $g=class e extends Lm{constructor(t){super(__spreadProps(__spreadValues({},t),{name:"highlightEditor"})),__privateAdd(this,Po),__privateAdd(this,fo,null),__privateAdd(this,mo,0),__privateAdd(this,_o),__privateAdd(this,vo,null),__privateAdd(this,go,null),__privateAdd(this,yo,null),__privateAdd(this,bo,null),__privateAdd(this,xo,0),__privateAdd(this,wo,null),__privateAdd(this,ko,null),__privateAdd(this,So,null),__privateAdd(this,Ao,!1),__privateAdd(this,Mo,null),__privateAdd(this,Co),__privateAdd(this,No,null),__privateAdd(this,Eo,""),__privateAdd(this,jo),__privateAdd(this,Go,""),this.color=t.color||e._defaultColor,__privateSet(this,jo,t.thickness||e._defaultThickness),__privateSet(this,Co,t.opacity||e._defaultOpacity),__privateSet(this,_o,t.boxes||null),__privateSet(this,Go,t.methodOfCreation||""),__privateSet(this,Eo,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(__privateSet(this,Ao,!0),__privateMethod(this,Po,To).call(this,t),__privateMethod(this,Po,Oo).call(this)):__privateGet(this,_o)&&(__privateSet(this,fo,t.anchorNode),__privateSet(this,mo,t.anchorOffset),__privateSet(this,bo,t.focusNode),__privateSet(this,xo,t.focusOffset),__privateMethod(this,Po,Ro).call(this),__privateMethod(this,Po,Oo).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=e.prototype;return Ef(this,"_keyboardManager",new Am([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:__privateGet(this,Ao)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:__privateGet(this,jo),methodOfCreation:__privateGet(this,Go)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(t,r){var n;Lm.initialize(t,r),e._defaultColor||(e._defaultColor=(null==(n=r.highlightColors)?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Jp.HIGHLIGHT_DEFAULT_COLOR:e._defaultColor=r;break;case Jp.HIGHLIGHT_THICKNESS:e._defaultThickness=r}}translateInPage(e,t){}get toolbarPosition(){return __privateGet(this,Mo)}updateParams(e,t){switch(e){case Jp.HIGHLIGHT_COLOR:__privateMethod(this,Po,Lo).call(this,t);break;case Jp.HIGHLIGHT_THICKNESS:__privateMethod(this,Po,Do).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Jp.HIGHLIGHT_DEFAULT_COLOR,e._defaultColor],[Jp.HIGHLIGHT_THICKNESS,e._defaultThickness]]}get propertiesToUpdate(){return[[Jp.HIGHLIGHT_COLOR,this.color||e._defaultColor],[Jp.HIGHLIGHT_THICKNESS,__privateGet(this,jo)||e._defaultThickness],[Jp.HIGHLIGHT_FREE,__privateGet(this,Ao)]]}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",__privateSet(this,go,new Wg({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(__privateMethod(this,Po,Vo).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,__privateMethod(this,Po,Vo).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){__privateMethod(this,Po,Fo).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(__privateMethod(this,Po,Oo).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var t;let r=!1;this.parent&&!e?__privateMethod(this,Po,Fo).call(this):e&&(__privateMethod(this,Po,Oo).call(this,e),r=!this.parent&&(null==(t=this.div)?void 0:t.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),r&&this.select()}rotate(t){var r,n,i;const{drawLayer:a}=this.parent;let s;__privateGet(this,Ao)?(t=(t-this.rotation+360)%360,s=__privateMethod(r=e,zo,Wo).call(r,__privateGet(this,ko).box,t)):s=__privateMethod(n=e,zo,Wo).call(n,[this.x,this.y,this.width,this.height],t),a.updateProperties(__privateGet(this,So),{bbox:s,root:{"data-main-rotation":t}}),a.updateProperties(__privateGet(this,No),{bbox:__privateMethod(i=e,zo,Wo).call(i,__privateGet(this,yo).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const e=super.render();__privateGet(this,Eo)&&(e.setAttribute("aria-label",__privateGet(this,Eo)),e.setAttribute("role","mark")),__privateGet(this,Ao)?e.classList.add("free"):this.div.addEventListener("keydown",__privateMethod(this,Po,$o).bind(this),{signal:this._uiManager._signal});const t=__privateSet(this,wo,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=__privateGet(this,vo);const[r,n]=this.parentDimensions;return this.setDims(this.width*r,this.height*n),bm(this,__privateGet(this,wo),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||null==(e=this.parent)||e.drawLayer.updateProperties(__privateGet(this,No),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||null==(e=this.parent)||e.drawLayer.updateProperties(__privateGet(this,No),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:__privateMethod(this,Po,Bo).call(this,!0);break;case 1:case 3:__privateMethod(this,Po,Bo).call(this,!1)}}select(){var e;super.select(),__privateGet(this,No)&&(null==(e=this.parent)||e.drawLayer.updateProperties(__privateGet(this,No),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),__privateGet(this,No)&&(null==(e=this.parent)||e.drawLayer.updateProperties(__privateGet(this,No),{rootClass:{selected:!1}}),__privateGet(this,Ao)||__privateMethod(this,Po,Bo).call(this,!1))}get _mustFixPosition(){return!__privateGet(this,Ao)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(__privateGet(this,So),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(__privateGet(this,No),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,{target:r,x:n,y:i}){const{x:a,y:s,width:o,height:l}=r.getBoundingClientRect(),c=new AbortController,d=e.combinedSignal(c),u=t=>{c.abort(),__privateMethod(this,zo,Xo).call(this,e,t)};window.addEventListener("blur",u,{signal:d}),window.addEventListener("pointerup",u,{signal:d}),window.addEventListener("pointerdown",lm,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",om,{signal:d}),r.addEventListener("pointermove",__privateMethod(this,zo,qo).bind(this,e),{signal:d}),this._freeHighlight=new Fg({x:n,y:i},[a,s,o,l],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static deserialize(t,r,n){return __async(this,null,function*(){var i,a,s,o;let l=null;if(t instanceof wg){const{data:{quadPoints:e,rect:r,rotation:n,id:i,color:a,opacity:s,popupRef:o},parent:{page:{pageNumber:c}}}=t;l=t={annotationType:Qp.HIGHLIGHT,color:Array.from(a),opacity:s,quadPoints:e,boxes:null,pageIndex:c-1,rect:r.slice(0),rotation:n,annotationElementId:i,id:i,deleted:!1,popupRef:o}}else if(t instanceof xg){const{data:{inkLists:e,rect:r,rotation:n,id:i,color:a,borderStyle:{rawWidth:s},popupRef:o},parent:{page:{pageNumber:c}}}=t;l=t={annotationType:Qp.HIGHLIGHT,color:Array.from(a),thickness:s,inkLists:e,boxes:null,pageIndex:c-1,rect:r.slice(0),rotation:n,annotationElementId:i,id:i,deleted:!1,popupRef:o}}const{color:c,quadPoints:d,inkLists:u,opacity:h}=t,p=yield __superGet(e,this,"deserialize").call(this,t,r,n);p.color=Wf.makeHexColor(...c),__privateSet(p,Co,h||1),u&&__privateSet(p,jo,t.thickness),p._initialData=l;const[f,m]=p.pageDimensions,[_,v]=p.pageTranslation;if(d){const e=__privateSet(p,_o,[]);for(let t=0;t<d.length;t+=8)e.push({x:(d[t]-_)/f,y:1-(d[t+1]-v)/m,width:(d[t+2]-d[t])/f,height:(d[t+1]-d[t+5])/m});__privateMethod(i=p,Po,Ro).call(i),__privateMethod(a=p,Po,Oo).call(a),p.rotate(p.rotation)}else if(u){__privateSet(p,Ao,!0);const e=u[0],t={x:e[0]-_,y:m-(e[1]-v)},n=new Fg(t,[0,0,f,m],1,__privateGet(p,jo)/2,!0,.001);for(let r=0,s=e.length;r<s;r+=2)t.x=e[r]-_,t.y=m-(e[r+1]-v),n.add(t);const{id:i,clipPathId:a}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:p.color,"fill-opacity":p._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:n.toSVGPath()}},!0,!0);__privateMethod(s=p,Po,To).call(s,{highlightOutlines:n.getOutlines(),highlightId:i,clipPathId:a}),__privateMethod(o=p,Po,Oo).call(o),p.rotate(p.parentRotation)}return p})}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),r=Lm._colorManager.convert(this.color),n={annotationType:Qp.HIGHLIGHT,color:r,opacity:__privateGet(this,Co),thickness:__privateGet(this,jo),quadPoints:__privateMethod(this,Po,Ho).call(this),outlines:__privateMethod(this,Po,Uo).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:__privateMethod(this,Po,Vo).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!__privateMethod(this,Po,Ko).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};fo=new WeakMap,mo=new WeakMap,_o=new WeakMap,vo=new WeakMap,go=new WeakMap,yo=new WeakMap,bo=new WeakMap,xo=new WeakMap,wo=new WeakMap,ko=new WeakMap,So=new WeakMap,Ao=new WeakMap,Mo=new WeakMap,Co=new WeakMap,No=new WeakMap,Eo=new WeakMap,jo=new WeakMap,Go=new WeakMap,Po=new WeakSet,Ro=function(){const e=new Dg(__privateGet(this,_o),.001);__privateSet(this,ko,e.getOutlines()),[this.x,this.y,this.width,this.height]=__privateGet(this,ko).box;const t=new Dg(__privateGet(this,_o),.0025,.001,"ltr"===this._uiManager.direction);__privateSet(this,yo,t.getOutlines());const{lastPoint:r}=__privateGet(this,yo);__privateSet(this,Mo,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])},To=function({highlightOutlines:e,highlightId:t,clipPathId:r}){var n,i;__privateSet(this,ko,e);if(__privateSet(this,yo,e.getNewOutline(__privateGet(this,jo)/2+1.5,.0025)),t>=0)__privateSet(this,So,t),__privateSet(this,vo,r),this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),__privateSet(this,No,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:__privateGet(this,yo).box,path:{d:__privateGet(this,yo).toSVGPath()}},!0));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(__privateGet(this,So),{bbox:__privateMethod(n=$g,zo,Wo).call(n,__privateGet(this,ko).box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(__privateGet(this,No),{bbox:__privateMethod(i=$g,zo,Wo).call(i,__privateGet(this,yo).box,t),path:{d:__privateGet(this,yo).toSVGPath()}})}const[a,s,o,l]=e.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=o,this.height=l;break;case 90:{const[e,t]=this.parentDimensions;this.x=s,this.y=1-a,this.width=o*t/e,this.height=l*e/t;break}case 180:this.x=1-a,this.y=1-s,this.width=o,this.height=l;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-s,this.y=a,this.width=o*t/e,this.height=l*e/t;break}}const{lastPoint:c}=__privateGet(this,yo);__privateSet(this,Mo,[(c[0]-a)/o,(c[1]-s)/l])},Lo=function(e){const t=(e,t)=>{var r,n;this.color=e,__privateSet(this,Co,t),null==(r=this.parent)||r.drawLayer.updateProperties(__privateGet(this,So),{root:{fill:e,"fill-opacity":t}}),null==(n=__privateGet(this,go))||n.updateColor(e)},r=this.color,n=__privateGet(this,Co);this.addCommands({cmd:t.bind(this,e,$g._defaultOpacity),undo:t.bind(this,r,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jp.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Do=function(e){const t=__privateGet(this,jo),r=e=>{__privateSet(this,jo,e),__privateMethod(this,Po,Io).call(this,e)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Jp.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Io=function(e){if(!__privateGet(this,Ao))return;__privateMethod(this,Po,To).call(this,{highlightOutlines:__privateGet(this,ko).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,r]=this.parentDimensions;this.setDims(this.width*t,this.height*r)},Fo=function(){null!==__privateGet(this,So)&&this.parent&&(this.parent.drawLayer.remove(__privateGet(this,So)),__privateSet(this,So,null),this.parent.drawLayer.remove(__privateGet(this,No)),__privateSet(this,No,null))},Oo=function(e=this.parent){null===__privateGet(this,So)&&(({id:__privateWrapper(this,So)._,clipPathId:__privateWrapper(this,vo)._}=e.drawLayer.draw({bbox:__privateGet(this,ko).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":__privateGet(this,Co)},rootClass:{highlight:!0,free:__privateGet(this,Ao)},path:{d:__privateGet(this,ko).toSVGPath()}},!1,!0)),__privateSet(this,No,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:__privateGet(this,Ao)},bbox:__privateGet(this,yo).box,path:{d:__privateGet(this,yo).toSVGPath()}},__privateGet(this,Ao))),__privateGet(this,wo)&&(__privateGet(this,wo).style.clipPath=__privateGet(this,vo)))},zo=new WeakSet,Wo=function([e,t,r,n],i){switch(i){case 90:return[1-t-n,e,n,r];case 180:return[1-e-r,1-t-n,r,n];case 270:return[t,1-e-r,n,r]}return[e,t,r,n]},$o=function(e){$g._keyboardManager.exec(this,e)},Bo=function(e){if(!__privateGet(this,fo))return;const t=window.getSelection();e?t.setPosition(__privateGet(this,fo),__privateGet(this,mo)):t.setPosition(__privateGet(this,bo),__privateGet(this,xo))},Vo=function(){return __privateGet(this,Ao)?this.rotation:0},Ho=function(){if(__privateGet(this,Ao))return null;const[e,t]=this.pageDimensions,[r,n]=this.pageTranslation,i=__privateGet(this,_o),a=new Float32Array(8*i.length);let s=0;for(const{x:o,y:l,width:c,height:d}of i){const i=o*e+r,u=(1-l)*t+n;a[s]=a[s+4]=i,a[s+1]=a[s+3]=u,a[s+2]=a[s+6]=i+c*e,a[s+5]=a[s+7]=u-d*t,s+=8}return a},Uo=function(e){return __privateGet(this,ko).serialize(e,__privateMethod(this,Po,Vo).call(this))},qo=function(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Xo=function(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Ko=function(e){const{color:t}=this._initialData;return e.color.some((e,r)=>e!==t[r])},__privateAdd($g,zo),__publicField($g,"_defaultColor",null),__publicField($g,"_defaultOpacity",1),__publicField($g,"_defaultThickness",12),__publicField($g,"_type","highlight"),__publicField($g,"_editorType",Qp.HIGHLIGHT),__publicField($g,"_freeHighlightId",-1),__publicField($g,"_freeHighlight",null),__publicField($g,"_freeHighlightClipId","");let Bg=$g;class Vg{constructor(){__privateAdd(this,Yo,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){__privateGet(this,Yo)[e]=t}toSVGProperties(){const e=__privateGet(this,Yo);return __privateSet(this,Yo,Object.create(null)),{root:e}}reset(){__privateSet(this,Yo,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Af("Not implemented")}}Yo=new WeakMap;const Hg=class e extends Lm{constructor(e){super(e),__privateAdd(this,sl),__privateAdd(this,Qo,null),__privateAdd(this,Jo),__publicField(this,"_drawId",null),__privateSet(this,Jo,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(__privateMethod(this,sl,ol).call(this,e),__privateMethod(this,sl,dl).call(this))}static _mergeSVGProperties(e,t){const r=new Set(Object.keys(e));for(const[n,i]of Object.entries(t))r.has(n)?Object.assign(e[n],i):e[n]=i;return e}static getDefaultDrawingOptions(e){Af("Not implemented")}static get typesMap(){Af("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,r),this._currentParent&&(__privateGet(e,Zo).updateProperty(n,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[r,n]of this.typesMap)e.push([r,t[n]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[r,n]of this.constructor.typesMap)e.push([r,t[n]]);return e}_updateProperty(e,t,r){const n=this._drawingOptions,i=n[t],a=e=>{var r;n.updateProperty(t,e);const i=__privateGet(this,Qo).updateProperty(t,e);i&&__privateMethod(this,sl,pl).call(this,i),null==(r=this.parent)||r.drawLayer.updateProperties(this._drawId,n.toSVGProperties())};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;null==(t=this.parent)||t.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties(__privateGet(this,Qo).getPathResizingSVGProperties(__privateMethod(this,sl,hl).call(this)),{bbox:__privateMethod(this,sl,fl).call(this)}))}_onResized(){var t;null==(t=this.parent)||t.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties(__privateGet(this,Qo).getPathResizedSVGProperties(__privateMethod(this,sl,hl).call(this)),{bbox:__privateMethod(this,sl,fl).call(this)}))}_onTranslating(e,t){var r;null==(r=this.parent)||r.drawLayer.updateProperties(this._drawId,{bbox:__privateMethod(this,sl,fl).call(this)})}_onTranslated(){var t;null==(t=this.parent)||t.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties(__privateGet(this,Qo).getPathTranslatedSVGProperties(__privateMethod(this,sl,hl).call(this),this.parentDimensions),{bbox:__privateMethod(this,sl,fl).call(this)}))}_onStartDragging(){var e;null==(e=this.parent)||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null==(e=this.parent)||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,__privateGet(this,Jo)&&(__privateSet(this,Jo,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){__privateMethod(this,sl,cl).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(__privateMethod(this,sl,dl).call(this),__privateMethod(this,sl,pl).call(this,__privateGet(this,Qo).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var t;let r=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),__privateMethod(this,sl,cl).call(this)):e&&(this._uiManager.addShouldRescale(this),__privateMethod(this,sl,dl).call(this,e),r=!this.parent&&(null==(t=this.div)?void 0:t.classList.contains("selectedEditor"))),super.setParent(e),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties({bbox:__privateMethod(this,sl,fl).call(this)},__privateGet(this,Qo).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&__privateMethod(this,sl,pl).call(this,__privateGet(this,Qo).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const r=super.render();r.classList.add("draw");const n=document.createElement("div");r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[i,a]=this.parentDimensions;return this.setDims(this.width*i,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),r}static createDrawerInstance(e,t,r,n,i){Af("Not implemented")}static startDrawing(t,r,n,i){var a;const{target:s,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=i;if(__privateGet(e,nl)&&__privateGet(e,nl)!==d)return;const{viewport:{rotation:u}}=t,{width:h,height:p}=s.getBoundingClientRect(),f=__privateSet(e,el,new AbortController),m=t.combinedSignal(f);__privateGet(e,rl)||__privateSet(e,rl,c),null!=__privateGet(e,nl)||__privateSet(e,nl,d),window.addEventListener("pointerup",t=>{var r;__privateGet(e,rl)===t.pointerId?this._endDraw(t):null==(r=__privateGet(e,il))||r.delete(t.pointerId)},{signal:m}),window.addEventListener("pointercancel",t=>{var r;__privateGet(e,rl)===t.pointerId?this._currentParent.endDrawingSession():null==(r=__privateGet(e,il))||r.delete(t.pointerId)},{signal:m}),window.addEventListener("pointerdown",t=>{__privateGet(e,nl)===t.pointerType&&((__privateGet(e,il)||__privateSet(e,il,new Set)).add(t.pointerId),__privateGet(e,Zo).isCancellable()&&(__privateGet(e,Zo).removeLastElement(),__privateGet(e,Zo).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",om,{signal:m}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),s.addEventListener("touchmove",t=>{t.timeStamp===__privateGet(e,al)&&lm(t)},{signal:m}),t.toggleDrawing(),null==(a=r._editorUndoBar)||a.hide(),__privateGet(e,Zo)?t.drawLayer.updateProperties(this._currentDrawId,__privateGet(e,Zo).startNew(o,l,h,p,u)):(r.updateUIForDefaultProperties(this),__privateSet(e,Zo,this.createDrawerInstance(o,l,h,p,u)),__privateSet(e,tl,this.getDefaultDrawingOptions()),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(__privateGet(e,tl).toSVGProperties(),__privateGet(e,Zo).defaultSVGProperties),!0,!1)))}static _drawMove(t){var r;if(__privateSet(e,al,-1),!__privateGet(e,Zo))return;const{offsetX:n,offsetY:i,pointerId:a}=t;__privateGet(e,rl)===a&&((null==(r=__privateGet(e,il))?void 0:r.size)>=1?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,__privateGet(e,Zo).add(n,i)),__privateSet(e,al,t.timeStamp),lm(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,__privateSet(e,Zo,null),__privateSet(e,tl,null),__privateSet(e,nl,null),__privateSet(e,al,NaN)),__privateGet(e,el)&&(__privateGet(e,el).abort(),__privateSet(e,el,null),__privateSet(e,rl,NaN),__privateSet(e,il,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(null==t?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,__privateGet(e,Zo).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=__privateGet(e,Zo),n=this._currentDrawId,i=t.getLastElement();return void r.addCommands({cmd:()=>{r.drawLayer.updateProperties(n,t.setLastElement(i))},undo:()=>{r.drawLayer.updateProperties(n,t.removeLastElement())},mustExec:!1,type:Jp.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Jp.DRAW_STEP),!__privateGet(e,Zo).isEmpty()){const{pageDimensions:[n,i],scale:a}=r,s=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:__privateGet(e,Zo).getOutlines(n*a,i*a,a,this._INNER_MARGIN),drawingOptions:__privateGet(e,tl),mustBeCommitted:!t});return this._cleanup(!0),s}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,r,n,i,a){Af("Not implemented")}static deserialize(t,r,n){return __async(this,null,function*(){var i,a;const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}=r.viewport,d=this.deserializeDraw(l,c,s,o,this._INNER_MARGIN,t),u=yield __superGet(e,this,"deserialize").call(this,t,r,n);return u.createDrawingOptions(t),__privateMethod(i=u,sl,ol).call(i,{drawOutlines:d}),__privateMethod(a=u,sl,dl).call(a),u.onScaleChanging(),u.rotate(),u})}serializeDraw(e){const[t,r]=this.pageTranslation,[n,i]=this.pageDimensions;return __privateGet(this,Qo).serialize([t,r,n,i],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Qo=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,el=new WeakMap,tl=new WeakMap,rl=new WeakMap,nl=new WeakMap,il=new WeakMap,al=new WeakMap,sl=new WeakSet,ol=function({drawOutlines:e,drawId:t,drawingOptions:r}){__privateSet(this,Qo,e),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=__privateMethod(this,sl,ll).call(this,e,this.parent),__privateMethod(this,sl,pl).call(this,e.box)},ll=function(e,t){const{id:r}=t.drawLayer.draw(Hg._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r},cl=function(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},dl=function(e=this.parent){null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=__privateMethod(this,sl,ll).call(this,__privateGet(this,Qo),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))},ul=function([e,t,r,n]){const{parentDimensions:[i,a],rotation:s}=this;switch(s){case 90:return[t,1-e,r*(a/i),n*(i/a)];case 180:return[1-e,1-t,r,n];case 270:return[1-t,e,r*(a/i),n*(i/a)];default:return[e,t,r,n]}},hl=function(){const{x:e,y:t,width:r,height:n,parentDimensions:[i,a],rotation:s}=this;switch(s){case 90:return[1-t,e,r*(i/a),n*(a/i)];case 180:return[1-e,1-t,r,n];case 270:return[t,1-e,r*(i/a),n*(a/i)];default:return[e,t,r,n]}},pl=function(e){if([this.x,this.y,this.width,this.height]=__privateMethod(this,sl,ul).call(this,e),this.div){this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)}this._onResized()},fl=function(){const{x:e,y:t,width:r,height:n,rotation:i,parentRotation:a,parentDimensions:[s,o]}=this;switch((4*i+a)/90){case 1:return[1-t-n,e,n,r];case 2:return[1-e-r,1-t-n,r,n];case 3:return[t,1-e-r,n,r];case 4:return[e,t-r*(s/o),n*(o/s),r*(s/o)];case 5:return[1-t,e,r*(s/o),n*(o/s)];case 6:return[1-e-n*(o/s),1-t,n*(o/s),r*(s/o)];case 7:return[t-r*(s/o),1-e-n*(o/s),r*(s/o),n*(o/s)];case 8:return[e-r,t-n,r,n];case 9:return[1-t,e-r,n,r];case 10:return[1-e,1-t,r,n];case 11:return[t-n,1-e,n,r];case 12:return[e-n*(o/s),t,n*(o/s),r*(s/o)];case 13:return[1-t-r*(s/o),e-n*(o/s),r*(s/o),n*(o/s)];case 14:return[1-e,1-t-r*(s/o),n*(o/s),r*(s/o)];case 15:return[t,1-e,r*(s/o),n*(o/s)];default:return[e,t,r,n]}},__publicField(Hg,"_currentDrawId",-1),__publicField(Hg,"_currentParent",null),__privateAdd(Hg,Zo,null),__privateAdd(Hg,el,null),__privateAdd(Hg,tl,null),__privateAdd(Hg,rl,NaN),__privateAdd(Hg,nl,null),__privateAdd(Hg,il,null),__privateAdd(Hg,al,NaN),__publicField(Hg,"_INNER_MARGIN",3);let Ug=Hg;class qg{constructor(e,t,r,n,i,a){__privateAdd(this,Ml),__privateAdd(this,ml,new Float64Array(6)),__privateAdd(this,_l),__privateAdd(this,vl),__privateAdd(this,gl),__privateAdd(this,yl),__privateAdd(this,bl),__privateAdd(this,xl,""),__privateAdd(this,wl,0),__privateAdd(this,kl,new Xg),__privateAdd(this,Sl),__privateAdd(this,Al),__privateSet(this,Sl,r),__privateSet(this,Al,n),__privateSet(this,gl,i),__privateSet(this,yl,a),[e,t]=__privateMethod(this,Ml,Cl).call(this,e,t);const s=__privateSet(this,_l,[NaN,NaN,NaN,NaN,e,t]);__privateSet(this,bl,[e,t]),__privateSet(this,vl,[{line:s,points:__privateGet(this,bl)}]),__privateGet(this,ml).set(s,0)}updateProperty(e,t){"stroke-width"===e&&__privateSet(this,yl,t)}isEmpty(){return!__privateGet(this,vl)||0===__privateGet(this,vl).length}isCancellable(){return __privateGet(this,bl).length<=10}add(e,t){[e,t]=__privateMethod(this,Ml,Cl).call(this,e,t);const[r,n,i,a]=__privateGet(this,ml).subarray(2,6),s=e-i,o=t-a;return Math.hypot(__privateGet(this,Sl)*s,__privateGet(this,Al)*o)<=2?null:(__privateGet(this,bl).push(e,t),isNaN(r)?(__privateGet(this,ml).set([i,a,e,t],2),__privateGet(this,_l).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(__privateGet(this,ml)[0])&&__privateGet(this,_l).splice(6,6),__privateGet(this,ml).set([r,n,i,a,e,t],0),__privateGet(this,_l).push(...Pg.createBezierPoints(r,n,i,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(2===__privateGet(this,bl).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,n,i){__privateSet(this,Sl,r),__privateSet(this,Al,n),__privateSet(this,gl,i),[e,t]=__privateMethod(this,Ml,Cl).call(this,e,t);const a=__privateSet(this,_l,[NaN,NaN,NaN,NaN,e,t]);__privateSet(this,bl,[e,t]);const s=__privateGet(this,vl).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),__privateGet(this,vl).push({line:a,points:__privateGet(this,bl)}),__privateGet(this,ml).set(a,0),__privateSet(this,wl,0),this.toSVGPath(),null}getLastElement(){return __privateGet(this,vl).at(-1)}setLastElement(e){return __privateGet(this,vl)?(__privateGet(this,vl).push(e),__privateSet(this,_l,e.line),__privateSet(this,bl,e.points),__privateSet(this,wl,0),{path:{d:this.toSVGPath()}}):__privateGet(this,kl).setLastElement(e)}removeLastElement(){if(!__privateGet(this,vl))return __privateGet(this,kl).removeLastElement();__privateGet(this,vl).pop(),__privateSet(this,xl,"");for(let e=0,t=__privateGet(this,vl).length;e<t;e++){const{line:t,points:r}=__privateGet(this,vl)[e];__privateSet(this,_l,t),__privateSet(this,bl,r),__privateSet(this,wl,0),this.toSVGPath()}return{path:{d:__privateGet(this,xl)}}}toSVGPath(){const e=Pg.svgRound(__privateGet(this,_l)[4]),t=Pg.svgRound(__privateGet(this,_l)[5]);if(2===__privateGet(this,bl).length)return __privateSet(this,xl,`${__privateGet(this,xl)} M ${e} ${t} Z`),__privateGet(this,xl);if(__privateGet(this,bl).length<=6){const r=__privateGet(this,xl).lastIndexOf("M");__privateSet(this,xl,`${__privateGet(this,xl).slice(0,r)} M ${e} ${t}`),__privateSet(this,wl,6)}if(4===__privateGet(this,bl).length){const e=Pg.svgRound(__privateGet(this,_l)[10]),t=Pg.svgRound(__privateGet(this,_l)[11]);return __privateSet(this,xl,`${__privateGet(this,xl)} L ${e} ${t}`),__privateSet(this,wl,12),__privateGet(this,xl)}const r=[];0===__privateGet(this,wl)&&(r.push(`M ${e} ${t}`),__privateSet(this,wl,6));for(let n=__privateGet(this,wl),i=__privateGet(this,_l).length;n<i;n+=6){const[e,t,i,a,s,o]=__privateGet(this,_l).slice(n,n+6).map(Pg.svgRound);r.push(`C${e} ${t} ${i} ${a} ${s} ${o}`)}return __privateSet(this,xl,__privateGet(this,xl)+r.join(" ")),__privateSet(this,wl,__privateGet(this,_l).length),__privateGet(this,xl)}getOutlines(e,t,r,n){const i=__privateGet(this,vl).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),__privateGet(this,kl).build(__privateGet(this,vl),e,t,r,__privateGet(this,gl),__privateGet(this,yl),n),__privateSet(this,ml,null),__privateSet(this,_l,null),__privateSet(this,vl,null),__privateSet(this,xl,null),__privateGet(this,kl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ml=new WeakMap,_l=new WeakMap,vl=new WeakMap,gl=new WeakMap,yl=new WeakMap,bl=new WeakMap,xl=new WeakMap,wl=new WeakMap,kl=new WeakMap,Sl=new WeakMap,Al=new WeakMap,Ml=new WeakSet,Cl=function(e,t){return Pg._normalizePoint(e,t,__privateGet(this,Sl),__privateGet(this,Al),__privateGet(this,gl))};class Xg extends Pg{constructor(){super(...arguments),__privateAdd(this,Il),__privateAdd(this,Nl),__privateAdd(this,El,0),__privateAdd(this,jl),__privateAdd(this,Gl),__privateAdd(this,Pl),__privateAdd(this,Rl),__privateAdd(this,Tl),__privateAdd(this,Ll),__privateAdd(this,Dl)}build(e,t,r,n,i,a,s){__privateSet(this,Pl,t),__privateSet(this,Rl,r),__privateSet(this,Tl,n),__privateSet(this,Ll,i),__privateSet(this,Dl,a),__privateSet(this,jl,null!=s?s:0),__privateSet(this,Gl,e),__privateMethod(this,Il,zl).call(this)}get thickness(){return __privateGet(this,Dl)}setLastElement(e){return __privateGet(this,Gl).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return __privateGet(this,Gl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of __privateGet(this,Gl))if(e.push(`M${Pg.svgRound(t[4])} ${Pg.svgRound(t[5])}`),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push(`L${Pg.svgRound(t[10])} ${Pg.svgRound(t[11])}`);else for(let r=6,n=t.length;r<n;r+=6){const[n,i,a,s,o,l]=t.subarray(r,r+6).map(Pg.svgRound);e.push(`C${n} ${i} ${a} ${s} ${o} ${l}`)}else e.push("Z");return e.join("")}serialize([e,t,r,n],i){const a=[],s=[],[o,l,c,d]=__privateMethod(this,Il,Ol).call(this);let u,h,p,f,m,_,v,g,y;switch(__privateGet(this,Ll)){case 0:y=Pg._rescale,u=e,h=t+n,p=r,f=-n,m=e+o*r,_=t+(1-l-d)*n,v=e+(o+c)*r,g=t+(1-l)*n;break;case 90:y=Pg._rescaleAndSwap,u=e,h=t,p=r,f=n,m=e+l*r,_=t+o*n,v=e+(l+d)*r,g=t+(o+c)*n;break;case 180:y=Pg._rescale,u=e+r,h=t,p=-r,f=n,m=e+(1-o-c)*r,_=t+l*n,v=e+(1-o)*r,g=t+(l+d)*n;break;case 270:y=Pg._rescaleAndSwap,u=e+r,h=t+n,p=-r,f=-n,m=e+(1-l-d)*r,_=t+(1-o-c)*n,v=e+(1-l)*r,g=t+(1-o)*n}for(const{line:b,points:x}of __privateGet(this,Gl))a.push(y(b,u,h,p,f,i?new Array(b.length):null)),s.push(y(x,u,h,p,f,i?new Array(x.length):null));return{lines:a,points:s,rect:[m,_,v,g]}}static deserialize(e,t,r,n,i,{paths:{lines:a,points:s},rotation:o,thickness:l}){const c=[];let d,u,h,p,f;switch(o){case 0:f=Pg._rescale,d=-e/r,u=t/n+1,h=1/r,p=-1/n;break;case 90:f=Pg._rescaleAndSwap,d=-t/n,u=-e/r,h=1/n,p=1/r;break;case 180:f=Pg._rescale,d=e/r+1,u=-t/n,h=-1/r,p=1/n;break;case 270:f=Pg._rescaleAndSwap,d=t/n+1,u=e/r+1,h=-1/n,p=-1/r}if(!a){a=[];for(const e of s){const t=e.length;if(2===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const r=new Float32Array(3*(t-2));a.push(r);let[n,i,s,o]=e.subarray(0,4);r.set([NaN,NaN,NaN,NaN,n,i],0);for(let a=4;a<t;a+=2){const t=e[a],l=e[a+1];r.set(Pg.createBezierPoints(n,i,s,o,t,l),3*(a-2)),[n,i,s,o]=[s,o,t,l]}}}for(let _=0,v=a.length;_<v;_++)c.push({line:f(a[_].map(e=>null!=e?e:NaN),d,u,h,p),points:f(s[_].map(e=>null!=e?e:NaN),d,u,h,p)});const m=new this.prototype.constructor;return m.build(c,r,n,1,o,l,i),m}get box(){return __privateGet(this,Nl)}updateProperty(e,t){return"stroke-width"===e?__privateMethod(this,Il,Wl).call(this,t):null}updateParentDimensions([e,t],r){const[n,i]=__privateMethod(this,Il,Fl).call(this);__privateSet(this,Pl,e),__privateSet(this,Rl,t),__privateSet(this,Tl,r);const[a,s]=__privateMethod(this,Il,Fl).call(this),o=a-n,l=s-i,c=__privateGet(this,Nl);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c}updateRotation(e){return __privateSet(this,El,e),{path:{transform:this.rotationTransform}}}get viewBox(){return __privateGet(this,Nl).map(Pg.svgRound).join(" ")}get defaultProperties(){const[e,t]=__privateGet(this,Nl);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pg.svgRound(e)} ${Pg.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=__privateGet(this,Nl);let r=0,n=0,i=0,a=0,s=0,o=0;switch(__privateGet(this,El)){case 90:n=t/e,i=-e/t,s=e;break;case 180:r=-1,a=-1,s=e,o=t;break;case 270:n=-t/e,i=e/t,o=t;break;default:return""}return`matrix(${r} ${n} ${i} ${a} ${Pg.svgRound(s)} ${Pg.svgRound(o)})`}getPathResizingSVGProperties([e,t,r,n]){const[i,a]=__privateMethod(this,Il,Fl).call(this),[s,o,l,c]=__privateGet(this,Nl);if(Math.abs(l-i)<=Pg.PRECISION||Math.abs(c-a)<=Pg.PRECISION){const i=e+r/2-(s+l/2),a=t+n/2-(o+c/2);return{path:{"transform-origin":`${Pg.svgRound(e)} ${Pg.svgRound(t)}`,transform:`${this.rotationTransform} translate(${i} ${a})`}}}const d=(r-2*i)/(l-2*i),u=(n-2*a)/(c-2*a),h=l/r,p=c/n;return{path:{"transform-origin":`${Pg.svgRound(s)} ${Pg.svgRound(o)}`,transform:`${this.rotationTransform} scale(${h} ${p}) translate(${Pg.svgRound(i)} ${Pg.svgRound(a)}) scale(${d} ${u}) translate(${Pg.svgRound(-i)} ${Pg.svgRound(-a)})`}}}getPathResizedSVGProperties([e,t,r,n]){const[i,a]=__privateMethod(this,Il,Fl).call(this),s=__privateGet(this,Nl),[o,l,c,d]=s;if(s[0]=e,s[1]=t,s[2]=r,s[3]=n,Math.abs(c-i)<=Pg.PRECISION||Math.abs(d-a)<=Pg.PRECISION){const i=e+r/2-(o+c/2),a=t+n/2-(l+d/2);for(const{line:e,points:t}of __privateGet(this,Gl))Pg._translate(e,i,a,e),Pg._translate(t,i,a,t);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pg.svgRound(e)} ${Pg.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const u=(r-2*i)/(c-2*i),h=(n-2*a)/(d-2*a),p=-u*(o+i)+e+i,f=-h*(l+a)+t+a;if(1!==u||1!==h||0!==p||0!==f)for(const{line:m,points:_}of __privateGet(this,Gl))Pg._rescale(m,p,f,u,h,m),Pg._rescale(_,p,f,u,h,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Pg.svgRound(e)} ${Pg.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],r){const[n,i]=r,a=__privateGet(this,Nl),s=e-a[0],o=t-a[1];if(__privateGet(this,Pl)===n&&__privateGet(this,Rl)===i)for(const{line:l,points:c}of __privateGet(this,Gl))Pg._translate(l,s,o,l),Pg._translate(c,s,o,c);else{const e=__privateGet(this,Pl)/n,t=__privateGet(this,Rl)/i;__privateSet(this,Pl,n),__privateSet(this,Rl,i);for(const{line:r,points:n}of __privateGet(this,Gl))Pg._rescale(r,s,o,e,t,r),Pg._rescale(n,s,o,e,t,n);a[2]*=e,a[3]*=t}return a[0]=e,a[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Pg.svgRound(e)} ${Pg.svgRound(t)}`}}}get defaultSVGProperties(){const e=__privateGet(this,Nl);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Pg.svgRound(e[0])} ${Pg.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}Nl=new WeakMap,El=new WeakMap,jl=new WeakMap,Gl=new WeakMap,Pl=new WeakMap,Rl=new WeakMap,Tl=new WeakMap,Ll=new WeakMap,Dl=new WeakMap,Il=new WeakSet,Fl=function(e=__privateGet(this,Dl)){const t=__privateGet(this,jl)+e/2*__privateGet(this,Tl);return __privateGet(this,Ll)%180==0?[t/__privateGet(this,Pl),t/__privateGet(this,Rl)]:[t/__privateGet(this,Rl),t/__privateGet(this,Pl)]},Ol=function(){const[e,t,r,n]=__privateGet(this,Nl),[i,a]=__privateMethod(this,Il,Fl).call(this,0);return[e+i,t+a,r-2*i,n-2*a]},zl=function(){const e=__privateSet(this,Nl,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:n}of __privateGet(this,Gl)){if(n.length<=12){for(let t=4,r=n.length;t<r;t+=6)Wf.pointBoundingBox(n[t],n[t+1],e);continue}let t=n[4],r=n[5];for(let i=6,a=n.length;i<a;i+=6){const[a,s,o,l,c,d]=n.subarray(i,i+6);Wf.bezierBoundingBox(t,r,a,s,o,l,c,d,e),t=c,r=d}}const[t,r]=__privateMethod(this,Il,Fl).call(this);e[0]=qf(e[0]-t,0,1),e[1]=qf(e[1]-r,0,1),e[2]=qf(e[2]+t,0,1),e[3]=qf(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]},Wl=function(e){const[t,r]=__privateMethod(this,Il,Fl).call(this);__privateSet(this,Dl,e);const[n,i]=__privateMethod(this,Il,Fl).call(this),[a,s]=[n-t,i-r],o=__privateGet(this,Nl);return o[0]-=a,o[1]-=s,o[2]+=2*a,o[3]+=2*s,o};class Kg extends Vg{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Lm._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(null!=t||(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Kg(this._viewParameters);return e.updateAll(this),e}}const Yg=class e extends Ug{constructor(e){super(__spreadProps(__spreadValues({},e),{name:"inkEditor"})),__privateAdd(this,$l),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Lm.initialize(e,t),this._defaultDrawingOptions=new Kg(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ef(this,"typesMap",new Map([[Jp.INK_THICKNESS,"stroke-width"],[Jp.INK_COLOR,"stroke"],[Jp.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,r,n,i){return new qg(e,t,r,n,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,r,n,i,a){return Xg.deserialize(e,t,r,n,i,a)}static deserialize(t,r,n){return __async(this,null,function*(){let i=null;if(t instanceof xg){const{data:{inkLists:e,rect:r,rotation:n,id:a,color:s,opacity:o,borderStyle:{rawWidth:l},popupRef:c},parent:{page:{pageNumber:d}}}=t;i=t={annotationType:Qp.INK,color:Array.from(s),thickness:l,opacity:o,paths:{points:e},boxes:null,pageIndex:d-1,rect:r.slice(0),rotation:n,annotationElementId:a,id:a,deleted:!1,popupRef:c}}const a=yield __superGet(e,this,"deserialize").call(this,t,r,n);return a._initialData=i,a})}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:r}=this;t.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:n}){this._drawingOptions=e.getDefaultDrawingOptions({stroke:Wf.makeHexColor(...t),"stroke-width":r,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:r,rect:n}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":a,"stroke-width":s}}=this,o={annotationType:Qp.INK,color:Lm._colorManager.convert(i),opacity:a,thickness:s,paths:{lines:t,points:r},pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(o.isCopy=!0,o):this.annotationElementId&&!__privateMethod(this,$l,Bl).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const{points:t,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:t}),null}};$l=new WeakSet,Bl=function(e){const{color:t,thickness:r,opacity:n,pageIndex:i}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((e,r)=>e!==t[r])||e.thickness!==r||e.opacity!==n||e.pageIndex!==i},__publicField(Yg,"_type","ink"),__publicField(Yg,"_editorType",Qp.INK),__publicField(Yg,"_defaultDrawingOptions",null);let Qg=Yg;class Jg extends Xg{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class Zg{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:n},i,a,s,o){let l=new OffscreenCanvas(1,1),c=l.getContext("2d",{alpha:!1});const d=c.font=`${r} ${n} 200px ${t}`,{actualBoundingBoxLeft:u,actualBoundingBoxRight:h,actualBoundingBoxAscent:p,actualBoundingBoxDescent:f,fontBoundingBoxAscent:m,fontBoundingBoxDescent:_,width:v}=c.measureText(e),g=1.5,y=Math.ceil(Math.max(Math.abs(u)+Math.abs(h)||0,v)*g),b=Math.ceil(Math.max(Math.abs(p)+Math.abs(f)||200,Math.abs(m)+Math.abs(_)||200)*g);l=new OffscreenCanvas(y,b),c=l.getContext("2d",{alpha:!0,willReadFrequently:!0}),c.font=d,c.filter="grayscale(1)",c.fillStyle="white",c.fillRect(0,0,y,b),c.fillStyle="black",c.fillText(e,.5*y/2,1.5*b/2);const x=__privateMethod(this,Hl,tc).call(this,c.getImageData(0,0,y,b).data),w=__privateMethod(this,Hl,ec).call(this,x),k=__privateMethod(this,Hl,rc).call(this,w),S=__privateMethod(this,Hl,Yl).call(this,x,y,b,k);return this.processDrawnLines({lines:{curves:S,width:y,height:b},pageWidth:i,pageHeight:a,rotation:s,innerMargin:o,mustSmooth:!0,areContours:!0})}static process(e,t,r,n,i){const[a,s,o]=__privateMethod(this,Hl,nc).call(this,e),[l,c]=__privateMethod(this,Hl,Zl).call(this,a,s,o,Math.hypot(s,o)*__privateGet(this,Vl).sigmaSFactor,__privateGet(this,Vl).sigmaR,__privateGet(this,Vl).kernelSize),d=__privateMethod(this,Hl,rc).call(this,c),u=__privateMethod(this,Hl,Yl).call(this,l,s,o,d);return this.processDrawnLines({lines:{curves:u,width:s,height:o},pageWidth:t,pageHeight:r,rotation:n,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:n,innerMargin:i,mustSmooth:a,areContours:s}){var o;n%180!=0&&([t,r]=[r,t]);const{curves:l,width:c,height:d}=e,u=null!=(o=e.thickness)?o:0,h=[],p=Math.min(t/c,r/d),f=p/t,m=p/r,_=[];for(const{points:g}of l){const e=a?__privateMethod(this,Hl,Jl).call(this,g):g;if(!e)continue;_.push(e);const t=e.length,r=new Float32Array(t),n=new Float32Array(3*(2===t?2:t-2));if(h.push({line:n,points:r}),2===t){r[0]=e[0]*f,r[1]=e[1]*m,n.set([NaN,NaN,NaN,NaN,r[0],r[1]],0);continue}let[i,s,o,l]=e;i*=f,s*=m,o*=f,l*=m,r.set([i,s,o,l],0),n.set([NaN,NaN,NaN,NaN,i,s],0);for(let a=4;a<t;a+=2){const t=r[a]=e[a]*f,c=r[a+1]=e[a+1]*m;n.set(Pg.createBezierPoints(i,s,o,l,t,c),3*(a-2)),[i,s,o,l]=[o,l,t,c]}}if(0===h.length)return null;const v=s?new Jg:new Xg;return v.build(h,t,r,1,n,s?0:u,i),{outline:v,newCurves:_,areContours:s,thickness:u,width:c,height:d}}static compressSignature(e){return __async(this,arguments,function*({outlines:e,areContours:t,thickness:r,width:n,height:i}){let a,s=1/0,o=-1/0,l=0;for(const v of e){l+=v.length;for(let e=2,t=v.length;e<t;e++){const t=v[e]-v[e-2];s=Math.min(s,t),o=Math.max(o,t)}}a=s>=-128&&o<=127?Int8Array:s>=-32768&&o<=32767?Int16Array:Int32Array;const c=e.length,d=8+3*c,u=new Uint32Array(d);let h=0;u[h++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*c)*a.BYTES_PER_ELEMENT,u[h++]=0,u[h++]=n,u[h++]=i,u[h++]=t?0:1,u[h++]=Math.max(0,Math.floor(null!=r?r:0)),u[h++]=c,u[h++]=a.BYTES_PER_ELEMENT;for(const v of e)u[h++]=v.length-2,u[h++]=v[0],u[h++]=v[1];const p=new CompressionStream("deflate-raw"),f=p.writable.getWriter();yield f.ready,f.write(u);const m=a.prototype.constructor;for(const v of e){const e=new m(v.length-2);for(let t=2,r=v.length;t<r;t++)e[t-2]=v[t]-v[t-2];f.write(e)}f.close();const _=yield new Response(p.readable).arrayBuffer();return Xf(new Uint8Array(_))})}static decompressSignature(e){return __async(this,null,function*(){try{const s=(a=e,Uint8Array.fromBase64?Uint8Array.fromBase64(a):Ff(atob(a))),{readable:o,writable:l}=new DecompressionStream("deflate-raw"),c=l.getWriter();yield c.ready,c.write(s).then(()=>__async(null,null,function*(){yield c.ready,yield c.close()})).catch(()=>{});let d=null,u=0;try{for(var t,r,n,i=__forAwait(o);t=!(r=yield i.next()).done;t=!1){const e=r.value;d||(d=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),d.set(e,u),u+=e.length}}catch(r){n=[r]}finally{try{t&&(r=i.return)&&(yield r.call(i))}finally{if(n)throw n[0]}}const h=new Uint32Array(d.buffer,0,d.length>>2),p=h[1];if(0!==p)throw new Error(`Invalid version: ${p}`);const f=h[2],m=h[3],_=0===h[4],v=h[5],g=h[6],y=h[7],b=[],x=(8+3*g)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(y){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(d.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(d.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(d.buffer,x)}u=0;for(let e=0;e<g;e++){const t=h[3*e+8],r=new Float32Array(t+2);b.push(r);for(let n=0;n<2;n++)r[n]=h[3*e+8+n+1];for(let e=0;e<t;e++)r[e+2]=r[e]+w[u++]}return{areContours:_,thickness:v,outlines:b,width:f,height:m}}catch(s){return Sf(`decompressSignature: ${s}`),null}var a})}}Vl=new WeakMap,Hl=new WeakSet,Ul=function(e,t,r,n){return n-=t,0===(r-=e)?n>0?0:4:1===r?n+6:2-n},ql=new WeakMap,Xl=function(e,t,r,n,i,a,s){const o=__privateMethod(this,Hl,Ul).call(this,r,n,i,a);for(let l=0;l<8;l++){const i=(-l+o-s+16)%8;if(0!==e[(r+__privateGet(this,ql)[2*i])*t+(n+__privateGet(this,ql)[2*i+1])])return i}return-1},Kl=function(e,t,r,n,i,a,s){const o=__privateMethod(this,Hl,Ul).call(this,r,n,i,a);for(let l=0;l<8;l++){const i=(l+o+s+16)%8;if(0!==e[(r+__privateGet(this,ql)[2*i])*t+(n+__privateGet(this,ql)[2*i+1])])return i}return-1},Yl=function(e,t,r,n){const i=e.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=e[c]<=n?1:0;for(let c=1;c<r-1;c++)a[c*t]=a[c*t+t-1]=0;for(let c=0;c<t;c++)a[c]=a[t*r-1-c]=0;let s,o=1;const l=[];for(let c=1;c<r-1;c++){s=1;for(let e=1;e<t-1;e++){const r=c*t+e,n=a[r];if(0===n)continue;let i=c,d=e;if(1===n&&0===a[r-1])o+=1,d-=1;else{if(!(n>=1&&0===a[r+1])){1!==n&&(s=Math.abs(n));continue}o+=1,d+=1,n>1&&(s=n)}const u=[e,c],h=d===e+1,p={isHole:h,points:u,id:o,parent:0};let f;l.push(p);for(const e of l)if(e.id===s){f=e;break}f?f.isHole?p.parent=h?f.parent:s:p.parent=h?s:f.parent:p.parent=h?s:0;const m=__privateMethod(this,Hl,Xl).call(this,a,t,c,e,i,d,0);if(-1===m){a[r]=-o,1!==a[r]&&(s=Math.abs(a[r]));continue}let _=__privateGet(this,ql)[2*m],v=__privateGet(this,ql)[2*m+1];const g=c+_,y=e+v;i=g,d=y;let b=c,x=e;for(;;){const n=__privateMethod(this,Hl,Kl).call(this,a,t,b,x,i,d,1);_=__privateGet(this,ql)[2*n],v=__privateGet(this,ql)[2*n+1];const l=b+_,h=x+v;u.push(h,l);const p=b*t+x;if(0===a[p+1]?a[p]=-o:1===a[p]&&(a[p]=o),l===c&&h===e&&b===g&&x===y){1!==a[r]&&(s=Math.abs(a[r]));break}i=b,d=x,b=l,x=h}}}return l},Ql=function(e,t,r,n){if(r-t<=4){for(let i=t;i<r-2;i+=2)n.push(e[i],e[i+1]);return}const i=e[t],a=e[t+1],s=e[r-4]-i,o=e[r-3]-a,l=Math.hypot(s,o),c=s/l,d=o/l,u=c*a-d*i,h=o/s,p=1/l,f=Math.atan(h),m=Math.cos(f),_=Math.sin(f),v=p*(Math.abs(m)+Math.abs(_)),g=p*(1-v+__pow(v,2)),y=Math.max(Math.atan(Math.abs(_+m)*g),Math.atan(Math.abs(_-m)*g));let b=0,x=t;for(let w=t+2;w<r-2;w+=2){const t=Math.abs(u-c*e[w+1]+d*e[w]);t>b&&(x=w,b=t)}b>__pow(l*y,2)?(__privateMethod(this,Hl,Ql).call(this,e,t,x+2,n),__privateMethod(this,Hl,Ql).call(this,e,x,r,n)):n.push(i,a)},Jl=function(e){const t=[],r=e.length;return __privateMethod(this,Hl,Ql).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},Zl=function(e,t,r,n,i,a){const s=new Float32Array(__pow(a,2)),o=-2*__pow(n,2),l=a>>1;for(let f=0;f<a;f++){const e=__pow(f-l,2);for(let t=0;t<a;t++)s[f*a+t]=Math.exp((e+__pow(t-l,2))/o)}const c=new Float32Array(256),d=-2*__pow(i,2);for(let f=0;f<256;f++)c[f]=Math.exp(__pow(f,2)/d);const u=e.length,h=new Uint8Array(u),p=new Uint32Array(256);for(let f=0;f<r;f++)for(let n=0;n<t;n++){const i=f*t+n,o=e[i];let d=0,u=0;for(let h=0;h<a;h++){const i=f+h-l;if(!(i<0||i>=r))for(let r=0;r<a;r++){const p=n+r-l;if(p<0||p>=t)continue;const f=e[i*t+p],m=s[h*a+r]*c[Math.abs(f-o)];d+=f*m,u+=m}}p[h[i]=Math.round(d/u)]++}return[h,p]},ec=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},tc=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let n=-1/0,i=1/0;for(let s=0,o=r.length;s<o;s++){if(0===e[3+(s<<2)]){n=r[s]=255;continue}const t=r[s]=e[s<<2];t>n&&(n=t),t<i&&(i=t)}const a=255/(n-i);for(let s=0;s<t;s++)r[s]=(r[s]-i)*a;return r},rc=function(e){let t,r=-1/0,n=-1/0;const i=e.findIndex(e=>0!==e);let a=i,s=i;for(t=i;t<256;t++){const i=e[t];i>r&&(t-a>n&&(n=t-a,s=t-1),r=i,a=t)}for(t=s-1;t>=0&&!(e[t]>e[t+1]);t--);return t},nc=function(e){const t=e,{width:r,height:n}=e,{maxDim:i}=__privateGet(this,Vl);let a=r,s=n;if(r>i||n>i){let o=r,l=n,c=Math.log2(Math.max(r,n)/i);const d=Math.floor(c);c=c===d?d-1:d;for(let r=0;r<c;r++){a=Math.ceil(o/2),s=Math.ceil(l/2);const r=new OffscreenCanvas(a,s);r.getContext("2d").drawImage(e,0,0,o,l,0,0,a,s),o=a,l=s,e!==t&&e.close(),e=r.transferToImageBitmap()}const u=Math.min(i/a,i/s);a=Math.round(a*u),s=Math.round(s*u)}const o=new OffscreenCanvas(a,s).getContext("2d",{willReadFrequently:!0});o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,a,s);const l=o.getImageData(0,0,a,s).data;return[__privateMethod(this,Hl,tc).call(this,l),a,s]},__privateAdd(Zg,Hl),__privateAdd(Zg,Vl,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),__privateAdd(Zg,ql,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class ey extends Vg{constructor(){super(),super.updateProperties({fill:Lm._defaultLineColor,"stroke-width":0})}clone(){const e=new ey;return e.updateAll(this),e}}class ty extends Kg{constructor(e){super(e),super.updateProperties({stroke:Lm._defaultLineColor,"stroke-width":1})}clone(){const e=new ty(this._viewParameters);return e.updateAll(this),e}}const ry=class e extends Ug{constructor(e){super(__spreadProps(__spreadValues({},e),{mustBeCommitted:!0,name:"signatureEditor"})),__privateAdd(this,ic,!1),__privateAdd(this,ac,null),__privateAdd(this,sc,null),__privateAdd(this,oc,null),this._willKeepAspectRatio=!0,__privateSet(this,sc,e.signatureData||null),__privateSet(this,ac,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Lm.initialize(e,t),this._defaultDrawingOptions=new ey,this._defaultDrawnSignatureOptions=new ty(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ef(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!__privateGet(this,ac)}}static computeTelemetryFinalData(e){var t,r;const n=e.get("hasDescription");return{hasAltText:null!=(t=n.get(!0))?t:0,hasNoAltText:null!=(r=n.get(!1))?r:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),null===this._drawId)if(__privateGet(this,sc)){const{lines:t,mustSmooth:r,areContours:n,description:i,uuid:a,heightInPage:s}=__privateGet(this,sc),{rawDims:{pageWidth:o,pageHeight:l},rotation:c}=this.parent.viewport,d=Zg.processDrawnLines({lines:t,pageWidth:o,pageHeight:l,rotation:c,innerMargin:e._INNER_MARGIN,mustSmooth:r,areContours:n});this.addSignature(d,s,i,a)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return n&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(e){__privateSet(this,oc,e),this.addEditToolbar()}getUuid(){return __privateGet(this,oc)}get description(){return __privateGet(this,ac)}set description(e){__privateSet(this,ac,e),super.addEditToolbar().then(t=>{null==t||t.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:r,width:n,height:i}=__privateGet(this,sc),a=Math.max(n,i);return{areContours:t,outline:Zg.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:r,width:n,height:i},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,n,i){const{x:a,y:s}=this,{outline:o}=__privateSet(this,sc,t);let l;__privateSet(this,ic,o instanceof Jg),this.description=n,this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),__privateGet(this,ic)?l=e.getDefaultDrawingOptions():(l=e._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[c,d]=this.parentDimensions,[,u]=this.pageDimensions;let h=r/u;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(c*this.width,d*this.height),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:n},rotation:i}=this.parent.viewport;return Zg.process(t,r,n,i,e._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Zg.extractContoursFromText(t,r,n,i,a,e._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:n},rotation:i}=this.parent.viewport;return Zg.processDrawnLines({lines:t,pageWidth:r,pageHeight:n,rotation:i,innerMargin:e._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=e.getDefaultDrawingOptions():(this._drawingOptions=e._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:r,rect:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,a={annotationType:Qp.SIGNATURE,isSignature:!0,areContours:__privateGet(this,ic),color:[0,0,0],thickness:__privateGet(this,ic)?0:i,pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(a.paths={lines:t,points:r},a.uuid=__privateGet(this,oc),a.isCopy=!0):a.lines=t,__privateGet(this,ac)&&(a.accessibilityData={type:"Figure",alt:__privateGet(this,ac)}),a}static deserializeDraw(e,t,r,n,i,a){return a.areContours?Jg.deserialize(e,t,r,n,i,a):Xg.deserialize(e,t,r,n,i,a)}static deserialize(t,r,n){return __async(this,null,function*(){var i;const a=yield __superGet(e,this,"deserialize").call(this,t,r,n);return __privateSet(a,ic,t.areContours),__privateSet(a,ac,(null==(i=t.accessibilityData)?void 0:i.alt)||""),__privateSet(a,oc,t.uuid),a})}};ic=new WeakMap,ac=new WeakMap,sc=new WeakMap,oc=new WeakMap,__publicField(ry,"_type","signature"),__publicField(ry,"_editorType",Qp.SIGNATURE),__publicField(ry,"_defaultDrawingOptions",null);let ny=ry;const iy=class e extends Lm{constructor(e){super(__spreadProps(__spreadValues({},e),{name:"stampEditor"})),__privateAdd(this,yc),__privateAdd(this,lc,null),__privateAdd(this,cc,null),__privateAdd(this,dc,null),__privateAdd(this,uc,null),__privateAdd(this,hc,null),__privateAdd(this,pc,""),__privateAdd(this,fc,null),__privateAdd(this,mc,!1),__privateAdd(this,_c,null),__privateAdd(this,vc,!1),__privateAdd(this,gc,!1),__privateSet(this,uc,e.bitmapUrl),__privateSet(this,hc,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Lm.initialize(e,t)}static isHandlingMimeForPasting(e){return _m.includes(e)}static paste(e,t){t.pasteEditor({mode:Qp.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!(null==(e=this.altTextData)?void 0:e.altText)}}static computeTelemetryFinalData(e){var t,r;const n=e.get("hasAltText");return{hasAltText:null!=(t=n.get(!0))?t:0,hasNoAltText:null!=(r=n.get(!1))?r:0}}mlGuessAltText(e=null,t=!0){return __async(this,null,function*(){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!(yield r.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:n,width:i,height:a}=e||this.copyCanvas(null,null,!0).imageData,s=yield r.guess({name:"altText",request:{data:n,width:i,height:a,channels:n.length/(i*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return yield this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o})}remove(){var e;__privateGet(this,cc)&&(__privateSet(this,lc,null),this._uiManager.imageManager.deleteId(__privateGet(this,cc)),null==(e=__privateGet(this,fc))||e.remove(),__privateSet(this,fc,null),__privateGet(this,_c)&&(clearTimeout(__privateGet(this,_c)),__privateSet(this,_c,null))),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(__privateGet(this,cc)&&null===__privateGet(this,fc)&&__privateMethod(this,yc,wc).call(this),this.isAttachedToDOM||this.parent.add(this))):__privateGet(this,cc)&&__privateMethod(this,yc,wc).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(__privateGet(this,dc)||__privateGet(this,lc)||__privateGet(this,uc)||__privateGet(this,hc)||__privateGet(this,cc)||__privateGet(this,mc))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),__privateGet(this,mc)||(__privateGet(this,lc)?__privateMethod(this,yc,kc).call(this):__privateMethod(this,yc,wc).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:r,bitmap:n}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(__privateSet(this,cc,r),n&&__privateSet(this,lc,n),__privateSet(this,mc,!1),__privateMethod(this,yc,kc).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==__privateGet(this,_c)&&clearTimeout(__privateGet(this,_c));__privateSet(this,_c,setTimeout(()=>{__privateSet(this,_c,null),__privateMethod(this,yc,Ac).call(this)},200))}copyCanvas(e,t,r=!1){var n;e||(e=224);const{width:i,height:a}=__privateGet(this,lc),s=new mm;let o=__privateGet(this,lc),l=i,c=a,d=null;if(t){if(i>t||a>t){const e=Math.min(t/i,t/a);l=Math.floor(i*e),c=Math.floor(a*e)}d=document.createElement("canvas");const e=d.width=Math.ceil(l*s.sx),r=d.height=Math.ceil(c*s.sy);__privateGet(this,vc)||(o=__privateMethod(this,yc,Sc).call(this,e,r));const u=d.getContext("2d");u.filter=this._uiManager.hcmFilter;let h="white",p="#cfcfd8";"none"!==this._uiManager.hcmFilter?p="black":(null==(n=window.matchMedia)?void 0:n.call(window,"(prefers-color-scheme: dark)").matches)&&(h="#8f8f9d",p="#42414d");const f=15,m=f*s.sx,_=f*s.sy,v=new OffscreenCanvas(2*m,2*_),g=v.getContext("2d");g.fillStyle=h,g.fillRect(0,0,2*m,2*_),g.fillStyle=p,g.fillRect(0,0,m,_),g.fillRect(m,_,m,_),u.fillStyle=u.createPattern(v,"repeat"),u.fillRect(0,0,e,r),u.drawImage(o,0,0,o.width,o.height,0,0,e,r)}let u=null;if(r){let t,r;if(s.symmetric&&o.width<e&&o.height<e)t=o.width,r=o.height;else if(o=__privateGet(this,lc),i>e||a>e){const n=Math.min(e/i,e/a);t=Math.floor(i*n),r=Math.floor(a*n),__privateGet(this,vc)||(o=__privateMethod(this,yc,Sc).call(this,t,r))}const n=new OffscreenCanvas(t,r).getContext("2d",{willReadFrequently:!0});n.drawImage(o,0,0,o.width,o.height,0,0,t,r),u={width:t,height:r,data:n.getImageData(0,0,t,r).data}}return{canvas:d,width:l,height:c,imageData:u}}static deserialize(t,r,n){return __async(this,null,function*(){var i;let a=null,s=!1;if(t instanceof Mg){const{data:{rect:e,rotation:o,id:l,structParent:c,popupRef:d},container:u,parent:{page:{pageNumber:h}},canvas:p}=t;let f,m;p?(delete t.canvas,({id:f,bitmap:m}=n.imageManager.getFromCanvas(u.id,p)),p.remove()):(s=!0,t._hasNoCanvas=!0);const _=(null==(i=yield r._structTree.getAriaAttributes(`${Uf}${l}`))?void 0:i.get("aria-label"))||"";a=t={annotationType:Qp.STAMP,bitmapId:f,bitmap:m,pageIndex:h-1,rect:e.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:_},isSvg:!1,structParent:c,popupRef:d}}const o=yield __superGet(e,this,"deserialize").call(this,t,r,n),{rect:l,bitmap:c,bitmapUrl:d,bitmapId:u,isSvg:h,accessibilityData:p}=t;s?(n.addMissingCanvas(t.id,o),__privateSet(o,mc,!0)):u&&n.imageManager.isValidId(u)?(__privateSet(o,cc,u),c&&__privateSet(o,lc,c)):__privateSet(o,uc,d),__privateSet(o,vc,h);const[f,m]=o.pageDimensions;return o.width=(l[2]-l[0])/f,o.height=(l[3]-l[1])/m,p&&(o.altTextData=p),o._initialData=a,__privateSet(o,gc,!!a),o})}serialize(e=!1,t=null){var r;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Qp.STAMP,bitmapId:__privateGet(this,cc),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:__privateGet(this,vc),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=__privateMethod(this,yc,Mc).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const e=__privateMethod(this,yc,Cc).call(this,n);if(e.isSame)return null;e.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=null!=(r=this._initialData.structParent)?r:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const s=__privateGet(this,vc)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(__privateGet(this,cc))){if(__privateGet(this,vc)){const e=t.stamps.get(__privateGet(this,cc));s>e.area&&(e.area=s,e.serialized.bitmap.close(),e.serialized.bitmap=__privateMethod(this,yc,Mc).call(this,!1))}}else t.stamps.set(__privateGet(this,cc),{area:s,serialized:n}),n.bitmap=__privateMethod(this,yc,Mc).call(this,!1);return n}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}};lc=new WeakMap,cc=new WeakMap,dc=new WeakMap,uc=new WeakMap,hc=new WeakMap,pc=new WeakMap,fc=new WeakMap,mc=new WeakMap,_c=new WeakMap,vc=new WeakMap,gc=new WeakMap,yc=new WeakSet,bc=function(e,t=!1){e?(__privateSet(this,lc,e.bitmap),t||(__privateSet(this,cc,e.id),__privateSet(this,vc,e.isSvg)),e.file&&__privateSet(this,pc,e.file.name),__privateMethod(this,yc,kc).call(this)):this.remove()},xc=function(){if(__privateSet(this,dc,null),this._uiManager.enableWaiting(!1),__privateGet(this,fc))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&__privateGet(this,lc))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&__privateGet(this,lc)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}},wc=function(){if(__privateGet(this,cc))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(__privateGet(this,cc)).then(e=>__privateMethod(this,yc,bc).call(this,e,!0)).finally(()=>__privateMethod(this,yc,xc).call(this));if(__privateGet(this,uc)){const e=__privateGet(this,uc);return __privateSet(this,uc,null),this._uiManager.enableWaiting(!0),void __privateSet(this,dc,this._uiManager.imageManager.getFromUrl(e).then(e=>__privateMethod(this,yc,bc).call(this,e)).finally(()=>__privateMethod(this,yc,xc).call(this)))}if(__privateGet(this,hc)){const e=__privateGet(this,hc);return __privateSet(this,hc,null),this._uiManager.enableWaiting(!0),void __privateSet(this,dc,this._uiManager.imageManager.getFromFile(e).then(e=>__privateMethod(this,yc,bc).call(this,e)).finally(()=>__privateMethod(this,yc,xc).call(this)))}const e=document.createElement("input");e.type="file",e.accept=_m.join(",");const t=this._uiManager._signal;__privateSet(this,dc,new Promise(r=>{e.addEventListener("change",()=>__async(this,null,function*(){if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=yield this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),__privateMethod(this,yc,bc).call(this,t)}else this.remove();r()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:t})}).finally(()=>__privateMethod(this,yc,xc).call(this))),e.click()},kc=function(){var e;const{div:t}=this;let{width:r,height:n}=__privateGet(this,lc);const[i,a]=this.pageDimensions,s=.75;if(this.width)r=this.width*i,n=this.height*a;else if(r>s*i||n>s*a){const e=Math.min(s*i/r,s*a/n);r*=e,n*=e}const[o,l]=this.parentDimensions;this.setDims(r*o/i,n*l/a),this._uiManager.enableWaiting(!1);const c=__privateSet(this,fc,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=r/i,this.height=n/a,(null==(e=this._initialOptions)?void 0:e.isCentered)?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),__privateMethod(this,yc,Ac).call(this),__privateGet(this,gc)||(this.parent.addUndoableEditor(this),__privateSet(this,gc,!0)),this._reportTelemetry({action:"inserted_image"}),__privateGet(this,pc)&&this.div.setAttribute("aria-description",__privateGet(this,pc)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Sc=function(e,t){const{width:r,height:n}=__privateGet(this,lc);let i=r,a=n,s=__privateGet(this,lc);for(;i>2*e||a>2*t;){const r=i,n=a;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(i,a);o.getContext("2d").drawImage(s,0,0,r,n,0,0,i,a),s=o.transferToImageBitmap()}return s},Ac=function(){const[e,t]=this.parentDimensions,{width:r,height:n}=this,i=new mm,a=Math.ceil(r*e*i.sx),s=Math.ceil(n*t*i.sy),o=__privateGet(this,fc);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const l=__privateGet(this,vc)?__privateGet(this,lc):__privateMethod(this,yc,Sc).call(this,a,s),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,a,s)},Mc=function(e){if(e){if(__privateGet(this,vc)){const e=this._uiManager.imageManager.getSvgUrl(__privateGet(this,cc));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=__privateGet(this,lc));return e.getContext("2d").drawImage(__privateGet(this,lc),0,0),e.toDataURL()}if(__privateGet(this,vc)){const[e,t]=this.pageDimensions,r=Math.round(this.width*e*Qf.PDF_TO_CSS_UNITS),n=Math.round(this.height*t*Qf.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(r,n);return i.getContext("2d").drawImage(__privateGet(this,lc),0,0,__privateGet(this,lc).width,__privateGet(this,lc).height,0,0,r,n),i.transferToImageBitmap()}return structuredClone(__privateGet(this,lc))},Cc=function(e){var t;const{pageIndex:r,accessibilityData:{altText:n}}=this._initialData,i=e.pageIndex===r,a=((null==(t=e.accessibilityData)?void 0:t.alt)||"")===n;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&i&&a,isSameAltText:a}},__publicField(iy,"_type","stamp"),__publicField(iy,"_editorType",Qp.STAMP);let ay=iy;const sy=class e{constructor({uiManager:t,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:l,viewport:c,l10n:d}){__privateAdd(this,Hc),__privateAdd(this,Nc),__privateAdd(this,Ec,!1),__privateAdd(this,jc,null),__privateAdd(this,Gc,null),__privateAdd(this,Pc,null),__privateAdd(this,Rc,new Map),__privateAdd(this,Tc,!1),__privateAdd(this,Lc,!1),__privateAdd(this,Dc,!1),__privateAdd(this,Ic,null),__privateAdd(this,Fc,null),__privateAdd(this,Oc,null),__privateAdd(this,zc,null),__privateAdd(this,Wc,null),__privateAdd(this,$c,-1),__privateAdd(this,Bc);const u=[...__privateGet(e,Vc).values()];if(!e._initialized){e._initialized=!0;for(const e of u)e.initialize(d,t)}t.registerEditorTypes(u),__privateSet(this,Bc,t),this.pageIndex=r,this.div=n,__privateSet(this,Nc,a),__privateSet(this,jc,s),this.viewport=c,__privateSet(this,Oc,l),this.drawLayer=o,this._structTree=i,__privateGet(this,Bc).addLayer(this)}get isEmpty(){return 0===__privateGet(this,Rc).size}get isInvisible(){return this.isEmpty&&__privateGet(this,Bc).getMode()===Qp.NONE}updateToolbar(e){__privateGet(this,Bc).updateToolbar(e)}updateMode(t=__privateGet(this,Bc).getMode()){switch(__privateMethod(this,Hc,Yc).call(this),t){case Qp.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Qp.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Qp.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of __privateGet(e,Vc).values())r.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null==(t=__privateGet(this,Oc))?void 0:t.div)}setEditingState(e){__privateGet(this,Bc).setEditingState(e)}addCommands(e){__privateGet(this,Bc).addCommands(e)}cleanUndoStack(e){__privateGet(this,Bc).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;null==(t=__privateGet(this,jc))||t.div.classList.toggle("disabled",!e)}enable(){return __async(this,null,function*(){var e;__privateSet(this,Dc,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),null==(e=__privateGet(this,Wc))||e.abort(),__privateSet(this,Wc,null);const t=new Set;for(const n of __privateGet(this,Rc).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(__privateGet(this,Bc).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!__privateGet(this,jc))return void __privateSet(this,Dc,!1);const r=__privateGet(this,jc).getEditableAnnotations();for(const n of r){if(n.hide(),__privateGet(this,Bc).isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=yield this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}__privateSet(this,Dc,!1)})}disable(){var t;if(__privateSet(this,Lc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),__privateGet(this,Oc)&&!__privateGet(this,Wc)){__privateSet(this,Wc,new AbortController);const e=__privateGet(this,Bc).combinedSignal(__privateGet(this,Wc));__privateGet(this,Oc).div.addEventListener("pointerdown",e=>{const{clientX:t,clientY:r,timeStamp:n}=e;if(n-__privateGet(this,$c)>500)return void __privateSet(this,$c,n);__privateSet(this,$c,-1);const{classList:i}=this.div;i.toggle("getElements",!0);const a=document.elementsFromPoint(t,r);if(i.toggle("getElements",!1),!this.div.contains(a[0]))return;let s;const o=new RegExp(`^${Yp}[0-9]+$`);for(const c of a)if(o.test(c.id)){s=c.id;break}if(!s)return;const l=__privateGet(this,Rc).get(s);null===(null==l?void 0:l.annotationElementId)&&(e.stopPropagation(),e.preventDefault(),l.dblclick())},{signal:e,capture:!0})}const r=new Map,n=new Map;for(const e of __privateGet(this,Rc).values())e.disableEditing(),e.annotationElementId&&(null===e.serialize()?(n.set(e.annotationElementId,e),null==(t=this.getEditableAnnotation(e.annotationElementId))||t.show(),e.remove()):r.set(e.annotationElementId,e));if(__privateGet(this,jc)){const e=__privateGet(this,jc).getEditableAnnotations();for(const t of e){const{id:e}=t.data;if(__privateGet(this,Bc).isDeletedAnnotationElement(e))continue;let i=n.get(e);i?(i.resetAnnotationElement(t),i.show(!1),t.show()):(i=r.get(e),i&&(__privateGet(this,Bc).addChangedExistingAnnotation(i),i.renderAnnotationElement(t)&&i.show(!1)),t.show())}}__privateMethod(this,Hc,Yc).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of __privateGet(e,Vc).values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),__privateSet(this,Lc,!1)}getEditableAnnotation(e){var t;return(null==(t=__privateGet(this,jc))?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){__privateGet(this,Bc).getActive()!==e&&__privateGet(this,Bc).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(null==(e=__privateGet(this,Oc))?void 0:e.div)&&!__privateGet(this,zc)){__privateSet(this,zc,new AbortController);const e=__privateGet(this,Bc).combinedSignal(__privateGet(this,zc));__privateGet(this,Oc).div.addEventListener("pointerdown",__privateMethod(this,Hc,Uc).bind(this),{signal:e}),__privateGet(this,Oc).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(null==(e=__privateGet(this,Oc))?void 0:e.div)&&__privateGet(this,zc)&&(__privateGet(this,zc).abort(),__privateSet(this,zc,null),__privateGet(this,Oc).div.classList.remove("highlighting"))}enableClick(){if(__privateGet(this,Gc))return;__privateSet(this,Gc,new AbortController);const e=__privateGet(this,Bc).combinedSignal(__privateGet(this,Gc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null==(e=__privateGet(this,Gc))||e.abort(),__privateSet(this,Gc,null)}attach(e){__privateGet(this,Rc).set(e.id,e);const{annotationElementId:t}=e;t&&__privateGet(this,Bc).isDeletedAnnotationElement(t)&&__privateGet(this,Bc).removeDeletedAnnotationElement(e)}detach(e){var t;__privateGet(this,Rc).delete(e.id),null==(t=__privateGet(this,Nc))||t.removePointerInTextLayer(e.contentDiv),!__privateGet(this,Lc)&&e.annotationElementId&&__privateGet(this,Bc).addDeletedAnnotationElement(e)}remove(e){this.detach(e),__privateGet(this,Bc).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(__privateGet(this,Bc).addDeletedAnnotationElement(e.annotationElementId),Lm.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null==(t=e.parent)||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),__privateGet(this,Bc).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!__privateGet(this,Dc)),__privateGet(this,Bc).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!__privateGet(this,Pc)&&(e._focusEventsAllowed=!1,__privateSet(this,Pc,setTimeout(()=>{__privateSet(this,Pc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:__privateGet(this,Bc)._signal}),r.focus())},0))),e._structTreeParentId=null==(t=__privateGet(this,Nc))?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return __privateGet(this,Bc).getId()}combinedSignal(e){return __privateGet(this,Bc).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null==(e=__privateGet(this,Hc,qc))?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){return __async(this,null,function*(){this.updateToolbar(e),yield __privateGet(this,Bc).updateMode(e.mode);const{offsetX:r,offsetY:n}=__privateMethod(this,Hc,Kc).call(this),i=this.getNextId(),a=__privateMethod(this,Hc,Xc).call(this,__spreadValues({parent:this,id:i,x:r,y:n,uiManager:__privateGet(this,Bc),isCentered:!0},t));a&&this.add(a)})}deserialize(t){return __async(this,null,function*(){var r,n;return(yield null==(n=__privateGet(e,Vc).get(null!=(r=t.annotationType)?r:t.annotationEditorType))?void 0:n.deserialize(t,this,__privateGet(this,Bc)))||null})}createAndAddNewEditor(e,t,r={}){const n=this.getNextId(),i=__privateMethod(this,Hc,Xc).call(this,__spreadValues({parent:this,id:n,x:e.offsetX,y:e.offsetY,uiManager:__privateGet(this,Bc),isCentered:t},r));return i&&this.add(i),i}addNewEditor(e={}){this.createAndAddNewEditor(__privateMethod(this,Hc,Kc).call(this),!0,e)}setSelected(e){__privateGet(this,Bc).setSelected(e)}toggleSelected(e){__privateGet(this,Bc).toggleSelected(e)}unselect(e){__privateGet(this,Bc).unselect(e)}pointerup(e){var t;const{isMac:r}=Of.platform;if(0!==e.button||e.ctrlKey&&r)return;if(e.target!==this.div)return;if(!__privateGet(this,Tc))return;if(__privateSet(this,Tc,!1),(null==(t=__privateGet(this,Hc,qc))?void 0:t.isDrawer)&&__privateGet(this,Hc,qc).supportMultipleDrawings)return;if(!__privateGet(this,Ec))return void __privateSet(this,Ec,!0);const n=__privateGet(this,Bc).getMode();n!==Qp.STAMP&&n!==Qp.SIGNATURE?this.createAndAddNewEditor(e,!1):__privateGet(this,Bc).unselectAll()}pointerdown(e){var t;if(__privateGet(this,Bc).getMode()===Qp.HIGHLIGHT&&this.enableTextSelection(),__privateGet(this,Tc))return void __privateSet(this,Tc,!1);const{isMac:r}=Of.platform;if(0!==e.button||e.ctrlKey&&r)return;if(e.target!==this.div)return;if(__privateSet(this,Tc,!0),null==(t=__privateGet(this,Hc,qc))?void 0:t.isDrawer)return void this.startDrawingSession(e);const n=__privateGet(this,Bc).getActive();__privateSet(this,Ec,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),__privateGet(this,Ic))return void __privateGet(this,Hc,qc).startDrawing(this,__privateGet(this,Bc),!1,e);__privateGet(this,Bc).setCurrentDrawingSession(this),__privateSet(this,Ic,new AbortController);const t=__privateGet(this,Bc).combinedSignal(__privateGet(this,Ic));this.div.addEventListener("blur",({relatedTarget:e})=>{e&&!this.div.contains(e)&&(__privateSet(this,Fc,null),this.commitOrRemove())},{signal:t}),__privateGet(this,Hc,qc).startDrawing(this,__privateGet(this,Bc),!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&__privateSet(this,Fc,e))}__privateGet(this,Fc)&&setTimeout(()=>{var e;null==(e=__privateGet(this,Fc))||e.focus(),__privateSet(this,Fc,null)},0)}endDrawingSession(e=!1){return __privateGet(this,Ic)?(__privateGet(this,Bc).setCurrentDrawingSession(null),__privateGet(this,Ic).abort(),__privateSet(this,Ic,null),__privateSet(this,Fc,null),__privateGet(this,Hc,qc).endDrawing(e)):null}findNewParent(e,t,r){const n=__privateGet(this,Bc).findParent(t,r);return null!==n&&n!==this&&(n.changeParent(e),!0)}commitOrRemove(){return!!__privateGet(this,Ic)&&(this.endDrawingSession(),!0)}onScaleChanging(){__privateGet(this,Ic)&&__privateGet(this,Hc,qc).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),(null==(e=__privateGet(this,Bc).getActive())?void 0:e.parent)===this&&(__privateGet(this,Bc).commitOrRemove(),__privateGet(this,Bc).setActiveEditor(null)),__privateGet(this,Pc)&&(clearTimeout(__privateGet(this,Pc)),__privateSet(this,Pc,null));for(const r of __privateGet(this,Rc).values())null==(t=__privateGet(this,Nc))||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,__privateGet(this,Rc).clear(),__privateGet(this,Bc).removeLayer(this)}render({viewport:e}){this.viewport=e,fm(this.div,e);for(const t of __privateGet(this,Bc).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){__privateGet(this,Bc).commitOrRemove(),__privateMethod(this,Hc,Yc).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,fm(this.div,{rotation:r}),t!==r)for(const n of __privateGet(this,Rc).values())n.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return __privateGet(this,Bc).viewParameters.realScale}};Nc=new WeakMap,Ec=new WeakMap,jc=new WeakMap,Gc=new WeakMap,Pc=new WeakMap,Rc=new WeakMap,Tc=new WeakMap,Lc=new WeakMap,Dc=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,Oc=new WeakMap,zc=new WeakMap,Wc=new WeakMap,$c=new WeakMap,Bc=new WeakMap,Vc=new WeakMap,Hc=new WeakSet,Uc=function(e){__privateGet(this,Bc).unselectAll();const{target:t}=e;if(t===__privateGet(this,Oc).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&__privateGet(this,Oc).div.contains(t)){const{isMac:t}=Of.platform;if(0!==e.button||e.ctrlKey&&t)return;__privateGet(this,Bc).showAllEditors("highlight",!0,!0),__privateGet(this,Oc).div.classList.add("free"),this.toggleDrawing(),Bg.startHighlighting(this,"ltr"===__privateGet(this,Bc).direction,{target:__privateGet(this,Oc).div,x:e.x,y:e.y}),__privateGet(this,Oc).div.addEventListener("pointerup",()=>{__privateGet(this,Oc).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:__privateGet(this,Bc)._signal}),e.preventDefault()}},qc=function(){return __privateGet(sy,Vc).get(__privateGet(this,Bc).getMode())},Xc=function(e){const t=__privateGet(this,Hc,qc);return t?new t.prototype.constructor(e):null},Kc=function(){const{x:e,y:t,width:r,height:n}=this.div.getBoundingClientRect(),i=Math.max(0,e),a=Math.max(0,t),s=(i+Math.min(window.innerWidth,e+r))/2-e,o=(a+Math.min(window.innerHeight,t+n))/2-t,[l,c]=this.viewport.rotation%180==0?[s,o]:[o,s];return{offsetX:l,offsetY:c}},Yc=function(){for(const e of __privateGet(this,Rc).values())e.isEmpty()&&e.remove()},__publicField(sy,"_initialized",!1),__privateAdd(sy,Vc,new Map([Gg,Qg,ay,Bg,ny].map(e=>[e._editorType,e])));let oy=sy;const ly=class e{constructor({pageIndex:e}){__privateAdd(this,nd),__privateAdd(this,Qc,null),__privateAdd(this,Jc,new Map),__privateAdd(this,Zc,new Map),this.pageIndex=e}setParent(e){if(__privateGet(this,Qc)){if(__privateGet(this,Qc)!==e){if(__privateGet(this,Jc).size>0)for(const t of __privateGet(this,Jc).values())t.remove(),e.append(t);__privateSet(this,Qc,e)}}else __privateSet(this,Qc,e)}static get _svgFactory(){return Ef(this,"_svgFactory",new Jv)}draw(t,r=!1,n=!1){const i=__privateWrapper(e,ed)._++,a=__privateMethod(this,nd,id).call(this),s=e._svgFactory.createElement("defs");a.append(s);const o=e._svgFactory.createElement("path");s.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),r&&__privateGet(this,Zc).set(i,o);const c=n?__privateMethod(this,nd,ad).call(this,s,l):null,d=e._svgFactory.createElement("use");return a.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(a,t),__privateGet(this,Jc).set(i,a),{id:i,clipPathId:`url(#${c})`}}drawOutline(t,r){const n=__privateWrapper(e,ed)._++,i=__privateMethod(this,nd,id).call(this),a=e._svgFactory.createElement("defs");i.append(a);const s=e._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${n}`;let l;if(s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke"),r){const t=e._svgFactory.createElement("mask");a.append(t),l=`mask_p${this.pageIndex}_${n}`,t.setAttribute("id",l),t.setAttribute("maskUnits","objectBoundingBox");const r=e._svgFactory.createElement("rect");t.append(r),r.setAttribute("width","1"),r.setAttribute("height","1"),r.setAttribute("fill","white");const i=e._svgFactory.createElement("use");t.append(i),i.setAttribute("href",`#${o}`),i.setAttribute("stroke","none"),i.setAttribute("fill","black"),i.setAttribute("fill-rule","nonzero"),i.classList.add("mask")}const c=e._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,t),__privateGet(this,Jc).set(n,i),n}finalizeDraw(e,t){__privateGet(this,Zc).delete(e),this.updateProperties(e,t)}updateProperties(t,r){var n;if(!r)return;const{root:i,bbox:a,rootClass:s,path:o}=r,l="number"==typeof t?__privateGet(this,Jc).get(t):t;if(l){if(i&&__privateMethod(this,nd,sd).call(this,l,i),a&&__privateMethod(n=e,td,rd).call(n,l,a),s){const{classList:e}=l;for(const[t,r]of Object.entries(s))e.toggle(t,r)}if(o){const e=l.firstChild.firstChild;__privateMethod(this,nd,sd).call(this,e,o)}}}updateParent(e,t){if(t===this)return;const r=__privateGet(this,Jc).get(e);r&&(__privateGet(t,Qc).append(r),__privateGet(this,Jc).delete(e),__privateGet(t,Jc).set(e,r))}remove(e){__privateGet(this,Zc).delete(e),null!==__privateGet(this,Qc)&&(__privateGet(this,Jc).get(e).remove(),__privateGet(this,Jc).delete(e))}destroy(){__privateSet(this,Qc,null);for(const e of __privateGet(this,Jc).values())e.remove();__privateGet(this,Jc).clear(),__privateGet(this,Zc).clear()}};Qc=new WeakMap,Jc=new WeakMap,Zc=new WeakMap,ed=new WeakMap,td=new WeakSet,rd=function(e,[t,r,n,i]){const{style:a}=e;a.top=100*r+"%",a.left=100*t+"%",a.width=100*n+"%",a.height=100*i+"%"},nd=new WeakSet,id=function(){const e=ly._svgFactory.create(1,1,!0);return __privateGet(this,Qc).append(e),e.setAttribute("aria-hidden",!0),e},ad=function(e,t){const r=ly._svgFactory.createElement("clipPath");e.append(r);const n=`clip_${t}`;r.setAttribute("id",n),r.setAttribute("clipPathUnits","objectBoundingBox");const i=ly._svgFactory.createElement("use");return r.append(i),i.setAttribute("href",`#${t}`),i.classList.add("clip"),n},sd=function(e,t){for(const[r,n]of Object.entries(t))null===n?e.removeAttribute(r):e.setAttribute(r,n)},__privateAdd(ly,td),__privateAdd(ly,ed,0);let cy=ly;globalThis._pdfjsTestingUtils={HighlightOutliner:Dg},globalThis.pdfjsLib={AbortException:Df,AnnotationEditorLayer:oy,AnnotationEditorParamsType:Jp,AnnotationEditorType:Qp,AnnotationEditorUIManager:Em,AnnotationLayer:Ng,AnnotationMode:Kp,AnnotationType:lf,build:qv,ColorPicker:Wg,createValidAbsoluteUrl:Cf,DOMSVGFactory:Jv,DrawLayer:cy,FeatureTest:Of,fetchData:Jf,getDocument:Tv,getFilenameFromUrl:nm,getPdfFilenameFromUrl:im,getUuid:Hf,getXfaPageViewport:dm,GlobalWorkerOptions:nv,ImageKind:of,InvalidPDFException:Rf,isDataScheme:tm,isPdfFile:rm,isValidExplicitDest:Xm,MathClamp:qf,noContextMenu:om,normalizeUnicode:Vf,OPS:mf,OutputScale:mm,PasswordResponses:bf,PDFDataRangeTransport:Iv,PDFDateString:cm,PDFWorker:Wv,PermissionFlag:Zp,PixelsPerInch:Qf,RenderingCancelledException:em,ResponseException:Tf,setLayerDimensions:fm,shadow:Ef,SignatureExtractor:Zg,stopEvent:lm,SupportedImageMimeTypes:_m,TextLayer:Pv,TouchManager:Rm,updateUrlHash:Nf,Util:Wf,VerbosityLevel:ff,version:Uv,XfaLayer:Zv};const dy=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Df,AnnotationEditorLayer:oy,AnnotationEditorParamsType:Jp,AnnotationEditorType:Qp,AnnotationEditorUIManager:Em,AnnotationLayer:Ng,AnnotationMode:Kp,AnnotationType:lf,ColorPicker:Wg,DOMSVGFactory:Jv,DrawLayer:cy,FeatureTest:Of,GlobalWorkerOptions:nv,ImageKind:of,InvalidPDFException:Rf,MathClamp:qf,OPS:mf,OutputScale:mm,PDFDataRangeTransport:Iv,PDFDateString:cm,PDFWorker:Wv,PasswordResponses:bf,PermissionFlag:Zp,PixelsPerInch:Qf,RenderingCancelledException:em,ResponseException:Tf,SignatureExtractor:Zg,SupportedImageMimeTypes:_m,TextLayer:Pv,TouchManager:Rm,Util:Wf,VerbosityLevel:ff,XfaLayer:Zv,build:qv,createValidAbsoluteUrl:Cf,fetchData:Jf,getDocument:Tv,getFilenameFromUrl:nm,getPdfFilenameFromUrl:im,getUuid:Hf,getXfaPageViewport:dm,isDataScheme:tm,isPdfFile:rm,isValidExplicitDest:Xm,noContextMenu:om,normalizeUnicode:Vf,setLayerDimensions:fm,shadow:Ef,stopEvent:lm,updateUrlHash:Nf,version:Uv},Symbol.toStringTag,{value:"Module"}));var uy=Object.prototype.hasOwnProperty;function hy(e,t,r){for(r of e.keys())if(py(r,t))return r}function py(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&py(e[n],t[n]););return-1===n}if(r===Set){if(e.size!==t.size)return!1;for(n of e){if((i=n)&&"object"==typeof i&&!(i=hy(t,i)))return!1;if(!t.has(i))return!1}return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e){if((i=n[0])&&"object"==typeof i&&!(i=hy(t,i)))return!1;if(!py(n[1],t.get(i)))return!1}return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!r||"object"==typeof e){for(r in n=0,e){if(uy.call(e,r)&&++n&&!uy.call(t,r))return!1;if(!(r in t)||!py(e[r],t[r]))return!1}return Object.keys(t).length===n}}return e!=e&&t!=t}function fy(e){let t=!1;return{promise:new Promise((r,n)=>{e.then(e=>!t&&r(e)).catch(e=>!t&&n(e))}),cancel(){t=!0}}}const my=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function _y(e,t){const r={};for(const n of my){const i=e[n];i&&(r[n]=t?e=>i(e,t(n)):i)}return r}var vy,gy;function yy(e,t){if(!e)throw new Error("Invariant failed")}const by=cd(gy?vy:(gy=1,vy=function(){})),xy=xd.createContext(null);class wy{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return yy(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){yy(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{yy(this.pdfDocument),yy(e),"string"==typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(e=>{yy(Array.isArray(e));const t=e[0];new Promise(e=>{yy(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then(t=>{e(t)}).catch(()=>{yy(!1)}):"number"==typeof t?e(t):yy(!1)}).then(t=>{const r=t+1;yy(this.pdfViewer),yy(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:r})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;yy(this.pdfViewer),yy(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,r){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=r?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function ky({children:e,type:t}){return bd.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:e})}const Sy=1,Ay=2;function My(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Cy(){return xd.useReducer(My,{value:void 0,error:void 0})}const Ny="undefined"!=typeof window,Ey=Ny&&"file:"===window.location.protocol;function jy(e){return function(e){return void 0!==e}(e)&&null!==e}function Gy(e){return function(e){return"string"==typeof e}(e)&&/^data:/.test(e)}function Py(e){yy(Gy(e));const[t="",r=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(r):unescape(r)}function Ry(){return Ny&&window.devicePixelRatio||1}const Ty="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Ly(){by(!Ey,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Ty}`)}function Dy(e){(null==e?void 0:e.cancel)&&e.cancel()}function Iy(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}const{PDFDataRangeTransport:Fy}=dy,Oy=(e,t)=>{switch(t){case Sy:e(prompt("Enter the password to open this PDF file."));break;case Ay:e(prompt("Invalid password. Please try again."));break}};function zy(e){return"object"==typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const Wy=xd.forwardRef(function(e,t){var r=e,{children:n,className:i,error:a="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:u="Loading PDF…",noData:h="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:m,onLoadSuccess:_,onPassword:v=Oy,onSourceError:g,onSourceSuccess:y,options:b,renderMode:x,rotate:w,scale:k}=r,S=__objRest(r,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"]);const[A,M]=Cy(),{value:C,error:N}=A,[E,j]=Cy(),{value:G,error:P}=E,R=xd.useRef(new wy),T=xd.useRef([]),L=xd.useRef(void 0),D=xd.useRef(void 0);l&&l!==L.current&&zy(l)&&(by(!py(l,L.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),L.current=l),b&&b!==D.current&&(by(!py(b,D.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),D.current=b);const I=xd.useRef({scrollPageIntoView:e=>{const{dest:t,pageNumber:r,pageIndex:n=r-1}=e;if(p)return void p({dest:t,pageIndex:n,pageNumber:r});const i=T.current[n];i?i.scrollIntoView():by(!1,`An internal link leading to page ${r} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});xd.useImperativeHandle(t,()=>({linkService:R,pages:T,viewer:I}),[]),xd.useEffect(function(){M({type:"RESET"})},[l,M]);const F=xd.useCallback(()=>__async(null,null,function*(){if(!l)return null;if("string"==typeof l){if(Gy(l)){return{data:Py(l)}}return Ly(),{url:l}}if(l instanceof Fy)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Ny&&function(e){return yy(Ny),e instanceof Blob}(l)){const e=yield function(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return r(new Error("Error while reading a file."));t(n.result)},n.onerror=e=>{if(!e.target)return r(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return r(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},n.readAsArrayBuffer(e)})}(l);return{data:e}}if(yy("object"==typeof l),yy(zy(l)),"url"in l&&"string"==typeof l.url){if(Gy(l.url)){const e=l,{url:t}=e,r=__objRest(e,["url"]),n=Py(t);return __spreadValues({data:n},r)}Ly()}return l}),[l]);xd.useEffect(()=>{const e=fy(F());return e.promise.then(e=>{M({type:"RESOLVE",value:e})}).catch(e=>{M({type:"REJECT",error:e})}),()=>{Dy(e)}},[F,M]),xd.useEffect(()=>{void 0!==C&&(!1!==C?y&&y():N&&(by(!1,N.toString()),g&&g(N)))},[C]),xd.useEffect(function(){j({type:"RESET"})},[j,C]),xd.useEffect(function(){if(!C)return;const e=Tv(b?__spreadValues(__spreadValues({},C),b):C);m&&(e.onProgress=m),v&&(e.onPassword=v);const t=e,r=t.promise.then(e=>{j({type:"RESOLVE",value:e})}).catch(e=>{t.destroyed||j({type:"REJECT",error:e})});return()=>{r.finally(()=>t.destroy())}},[b,j,C]),xd.useEffect(()=>{void 0!==G&&(!1!==G?G&&(_&&_(G),T.current=new Array(G.numPages),R.current.setDocument(G)):P&&(by(!1,P.toString()),f&&f(P)))},[G]),xd.useEffect(function(){R.current.setViewer(I.current),R.current.setExternalLinkRel(s),R.current.setExternalLinkTarget(o)},[s,o]);const O=xd.useCallback((e,t)=>{T.current[e]=t},[]),z=xd.useCallback(e=>{delete T.current[e]},[]),W=xd.useMemo(()=>({imageResourcesPath:d,linkService:R.current,onItemClick:p,pdf:G,registerPage:O,renderMode:x,rotate:w,scale:k,unregisterPage:z}),[d,p,G,O,x,w,k,z]),$=xd.useMemo(()=>_y(S,()=>G),[S,G]);return bd.jsx("div",__spreadProps(__spreadValues({className:iu("react-pdf__Document",i),ref:c},$),{children:l?null==G?bd.jsx(ky,{type:"loading",children:"function"==typeof u?u():u}):!1===G?bd.jsx(ky,{type:"error",children:"function"==typeof a?a():a}):function(){if(e=W,!Boolean(null==e?void 0:e.pdf))throw new Error("pdf is undefined");var e;const t="function"==typeof n?n(W):n;return bd.jsx(xy.Provider,{value:W,children:t})}():bd.jsx(ky,{type:"no-data",children:"function"==typeof h?h():h})}))});function $y(){return xd.useContext(xy)}function By(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.filter(Boolean);return r.length<=1?r[0]||null:function(e){for(var t=0,n=r;t<n.length;t++){var i=n[t];"function"==typeof i?i(e):i&&(i.current=e)}}}const Vy=xd.createContext(null);function Hy(){return xd.useContext(Vy)}function Uy(){const e=$y(),t=Hy();yy(t);const r=__spreadValues(__spreadValues({},e),t),{imageResourcesPath:n,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:o,onRenderAnnotationLayerSuccess:l,page:c,pdf:d,renderForms:u,rotate:h,scale:p=1}=r;yy(d),yy(c),yy(i);const[f,m]=Cy(),{value:_,error:v}=f,g=xd.useRef(null);by(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),xd.useEffect(function(){m({type:"RESET"})},[m,c]),xd.useEffect(function(){if(!c)return;const e=fy(c.getAnnotations()),t=e;return e.promise.then(e=>{m({type:"RESOLVE",value:e})}).catch(e=>{m({type:"REJECT",error:e})}),()=>{Dy(t)}},[m,c]),xd.useEffect(()=>{void 0!==_&&(!1!==_?_&&s&&s(_):v&&(by(!1,v.toString()),a&&a(v)))},[_]);const y=xd.useMemo(()=>c.getViewport({scale:p,rotation:h}),[c,h,p]);return xd.useEffect(function(){if(!(d&&c&&i&&_))return;const{current:e}=g;if(!e)return;const t=y.clone({dontFlip:!0}),r={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:c,structTreeLayer:null,viewport:t},a={annotations:_,annotationStorage:d.annotationStorage,div:e,imageResourcesPath:n,linkService:i,page:c,renderForms:u,viewport:t};e.innerHTML="";try{new Ng(r).render(a),l&&l()}catch(s){!function(e){by(!1,`${e}`),o&&o(e)}(s)}return()=>{}},[_,n,i,c,d,u,y]),bd.jsx("div",{className:iu("react-pdf__Page__annotations","annotationLayer"),ref:g})}const qy={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Xy=/^H(\d+)$/;function Ky(e){return"children"in e}function Yy(e){return!!Ky(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function Qy(e){const t={};if(Ky(e)){const{role:r}=e,n=r.match(Xy);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(function(e){return e in qy}(r)){const e=qy[r];e&&(t.role=e)}}return t}function Jy(e){const t={};if(Ky(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),Yy(e)){const[r]=e.children;if(r){const e=Jy(r);return __spreadValues(__spreadValues({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function Zy(e){return e?__spreadValues(__spreadValues({},Qy(e)),Jy(e)):null}function eb({className:e,node:t}){const r=xd.useMemo(()=>Zy(t),[t]),n=xd.useMemo(()=>Ky(t)?Yy(t)?null:t.children.map((e,t)=>bd.jsx(eb,{node:e},t)):null,[t]);return bd.jsx("span",__spreadProps(__spreadValues({className:e},r),{children:n}))}function tb(){const e=Hy();yy(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:r}=e,[n,i]=Cy(),{value:a,error:s}=n,{customTextRenderer:o,page:l}=e;return xd.useEffect(function(){i({type:"RESET"})},[i,l]),xd.useEffect(function(){if(o)return;if(!l)return;const e=fy(l.getStructTree()),t=e;return e.promise.then(e=>{i({type:"RESOLVE",value:e})}).catch(e=>{i({type:"REJECT",error:e})}),()=>Dy(t)},[o,l,i]),xd.useEffect(()=>{void 0!==a&&(!1!==a?a&&r&&r(a):s&&(by(!1,s.toString()),t&&t(s)))},[a]),a?bd.jsx(eb,{className:"react-pdf__Page__structTree structTree",node:a}):null}const rb=Kp;function nb(e){const t=Hy();yy(t);const r=__spreadValues(__spreadValues({},t),e),{_className:n,canvasBackground:i,devicePixelRatio:a=Ry(),onRenderError:s,onRenderSuccess:o,page:l,renderForms:c,renderTextLayer:d,rotate:u,scale:h}=r,{canvasRef:p}=e;yy(l);const f=xd.useRef(null);function m(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(by(!1,e.toString()),s&&s(e))}const _=xd.useMemo(()=>l.getViewport({scale:h*a,rotation:u}),[a,l,u,h]),v=xd.useMemo(()=>l.getViewport({scale:h,rotation:u}),[l,u,h]);xd.useEffect(function(){if(!l)return;l.cleanup();const{current:e}=f;if(!e)return;e.width=_.width,e.height=_.height,e.style.width=`${Math.floor(v.width)}px`,e.style.height=`${Math.floor(v.height)}px`,e.style.visibility="hidden";const t={annotationMode:c?rb.ENABLE_FORMS:rb.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:_};i&&(t.background=i);const r=l.render(t),n=r;return r.promise.then(()=>{e.style.visibility="",l&&o&&o(Iy(l,h))}).catch(m),()=>Dy(n)},[i,l,c,_,v]);const g=xd.useCallback(()=>{const{current:e}=f;e&&(e.width=0,e.height=0)},[]);return xd.useEffect(()=>g,[g]),bd.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:By(p,f),style:{display:"block",userSelect:"none"},children:d?bd.jsx(tb,{}):null})}function ib(){const e=Hy();yy(e);const{customTextRenderer:t,onGetTextError:r,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:s,pageIndex:o,pageNumber:l,rotate:c,scale:d}=e;yy(s);const[u,h]=Cy(),{value:p,error:f}=u,m=xd.useRef(null);by(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),xd.useEffect(function(){h({type:"RESET"})},[s,h]),xd.useEffect(function(){if(!s)return;const e=fy(s.getTextContent()),t=e;return e.promise.then(e=>{h({type:"RESOLVE",value:e})}).catch(e=>{h({type:"REJECT",error:e})}),()=>Dy(t)},[s,h]),xd.useEffect(()=>{void 0!==p&&(!1!==p?p&&n&&n(p):f&&(by(!1,f.toString()),r&&r(f)))},[p]);const _=xd.useCallback(()=>{a&&a()},[a]),v=xd.useCallback(e=>{by(!1,e.toString()),i&&i(e)},[i]);const g=xd.useMemo(()=>s.getViewport({scale:d,rotation:c}),[s,c,d]);return xd.useLayoutEffect(function(){if(!s||!p)return;const{current:e}=m;if(!e)return;e.innerHTML="";const r=s.streamTextContent({includeMarkedContent:!0}),n=new Pv({container:e,textContentSource:r,viewport:g}),i=n;return n.render().then(()=>{const r=document.createElement("div");r.className="endOfContent",e.append(r);const n=e.querySelectorAll('[role="presentation"]');if(t){let e=0;p.items.forEach((r,i)=>{if(!function(e){return"str"in e}(r))return;const a=n[e];if(!a)return;const s=t(__spreadValues({pageIndex:o,pageNumber:l,itemIndex:i},r));a.innerHTML=s,e+=r.str&&r.hasEOL?2:1})}_()}).catch(v),()=>Dy(i)},[t,v,_,s,o,l,p,g]),bd.jsx("div",{className:iu("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=m.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=m.current;e&&e.classList.add("selecting")},ref:m})}const ab=1;function sb(e){const t=$y(),r=__spreadValues(__spreadValues({},t),e),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:s,children:o,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:u,error:h="Failed to load the page.",height:p,inputRef:f,loading:m="Loading page…",noData:_="No page specified.",onGetAnnotationsError:v,onGetAnnotationsSuccess:g,onGetStructTreeError:y,onGetStructTreeSuccess:b,onGetTextError:x,onGetTextSuccess:w,onLoadError:k,onLoadSuccess:S,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:M,onRenderError:C,onRenderSuccess:N,onRenderTextLayerError:E,onRenderTextLayerSuccess:j,pageIndex:G,pageNumber:P,pdf:R,registerPage:T,renderAnnotationLayer:L=!0,renderForms:D=!1,renderMode:I="canvas",renderTextLayer:F=!0,rotate:O,scale:z=ab,unregisterPage:W,width:$}=r,B=__objRest(r,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[V,H]=Cy(),{value:U,error:q}=V,X=xd.useRef(null);yy(R);const K=jy(P)?P-1:null!=G?G:null,Y=null!=P?P:jy(G)?G+1:null,Q=null!=O?O:U?U.rotate:null,J=xd.useMemo(()=>{if(!U)return null;let e=1;const t=null!=z?z:ab;if($||p){const t=U.getViewport({scale:1,rotation:Q});$?e=$/t.width:p&&(e=p/t.height)}return t*e},[p,U,Q,z,$]);xd.useEffect(function(){return()=>{jy(K)&&i&&W&&W(K)}},[i,R,K,W]),xd.useEffect(function(){H({type:"RESET"})},[H,R,K]),xd.useEffect(function(){if(!R||!Y)return;const e=fy(R.getPage(Y)),t=e;return e.promise.then(e=>{H({type:"RESOLVE",value:e})}).catch(e=>{H({type:"REJECT",error:e})}),()=>Dy(t)},[H,R,Y]),xd.useEffect(()=>{void 0!==U&&(!1!==U?function(){if(S){if(!U||!J)return;S(Iy(U,J))}if(i&&T){if(!jy(K)||!X.current)return;T(K,X.current)}}():q&&(by(!1,q.toString()),k&&k(q)))},[U,J]);const Z=xd.useMemo(()=>jy(K)&&Y&&jy(Q)&&jy(J)?{_className:n,canvasBackground:a,customTextRenderer:d,devicePixelRatio:u,onGetAnnotationsError:v,onGetAnnotationsSuccess:g,onGetStructTreeError:y,onGetStructTreeSuccess:b,onGetTextError:x,onGetTextSuccess:w,onRenderAnnotationLayerError:A,onRenderAnnotationLayerSuccess:M,onRenderError:C,onRenderSuccess:N,onRenderTextLayerError:E,onRenderTextLayerSuccess:j,page:U,pageIndex:K,pageNumber:Y,renderForms:D,renderTextLayer:F,rotate:Q,scale:J}:null,[n,a,d,u,v,g,y,b,x,w,A,M,C,N,E,j,U,K,Y,D,F,Q,J]),ee=xd.useMemo(()=>_y(B,()=>U?J?Iy(U,J):void 0:U),[B,U,J]),te=`${K}@${J}/${Q}`;function re(){switch(I){case"custom":return yy(c),bd.jsx(c,{},`${te}_custom`);case"none":return null;default:return bd.jsx(nb,{canvasRef:s},`${te}_canvas`)}}return bd.jsx("div",__spreadProps(__spreadValues({className:iu(n,l),"data-page-number":Y,ref:By(f,X),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${J}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ee),{children:Y?null===R||null==U?bd.jsx(ky,{type:"loading",children:"function"==typeof m?m():m}):!1===R||!1===U?bd.jsx(ky,{type:"error",children:"function"==typeof h?h():h}):function(){if(e=Z,!Boolean(null==e?void 0:e.page))throw new Error("page is undefined");var e;const t="function"==typeof o?o(Z):o;return bd.jsxs(Vy.Provider,{value:Z,children:[re(),F?bd.jsx(ib,{},`${te}_text`):null,L?bd.jsx(Uy,{},`${te}_annotations`):null,t]})}():bd.jsx(ky,{type:"no-data",children:"function"==typeof _?_():_})}))}function ob(e){var t=e,{className:r}=t,n=__objRest(t,["className"]);return bd.jsx("div",__spreadValues({"data-slot":"card",className:fh("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",r)},n))}function lb(e){var t=e,{className:r}=t,n=__objRest(t,["className"]);return bd.jsx("div",__spreadValues({"data-slot":"card-content",className:fh("px-6 [&:last-child]:pb-6",r)},n))}function cb({title:e,url:t,pages:r,thumbnails:n,onDownload:i,onShare:a,metadata:s}){const{theme:o}=qd(),[l,c]=xd.useState("iframe"),[d,u]=xd.useState(!0),[h,p]=xd.useState(null),[f,m]=xd.useState(1),[_,v]=xd.useState(1.3),[g,y]=xd.useState(0),[b,x]=xd.useState(null),w=e.toLowerCase().includes("pitch")||e.toLowerCase().includes("deck")||e.toLowerCase().includes("presentation"),k=e.replace(/\.(pdf|PDF)$/,""),S=xd.useCallback(e=>__async(null,null,function*(){try{if(e.startsWith("blob:")){console.log("🔍 Validating blob PDF:",e);const t=yield fetch(e);if(!t.ok)throw new Error(`Failed to fetch PDF: ${t.status}`);const r=yield t.arrayBuffer(),n=new Uint8Array(r);if("%PDF"!==String.fromCharCode(...n.slice(0,4)))throw new Error("Invalid PDF format");return console.log("✅ PDF validated, size:",r.byteLength),x(n),!0}return x(e),!0}catch(t){return console.error("❌ PDF validation failed:",t),!1}}),[]),A=xd.useCallback(({numPages:e})=>{console.log("✅ PDF.js loaded successfully, pages:",e),p(e),u(!1)},[]),M=xd.useCallback(e=>{console.error("❌ PDF.js failed:",e.message),c("error"),u(!1)},[]);xd.useEffect(()=>{t&&(console.log("🚀 Initializing PDF viewer for:",t),u(!0),c("iframe"),t.startsWith("blob:")&&S(t))},[t,S]);return bd.jsxs("section",{className:"py-6 sm:py-8 lg:py-12 overflow-x-hidden",style:{backgroundColor:o.colors.backgroundSecondary},children:[bd.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6 sm:mb-8",children:bd.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[bd.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold mb-3 sm:mb-4 leading-tight px-2",style:{color:o.colors.textPrimary},children:k}),bd.jsx("p",{className:"text-base sm:text-lg lg:text-xl mb-4 sm:mb-6 opacity-80 px-4",style:{color:o.colors.textSecondary},children:(()=>{const e=h||r;return w?`${e}-slide presentation ready to view`:1===e?"Document ready to view":`${e}-page document ready to view`})()}),w&&bd.jsx("div",{className:"flex items-center justify-center mb-6 sm:mb-8",children:bd.jsxs(gh,{variant:"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-full",style:{backgroundColor:o.colors.success+"15",color:o.colors.success,border:`1px solid ${o.colors.success}30`},children:[bd.jsx(Ch,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1.5 sm:mr-2"}),h||r," Slides"]})})]})}),bd.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:bd.jsxs(ob,{className:"overflow-hidden shadow-lg sm:shadow-xl relative",style:{backgroundColor:o.colors.surface},children:[!1,"pdfjs"===l&&h&&bd.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3",children:bd.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[bd.jsxs("div",{className:"flex items-center gap-2",children:[bd.jsx(_h,{onClick:()=>m(e=>Math.max(1,e-1)),disabled:f<=1,variant:"outline",size:"sm",children:bd.jsx(jh,{className:"w-4 h-4"})}),bd.jsxs("span",{className:"text-sm font-medium px-3 py-1 bg-white rounded border",children:[f," of ",h]}),bd.jsx(_h,{onClick:()=>m(e=>Math.min(h||r,e+1)),disabled:f>=h,variant:"outline",size:"sm",children:bd.jsx(Gh,{className:"w-4 h-4"})})]}),bd.jsxs("div",{className:"flex items-center gap-2",children:[bd.jsx(_h,{onClick:()=>v(e=>Math.max(.5,e-.2)),variant:"outline",size:"sm",disabled:_<=.5,children:bd.jsx(Pp,{className:"w-4 h-4"})}),bd.jsxs(_h,{onClick:()=>v(1.3),variant:"outline",size:"sm",className:"text-xs px-2",children:[Math.round(100*_),"%"]}),bd.jsx(_h,{onClick:()=>v(e=>Math.min(3,e+.2)),variant:"outline",size:"sm",disabled:_>=3,children:bd.jsx(Gp,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>y(e=>(e+90)%360),variant:"outline",size:"sm",children:bd.jsx(mp,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>window.open(t,"_blank"),variant:"outline",size:"sm",children:bd.jsx(np,{className:"w-4 h-4"})})]})]})}),bd.jsxs("div",{className:`bg-gray-100 flex items-center justify-center overflow-auto relative ${"undefined"!=typeof window&&window.innerWidth<768?"h-[70vh]":"h-[80vh] max-h-[800px]"} min-h-[500px]`,children:["iframe"===l&&bd.jsxs("div",{className:`w-full bg-white relative ${"undefined"!=typeof window&&window.innerWidth<768?"h-[70vh]":"h-[80vh] max-h-[800px]"} min-h-[500px]`,children:[bd.jsx("iframe",{src:t,width:"100%",height:"100%",style:{border:"none",height:"undefined"!=typeof window?window.innerWidth<768?"70vh":"80vh":"70vh",maxHeight:"800px",minHeight:"500px"},onLoad:()=>{console.log("✅ Iframe PDF viewer loaded"),u(!1)},onError:()=>{console.log("❌ Iframe failed, switching to PDF.js"),c("pdfjs"),b||S(t)},title:`PDF: ${k}`}),d&&bd.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90",children:bd.jsxs("div",{className:"text-center",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:o.colors.primary}}),bd.jsx("p",{className:"text-gray-600",children:"Loading PDF viewer..."})]})})]}),"pdfjs"===l&&b&&bd.jsx("div",{className:"w-full flex justify-center py-4",children:bd.jsx(Wy,{file:b,onLoadSuccess:A,onLoadError:M,loading:bd.jsx("div",{className:"flex items-center justify-center py-20",children:bd.jsxs("div",{className:"text-center",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:o.colors.primary}}),bd.jsx("p",{className:"text-gray-600",children:"Rendering PDF..."})]})}),className:"flex justify-center",children:bd.jsx(sb,{pageNumber:f,scale:(()=>{if("undefined"==typeof window)return _;const e=Math.min(window.innerWidth-64,1e3),t=Math.min(e/612,_);return Math.max(1.2,t)})(),rotate:g,className:"shadow-lg border border-gray-300 max-w-full",loading:bd.jsx("div",{className:"w-full h-96 bg-white border border-gray-300 flex items-center justify-center",children:bd.jsx(tp,{className:"w-6 h-6 animate-spin",style:{color:o.colors.primary}})})})})}),"error"===l&&bd.jsxs("div",{className:"text-center p-8 max-w-md",children:[bd.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-3xl flex items-center justify-center shadow-xl",style:{backgroundColor:o.colors.primary},children:bd.jsx(zh,{className:"w-12 h-12",style:{color:o.colors.surface}})}),bd.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:k}),bd.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Unable to display PDF inline. Open in new tab to view."}),bd.jsxs("div",{className:"space-y-4",children:[bd.jsxs(_h,{onClick:()=>window.open(t,"_blank"),className:"w-full text-lg py-4",style:{backgroundColor:o.colors.primary,color:o.colors.surface},children:[bd.jsx(Oh,{className:"w-5 h-5 mr-3"}),"Open PDF Viewer"]}),bd.jsxs(_h,{onClick:i,variant:"outline",className:"w-full text-lg py-4",style:{borderColor:o.colors.primary,color:o.colors.primary},children:[bd.jsx(Lh,{className:"w-5 h-5 mr-3"}),"Download PDF"]})]})]})]}),bd.jsx("div",{className:"border-t border-gray-200 bg-gray-50 px-4 sm:px-6 py-3 sm:py-4",children:bd.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-center sm:justify-between",children:[bd.jsx("div",{className:"text-center sm:text-left",children:bd.jsxs("p",{className:"text-sm text-gray-600",children:[h||r," ",1===(h||r)?"page":"pages"," • ",(null==s?void 0:s.size)||"PDF Document"]})}),bd.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[bd.jsxs(_h,{onClick:()=>window.open(t,"_blank"),variant:"outline",className:"flex-1 sm:flex-none text-sm py-2",style:{borderColor:o.colors.primary,color:o.colors.primary},children:[bd.jsx(Oh,{className:"w-4 h-4 mr-2"}),"View"]}),bd.jsxs(_h,{onClick:i,className:"flex-1 sm:flex-none text-sm py-2",style:{backgroundColor:o.colors.primary,color:o.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download"]}),a&&bd.jsx(_h,{onClick:a,variant:"outline",size:"sm",className:"px-3",style:{borderColor:o.colors.border,color:o.colors.textSecondary},children:bd.jsx(gp,{className:"w-4 h-4"})})]})]})})]})}),bd.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 mt-6 sm:mt-8",children:bd.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[bd.jsxs(_h,{onClick:i,size:"lg",className:"w-full sm:flex-1 sm:max-w-xs px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold rounded-xl shadow-lg transition-all duration-300 hover:scale-105",style:{backgroundColor:o.colors.primary,color:o.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3"}),"Download PDF"]}),a&&bd.jsx("div",{className:"flex gap-3 sm:gap-4",children:bd.jsxs(_h,{onClick:a,variant:"outline",size:"lg",className:"flex-1 sm:flex-none px-4 sm:px-6 py-3 sm:py-4 text-sm sm:text-base rounded-xl shadow-lg transition-all duration-300 hover:scale-105",style:{borderColor:o.colors.border,backgroundColor:o.colors.surface,color:o.colors.textPrimary},children:[bd.jsx(gp,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2"}),bd.jsx("span",{className:"hidden sm:inline",children:"Share"})]})})]})})]})}function db(e,t=[]){let r=[];const n=()=>{const t=r.map(e=>xd.createContext(e));return function(r){const n=(null==r?void 0:r[e])||t;return xd.useMemo(()=>({[`__scope${e}`]:__spreadProps(__spreadValues({},r),{[e]:n})}),[r,n])}};return n.scopeName=e,[function(t,n){const i=xd.createContext(n),a=r.length;r=[...r,n];const s=t=>{var r;const n=t,{scope:s,children:o}=n,l=__objRest(n,["scope","children"]),c=(null==(r=null==s?void 0:s[e])?void 0:r[a])||i,d=xd.useMemo(()=>l,Object.values(l));return bd.jsx(c.Provider,{value:d,children:o})};return s.displayName=t+"Provider",[s,function(r,s){var o;const l=(null==(o=null==s?void 0:s[e])?void 0:o[a])||i,c=xd.useContext(l);if(c)return c;if(void 0!==n)return n;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},ub(n,...t)]}function ub(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const n=r.reduce((t,{useScope:r,scopeName:n})=>{const i=r(e)[`__scope${n}`];return __spreadValues(__spreadValues({},t),i)},{});return xd.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}by(!Ey,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Ty}`),nv.workerSrc="pdf.worker.mjs",nv.workerSrc="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js";var hb=Dd();const pb=cd(hb);var fb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const r=Jd(`Primitive.${t}`),n=xd.forwardRef((e,n)=>{const i=e,{asChild:a}=i,s=__objRest(i,["asChild"]),o=a?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),bd.jsx(o,__spreadProps(__spreadValues({},s),{ref:n}))});return n.displayName=`Primitive.${t}`,__spreadProps(__spreadValues({},e),{[t]:n})},{});var mb="Progress",_b=100,[vb,gb]=db(mb),[yb,bb]=vb(mb),xb=xd.forwardRef((e,t)=>{const r=e,{__scopeProgress:n,value:i=null,max:a,getValueLabel:s=Sb}=r,o=__objRest(r,["__scopeProgress","value","max","getValueLabel"]);!a&&0!==a||Cb(a)||console.error(`Invalid prop \`max\` of value \`${`${a}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const l=Cb(a)?a:_b;null===i||Nb(i,l)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${i}`,"Progress"));const c=Nb(i,l)?i:null,d=Mb(c)?s(c,l):void 0;return bd.jsx(yb,{scope:n,value:c,max:l,children:bd.jsx(fb.div,__spreadProps(__spreadValues({"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Mb(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":Ab(c,l),"data-value":null!=c?c:void 0,"data-max":l},o),{ref:t}))})});xb.displayName=mb;var wb="ProgressIndicator",kb=xd.forwardRef((e,t)=>{var r;const n=e,{__scopeProgress:i}=n,a=__objRest(n,["__scopeProgress"]),s=bb(wb,i);return bd.jsx(fb.div,__spreadProps(__spreadValues({"data-state":Ab(s.value,s.max),"data-value":null!=(r=s.value)?r:void 0,"data-max":s.max},a),{ref:t}))});function Sb(e,t){return`${Math.round(e/t*100)}%`}function Ab(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function Mb(e){return"number"==typeof e}function Cb(e){return Mb(e)&&!isNaN(e)&&e>0}function Nb(e,t){return Mb(e)&&!isNaN(e)&&e<=t&&e>=0}kb.displayName=wb;var Eb=xb,jb=kb;function Gb(e){var t=e,{className:r,value:n}=t,i=__objRest(t,["className","value"]);return bd.jsx(Eb,__spreadProps(__spreadValues({"data-slot":"progress",className:fh("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",r)},i),{children:bd.jsx(jb,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}))}function Pb({files:e,onDownload:t,onShare:r,autoPlay:n=!1,showThumbnails:i=!0}){const{theme:a}=qd(),s=xd.useRef(null),[o,l]=xd.useState(e[0]||null),[c,d]=xd.useState("single"),[u,h]=xd.useState(!1),[p,f]=xd.useState("iframe"),[m,_]=xd.useState(!0),[v,g]=xd.useState(0),[y,b]=xd.useState(null),[x,w]=xd.useState(1),[k,S]=xd.useState(1.3),[A,M]=xd.useState(0),[C,N]=xd.useState(null),[E,j]=xd.useState(n),[G,P]=xd.useState(5e3),[R,T]=xd.useState("bottom");xd.useEffect(()=>{const e=()=>{h(window.innerWidth<768),T(window.innerWidth<768?"bottom":"left")};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),xd.useEffect(()=>{if(!(null==o?void 0:o.isPitchDeck)||!E||!y)return;const e=setInterval(()=>{w(e=>e>=y?(j(!1),1):e+1)},G);return()=>clearInterval(e)},[E,null==o?void 0:o.isPitchDeck,y,G]);const L=e=>{const t=e.name.replace(/\.(pdf|PDF)$/,""),r=e.isPitchDeck||t.toLowerCase().includes("pitch")||t.toLowerCase().includes("deck")||t.toLowerCase().includes("presentation");return{cleanTitle:t,isPitchDeck:r,subtitle:r?`${e.pages}-slide presentation ready to view`:1===e.pages?"Document ready to view":`${e.pages}-page document ready to view`}},D=xd.useCallback(e=>__async(null,null,function*(){try{if(g(20),e.startsWith("blob:")){const t=yield fetch(e);if(!t.ok)throw new Error(`Failed to fetch PDF: ${t.status}`);g(50);const r=yield t.arrayBuffer(),n=new Uint8Array(r);if("%PDF"!==String.fromCharCode(...n.slice(0,4)))throw new Error("Invalid PDF format");return g(80),N(n),!0}return N(e),!0}catch(t){return console.error("❌ PDF validation failed:",t),f("error"),!1}finally{g(100)}}),[]),I=xd.useCallback(({numPages:e})=>{b(e),_(!1),g(100)},[]),F=xd.useCallback(e=>{console.error("❌ PDF.js failed:",e.message),f("error"),_(!1)},[]),O=e=>{l(e),w(1),_(!0),g(0),f("iframe"),e.url.startsWith("blob:")&&D(e.url)},z=()=>{if("undefined"==typeof window)return k;const e=Math.min(window.innerWidth-(i?280:64),1e3),t=Math.min(e/612,k);return Math.max(.8,t)};if(!o)return bd.jsxs("div",{className:"text-center py-20",children:[bd.jsx(zh,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),bd.jsx("p",{className:"text-gray-600",children:"No PDFs available"})]});const{cleanTitle:W,isPitchDeck:$,subtitle:B}=L(o);return bd.jsxs("section",{className:"py-6 sm:py-8 lg:py-12 overflow-hidden",style:{backgroundColor:a.colors.backgroundSecondary},ref:s,children:[bd.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6 sm:mb-8",children:bd.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.length>1&&bd.jsxs("div",{className:"flex items-center justify-center mb-4",children:[bd.jsx(_h,{onClick:()=>d("grid"===c?"single":"grid"),variant:"outline",size:"sm",className:"mr-4",children:"grid"===c?bd.jsxs(bd.Fragment,{children:[bd.jsx(Oh,{className:"w-4 h-4 mr-2"}),"View Selected"]}):bd.jsxs(bd.Fragment,{children:[bd.jsx(Xh,{className:"w-4 h-4 mr-2"}),"View All (",e.length,")"]})}),bd.jsxs(gh,{variant:"secondary",className:"px-3 py-1.5 text-sm",style:{backgroundColor:a.colors.primary+"15",color:a.colors.primary,border:`1px solid ${a.colors.primary}30`},children:[e.length," PDF",1!==e.length?"s":""," • ",e.reduce((e,t)=>e+t.pages,0)," Total Pages"]})]}),bd.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold mb-3 sm:mb-4 leading-tight px-2",style:{color:a.colors.textPrimary},children:W}),bd.jsx("p",{className:"text-base sm:text-lg lg:text-xl mb-4 sm:mb-6 opacity-80 px-4",style:{color:a.colors.textSecondary},children:B}),$&&bd.jsxs("div",{className:"flex items-center justify-center mb-6 sm:mb-8 gap-4",children:[bd.jsxs(gh,{variant:"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-full",style:{backgroundColor:a.colors.success+"15",color:a.colors.success,border:`1px solid ${a.colors.success}30`},children:[bd.jsx(Ch,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1.5 sm:mr-2"}),y||o.pages," Slides"]}),bd.jsxs("div",{className:"flex items-center gap-2",children:[bd.jsx(_h,{onClick:()=>j(!E),variant:"outline",size:"sm",className:"px-3 py-1.5",children:E?bd.jsx(dp,{className:"w-3 h-3"}):bd.jsx(up,{className:"w-3 h-3"})}),bd.jsxs("select",{value:G,onChange:e=>P(Number(e.target.value)),className:"text-xs bg-white border rounded px-2 py-1",children:[bd.jsx("option",{value:3e3,children:"3s"}),bd.jsx("option",{value:5e3,children:"5s"}),bd.jsx("option",{value:1e4,children:"10s"})]})]})]})]})}),"grid"===c&&e.length>1&&bd.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-8",children:bd.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:e.map(e=>{const{cleanTitle:t,isPitchDeck:r}=L(e);return bd.jsxs(ob,{className:"overflow-hidden cursor-pointer transition-all duration-300 hover:shadow-lg hover:scale-105 "+((null==o?void 0:o.id)===e.id?"ring-2 ring-blue-500 shadow-lg":""),onClick:()=>{O(e),d("single")},style:{backgroundColor:a.colors.surface},children:[bd.jsxs("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[e.coverPage?bd.jsx("img",{src:e.coverPage,alt:`${t} cover`,className:"w-full h-full object-cover"}):bd.jsx("div",{className:"flex items-center justify-center h-full",children:bd.jsx(zh,{className:"w-16 h-16 text-gray-400"})}),bd.jsx("div",{className:"absolute top-2 right-2",children:bd.jsx(gh,{variant:"secondary",className:"text-xs bg-black/70 text-white border-0",children:"PDF"})}),bd.jsx("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 flex items-center justify-center opacity-0 hover:opacity-100 transition-all duration-300",children:bd.jsx("div",{className:"bg-white/90 text-gray-900 px-3 py-2 rounded-lg text-sm font-medium",children:"Click to preview"})})]}),bd.jsxs(lb,{className:"p-4",children:[bd.jsx("h3",{className:"font-semibold text-sm mb-2 line-clamp-2",style:{color:a.colors.textPrimary},children:t}),bd.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[bd.jsxs("span",{children:[e.pages," pages"]}),bd.jsx("span",{children:e.size})]}),r&&bd.jsxs(gh,{variant:"secondary",className:"text-xs w-full justify-center py-1",style:{backgroundColor:a.colors.success+"15",color:a.colors.success},children:[bd.jsx(Ch,{className:"w-3 h-3 mr-1"}),"Presentation"]})]})]},e.id)})})}),"single"===c&&bd.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:bd.jsxs("div",{className:"flex gap-6 "+(u?"flex-col":"flex-row"),children:[i&&(o.thumbnails.length>0||y)&&bd.jsx("div",{className:""+("left"===R?"w-64 flex-shrink-0":"w-full order-2"),children:bd.jsx("div",{className:""+("left"===R?"space-y-2 max-h-[80vh] overflow-y-auto":"flex gap-2 overflow-x-auto pb-2"),children:Array.from({length:y||o.pages},(e,t)=>t+1).map(e=>bd.jsx("button",{onClick:()=>(e=>w(Math.max(1,Math.min(y||(null==o?void 0:o.pages)||1,e))))(e),className:`${"left"===R?"w-full aspect-[3/4]":"w-16 h-20 flex-shrink-0"} border-2 rounded-lg overflow-hidden transition-all duration-200 ${x===e?"border-blue-500 shadow-lg":"border-gray-200 hover:border-gray-300"}`,children:bd.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:bd.jsx("span",{className:"text-xs font-medium text-gray-600",children:e})})},e))})}),bd.jsxs("div",{className:"flex-1 min-w-0",children:[bd.jsxs(ob,{className:"overflow-hidden shadow-lg sm:shadow-xl relative",style:{backgroundColor:a.colors.surface},children:[m&&bd.jsx("div",{className:"absolute top-0 left-0 right-0 z-50",children:bd.jsx(Gb,{value:v,className:"h-1"})}),"pdfjs"===p&&y&&bd.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 px-4 py-3",children:[bd.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[bd.jsxs("div",{className:"flex items-center gap-2",children:[bd.jsx(_h,{onClick:()=>w(e=>Math.max(1,e-1)),disabled:x<=1,variant:"outline",size:"sm",children:bd.jsx(jh,{className:"w-4 h-4"})}),bd.jsxs("span",{className:"text-sm font-medium px-3 py-1 bg-white rounded border min-w-[100px] text-center",children:[x," of ",y]}),bd.jsx(_h,{onClick:()=>w(e=>Math.min(y||(null==o?void 0:o.pages)||1,e+1)),disabled:x>=y,variant:"outline",size:"sm",children:bd.jsx(Gh,{className:"w-4 h-4"})}),$&&bd.jsxs(bd.Fragment,{children:[bd.jsx(_h,{onClick:()=>w(1),variant:"outline",size:"sm",disabled:1===x,children:bd.jsx(yp,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>w(y),variant:"outline",size:"sm",disabled:x===y,children:bd.jsx(bp,{className:"w-4 h-4"})})]})]}),bd.jsxs("div",{className:"flex items-center gap-2",children:[bd.jsx(_h,{onClick:()=>S(e=>Math.max(.5,e-.2)),variant:"outline",size:"sm",disabled:k<=.5,children:bd.jsx(Pp,{className:"w-4 h-4"})}),bd.jsxs(_h,{onClick:()=>S(1.3),variant:"outline",size:"sm",className:"text-xs px-2 min-w-[60px]",children:[Math.round(100*z()),"%"]}),bd.jsx(_h,{onClick:()=>S(e=>Math.min(3,e+.2)),variant:"outline",size:"sm",disabled:k>=3,children:bd.jsx(Gp,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>M(e=>(e+90)%360),variant:"outline",size:"sm",children:bd.jsx(mp,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>window.open(o.url,"_blank"),variant:"outline",size:"sm",children:bd.jsx(np,{className:"w-4 h-4"})})]})]}),u&&bd.jsxs("div",{className:"flex items-center justify-center mt-3 gap-2",children:[bd.jsxs(_h,{variant:.8===k?"default":"outline",size:"sm",onClick:()=>S(.8),className:"text-xs",children:[bd.jsx(xp,{className:"w-3 h-3 mr-1"}),"Mobile"]}),bd.jsxs(_h,{variant:1===k?"default":"outline",size:"sm",onClick:()=>S(1),className:"text-xs",children:[bd.jsx(Sp,{className:"w-3 h-3 mr-1"}),"Tablet"]}),bd.jsxs(_h,{variant:1.3===k?"default":"outline",size:"sm",onClick:()=>S(1.3),className:"text-xs",children:[bd.jsx(sp,{className:"w-3 h-3 mr-1"}),"Desktop"]})]})]}),bd.jsxs("div",{className:`bg-gray-100 flex items-center justify-center overflow-auto relative ${u?"h-[70vh]":"h-[80vh] max-h-[800px]"} min-h-[500px]`,children:["iframe"===p&&bd.jsxs("div",{className:`w-full bg-white relative ${u?"h-[70vh]":"h-[80vh] max-h-[800px]"} min-h-[500px]`,children:[bd.jsx("iframe",{src:o.url,width:"100%",height:"100%",style:{border:"none",height:"undefined"!=typeof window?window.innerWidth<768?"70vh":"80vh":"70vh",maxHeight:"800px",minHeight:"500px"},onLoad:()=>{_(!1),g(100)},onError:()=>{f("pdfjs"),!C&&o&&D(o.url)},title:`PDF: ${W}`}),m&&bd.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90",children:bd.jsxs("div",{className:"text-center",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:a.colors.primary}}),bd.jsx("p",{className:"text-gray-600",children:"Loading PDF viewer..."}),bd.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Page ",x," of ",o.pages]})]})})]}),"pdfjs"===p&&C&&bd.jsx("div",{className:"w-full flex justify-center py-4",children:bd.jsx(Wy,{file:C,onLoadSuccess:I,onLoadError:F,loading:bd.jsx("div",{className:"flex items-center justify-center py-20",children:bd.jsxs("div",{className:"text-center",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:a.colors.primary}}),bd.jsx("p",{className:"text-gray-600",children:"Rendering PDF..."}),bd.jsx(Gb,{value:v,className:"w-48 mt-4"})]})}),className:"flex justify-center",children:bd.jsx(sb,{pageNumber:x,scale:z(),rotate:A,className:"shadow-lg border border-gray-300 max-w-full",loading:bd.jsx("div",{className:"w-full h-96 bg-white border border-gray-300 flex items-center justify-center",children:bd.jsx(tp,{className:"w-6 h-6 animate-spin",style:{color:a.colors.primary}})})})})}),"error"===p&&bd.jsxs("div",{className:"text-center p-8 max-w-md",children:[bd.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-3xl flex items-center justify-center shadow-xl",style:{backgroundColor:a.colors.primary},children:bd.jsx(zh,{className:"w-12 h-12",style:{color:a.colors.surface}})}),bd.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:W}),bd.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Unable to display PDF inline. Open in new tab to view."}),bd.jsx("div",{className:"space-y-4",children:bd.jsxs(_h,{onClick:()=>window.open(o.url,"_blank"),className:"w-full text-lg py-4",style:{backgroundColor:a.colors.primary,color:a.colors.surface},children:[bd.jsx(Oh,{className:"w-5 h-5 mr-3"}),"Open PDF Viewer"]})})]})]}),bd.jsx("div",{className:"border-t border-gray-200 bg-gray-50 px-4 sm:px-6 py-3 sm:py-4",children:bd.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-center sm:justify-between",children:[bd.jsxs("div",{className:"text-center sm:text-left",children:[bd.jsxs("p",{className:"text-sm text-gray-600",children:[y||o.pages," ",1===(y||o.pages)?"page":"pages"," • ",o.size]}),e.length>1&&bd.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["File ",e.findIndex(e=>e.id===o.id)+1," of ",e.length]})]}),bd.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[bd.jsxs(_h,{onClick:()=>window.open(o.url,"_blank"),variant:"outline",className:"flex-1 sm:flex-none text-sm py-2",style:{borderColor:a.colors.primary,color:a.colors.primary},children:[bd.jsx(Oh,{className:"w-4 h-4 mr-2"}),"View"]}),bd.jsxs(_h,{onClick:()=>null==t?void 0:t(o.id),className:"flex-1 sm:flex-none text-sm py-2",style:{backgroundColor:a.colors.primary,color:a.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download"]}),r&&bd.jsx(_h,{onClick:()=>r(o.id),variant:"outline",size:"sm",className:"px-3",style:{borderColor:a.colors.border,color:a.colors.textSecondary},children:bd.jsx(gp,{className:"w-4 h-4"})})]})]})})]}),e.length>1&&"single"===c&&bd.jsxs("div",{className:"flex items-center justify-between mt-6",children:[bd.jsxs(_h,{onClick:()=>{const t=e.findIndex(e=>e.id===o.id),r=e[t-1];r&&O(r)},variant:"outline",disabled:0===e.findIndex(e=>e.id===o.id),className:"flex items-center gap-2",children:[bd.jsx(jh,{className:"w-4 h-4"}),"Previous PDF"]}),bd.jsx("div",{className:"text-center",children:bd.jsxs("p",{className:"text-sm text-gray-600",children:["PDF ",e.findIndex(e=>e.id===o.id)+1," of ",e.length]})}),bd.jsxs(_h,{onClick:()=>{const t=e.findIndex(e=>e.id===o.id),r=e[t+1];r&&O(r)},variant:"outline",disabled:e.findIndex(e=>e.id===o.id)===e.length-1,className:"flex items-center gap-2",children:["Next PDF",bd.jsx(Gh,{className:"w-4 h-4"})]})]})]})]})}),bd.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 mt-6 sm:mt-8",children:bd.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[bd.jsxs(_h,{onClick:()=>null==t?void 0:t(o.id),size:"lg",className:"w-full sm:flex-1 sm:max-w-xs px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold rounded-xl shadow-lg transition-all duration-300 hover:scale-105",style:{backgroundColor:a.colors.primary,color:a.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3"}),"Download ",e.length>1?"Selected":"PDF"]}),e.length>1&&bd.jsxs(_h,{onClick:()=>{e.forEach(e=>null==t?void 0:t(e.id))},variant:"outline",size:"lg",className:"w-full sm:flex-1 sm:max-w-xs px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold rounded-xl shadow-lg transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.primary,backgroundColor:a.colors.surface,color:a.colors.primary},children:[bd.jsx(Lh,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3"}),"Download All (",e.length,")"]}),r&&bd.jsxs(_h,{onClick:()=>r(o.id),variant:"outline",size:"lg",className:"flex-1 sm:flex-none px-4 sm:px-6 py-3 sm:py-4 text-sm sm:text-base rounded-xl shadow-lg transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border,backgroundColor:a.colors.surface,color:a.colors.textPrimary},children:[bd.jsx(gp,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2"}),bd.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]})})]})}function Rb(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(null==e||e(n),!1===r||!n.defaultPrevented)return null==t?void 0:t(n)}}nv.workerSrc="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js";var Tb=(null==globalThis?void 0:globalThis.document)?xd.useLayoutEffect:()=>{},Lb=kd[" useId ".trim().toString()]||(()=>{}),Db=0;function Ib(e){const[t,r]=xd.useState(Lb());return Tb(()=>{r(e=>null!=e?e:String(Db++))},[e]),e||(t?`radix-${t}`:"")}var Fb=kd[" useInsertionEffect ".trim().toString()]||Tb;function Ob({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=function({defaultProp:e,onChange:t}){const[r,n]=xd.useState(e),i=xd.useRef(r),a=xd.useRef(t);return Fb(()=>{a.current=t},[t]),xd.useEffect(()=>{var e;i.current!==r&&(null==(e=a.current)||e.call(a,r),i.current=r)},[r,i]),[r,n,a]}({defaultProp:t,onChange:r}),o=void 0!==e,l=o?e:i;{const t=xd.useRef(void 0!==e);xd.useEffect(()=>{const e=t.current;if(e!==o){const t=e?"controlled":"uncontrolled",r=o?"controlled":"uncontrolled";console.warn(`${n} is changing from ${t} to ${r}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,n])}const c=xd.useCallback(t=>{var r;if(o){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&(null==(r=s.current)||r.call(s,n))}else a(t)},[o,e,a,s]);return[l,c]}function zb(e){const t=xd.useRef(e);return xd.useEffect(()=>{t.current=e}),xd.useMemo(()=>(...e)=>{var r;return null==(r=t.current)?void 0:r.call(t,...e)},[])}var Wb,$b="dismissableLayer.update",Bb="dismissableLayer.pointerDownOutside",Vb="dismissableLayer.focusOutside",Hb=xd.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ub=xd.forwardRef((e,t)=>{var r;const n=e,{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c}=n,d=__objRest(n,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),u=xd.useContext(Hb),[h,p]=xd.useState(null),f=null!=(r=null==h?void 0:h.ownerDocument)?r:null==globalThis?void 0:globalThis.document,[,m]=xd.useState({}),_=Qd(t,e=>p(e)),v=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),b=h?v.indexOf(h):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,k=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=zb(e),n=xd.useRef(!1),i=xd.useRef(()=>{});return xd.useEffect(()=>{const e=e=>{if(e.target&&!n.current){let n=function(){Xb(Bb,r,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{const t=e.target,r=[...u.branches].some(e=>e.contains(t));w&&!r&&(null==s||s(e),null==l||l(e),e.defaultPrevented||null==c||c())},f),S=function(e,t=(null==globalThis?void 0:globalThis.document)){const r=zb(e),n=xd.useRef(!1);return xd.useEffect(()=>{const e=e=>{if(e.target&&!n.current){Xb(Vb,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{const t=e.target;[...u.branches].some(e=>e.contains(t))||(null==o||o(e),null==l||l(e),e.defaultPrevented||null==c||c())},f);return function(e,t=(null==globalThis?void 0:globalThis.document)){const r=zb(e);xd.useEffect(()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{b===u.layers.size-1&&(null==a||a(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))},f),xd.useEffect(()=>{if(h)return i&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(Wb=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),qb(),()=>{i&&1===u.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=Wb)}},[h,f,i,u]),xd.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),qb())},[h,u]),xd.useEffect(()=>{const e=()=>m({});return document.addEventListener($b,e),()=>document.removeEventListener($b,e)},[]),bd.jsx(fb.div,__spreadProps(__spreadValues({},d),{ref:_,style:__spreadValues({pointerEvents:x?w?"auto":"none":void 0},e.style),onFocusCapture:Rb(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Rb(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Rb(e.onPointerDownCapture,k.onPointerDownCapture)}))});Ub.displayName="DismissableLayer";function qb(){const e=new CustomEvent($b);document.dispatchEvent(e)}function Xb(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?function(e,t){e&&hb.flushSync(()=>e.dispatchEvent(t))}(i,a):i.dispatchEvent(a)}xd.forwardRef((e,t)=>{const r=xd.useContext(Hb),n=xd.useRef(null),i=Qd(t,n);return xd.useEffect(()=>{const e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),bd.jsx(fb.div,__spreadProps(__spreadValues({},e),{ref:i}))}).displayName="DismissableLayerBranch";var Kb="focusScope.autoFocusOnMount",Yb="focusScope.autoFocusOnUnmount",Qb={bubbles:!1,cancelable:!0},Jb=xd.forwardRef((e,t)=>{const r=e,{loop:n=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:s}=r,o=__objRest(r,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[l,c]=xd.useState(null),d=zb(a),u=zb(s),h=xd.useRef(null),p=Qd(t,e=>c(e)),f=xd.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;xd.useEffect(()=>{if(i){let e=function(e){if(f.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:rx(h.current,{select:!0})},t=function(e){if(f.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||rx(h.current,{select:!0}))},r=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&rx(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const n=new MutationObserver(r);return l&&n.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),n.disconnect()}}},[i,l,f.paused]),xd.useEffect(()=>{if(l){nx.add(f);const t=document.activeElement;if(!l.contains(t)){const r=new CustomEvent(Kb,Qb);l.addEventListener(Kb,d),l.dispatchEvent(r),r.defaultPrevented||(!function(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(rx(n,{select:t}),document.activeElement!==r)return}((e=Zb(l),e.filter(e=>"A"!==e.tagName)),{select:!0}),document.activeElement===t&&rx(l))}return()=>{l.removeEventListener(Kb,d),setTimeout(()=>{const e=new CustomEvent(Yb,Qb);l.addEventListener(Yb,u),l.dispatchEvent(e),e.defaultPrevented||rx(null!=t?t:document.body,{select:!0}),l.removeEventListener(Yb,u),nx.remove(f)},0)}}var e},[l,d,u,f]);const m=xd.useCallback(e=>{if(!n&&!i)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=document.activeElement;if(t&&r){const t=e.currentTarget,[i,a]=function(e){const t=Zb(e),r=ex(t,e),n=ex(t.reverse(),e);return[r,n]}(t);i&&a?e.shiftKey||r!==a?e.shiftKey&&r===i&&(e.preventDefault(),n&&rx(a,{select:!0})):(e.preventDefault(),n&&rx(i,{select:!0})):r===t&&e.preventDefault()}},[n,i,f.paused]);return bd.jsx(fb.div,__spreadProps(__spreadValues({tabIndex:-1},o),{ref:p,onKeyDown:m}))});function Zb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ex(e,t){for(const r of e)if(!tx(r,{upTo:t}))return r}function tx(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function rx(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Jb.displayName="FocusScope";var nx=function(){let e=[];return{add(t){const r=e[0];t!==r&&(null==r||r.pause()),e=ix(e,t),e.unshift(t)},remove(t){var r;e=ix(e,t),null==(r=e[0])||r.resume()}}}();function ix(e,t){const r=[...e],n=r.indexOf(t);return-1!==n&&r.splice(n,1),r}var ax=xd.forwardRef((e,t)=>{var r;const n=e,{container:i}=n,a=__objRest(n,["container"]),[s,o]=xd.useState(!1);Tb(()=>o(!0),[]);const l=i||s&&(null==(r=null==globalThis?void 0:globalThis.document)?void 0:r.body);return l?pb.createPortal(bd.jsx(fb.div,__spreadProps(__spreadValues({},a),{ref:t})),l):null});ax.displayName="Portal";var sx=e=>{const{present:t,children:r}=e,n=function(e){const[t,r]=xd.useState(),n=xd.useRef(null),i=xd.useRef(e),a=xd.useRef("none"),s=e?"mounted":"unmounted",[o,l]=function(e,t){return xd.useReducer((e,r)=>{const n=t[e][r];return null!=n?n:e},e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return xd.useEffect(()=>{const e=ox(n.current);a.current="mounted"===o?e:"none"},[o]),Tb(()=>{const t=n.current,r=i.current;if(r!==e){const n=a.current,s=ox(t);if(e)l("MOUNT");else if("none"===s||"none"===(null==t?void 0:t.display))l("UNMOUNT");else{l(r&&n!==s?"ANIMATION_OUT":"UNMOUNT")}i.current=e}},[e,l]),Tb(()=>{var e;if(t){let r;const s=null!=(e=t.ownerDocument.defaultView)?e:window,o=e=>{const a=ox(n.current).includes(CSS.escape(e.animationName));if(e.target===t&&a&&(l("ANIMATION_END"),!i.current)){const e=t.style.animationFillMode;t.style.animationFillMode="forwards",r=s.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=e)})}},c=e=>{e.target===t&&(a.current=ox(n.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{s.clearTimeout(r),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:xd.useCallback(e=>{n.current=e?getComputedStyle(e):null,r(e)},[])}}(t),i="function"==typeof r?r({present:n.isPresent}):xd.Children.only(r),a=Qd(n.ref,function(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=n&&"isReactWarning"in n&&n.isReactWarning;if(i)return e.ref;if(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get,i=n&&"isReactWarning"in n&&n.isReactWarning,i)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof r||n.isPresent?xd.cloneElement(i,{ref:a}):null};function ox(e){return(null==e?void 0:e.animationName)||"none"}sx.displayName="Presence";var lx=0;function cx(){xd.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!=(e=r[0])?e:dx()),document.body.insertAdjacentElement("beforeend",null!=(t=r[1])?t:dx()),lx++,()=>{1===lx&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),lx--}},[])}function dx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ux=function(){return ux=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ux.apply(this,arguments)};function hx(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}"function"==typeof SuppressedError&&SuppressedError;var px="right-scroll-bar-position",fx="width-before-scroll-bar";function mx(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var _x="undefined"!=typeof window?xd.useLayoutEffect:xd.useEffect,vx=new WeakMap;function gx(e,t){var r,n,i,a=(r=null,n=function(t){return e.forEach(function(e){return mx(e,t)})},(i=xd.useState(function(){return{value:r,callback:n,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=n,i.facade);return _x(function(){var t=vx.get(a);if(t){var r=new Set(t),n=new Set(e),i=a.current;r.forEach(function(e){n.has(e)||mx(e,null)}),n.forEach(function(e){r.has(e)||mx(e,i)})}vx.set(a,e)},[e]),a}function yx(e){return e}var bx=function(e){var t=e.sideCar,r=hx(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return xd.createElement(n,ux({},r))};bx.isSideCarExport=!0;var xx=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=yx);var r=[],n=!1;return{read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var a=function(){var r=t;t=[],r.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),r={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),r}}}}}(null);return t.options=ux({async:!0,ssr:!1},e),t}(),wx=function(){},kx=xd.forwardRef(function(e,t){var r=xd.useRef(null),n=xd.useState({onScrollCapture:wx,onWheelCapture:wx,onTouchMoveCapture:wx}),i=n[0],a=n[1],s=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,u=e.shards,h=e.sideCar,p=e.noRelative,f=e.noIsolation,m=e.inert,_=e.allowPinchZoom,v=e.as,g=void 0===v?"div":v,y=e.gapMode,b=hx(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,w=gx([r,t]),k=ux(ux({},b),i);return xd.createElement(xd.Fragment,null,d&&xd.createElement(x,{sideCar:xx,removeScrollBar:c,shards:u,noRelative:p,noIsolation:f,inert:m,setCallbacks:a,allowPinchZoom:!!_,lockRef:r,gapMode:y}),s?xd.cloneElement(xd.Children.only(o),ux(ux({},k),{ref:w})):xd.createElement(g,ux({},k,{className:l,ref:w}),o))});kx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},kx.classNames={fullWidth:fx,zeroRight:px};function Sx(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}var Ax=function(){var e=0,t=null;return{add:function(r){var n,i;0==e&&(t=Sx())&&(i=r,(n=t).styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Mx=function(){var e,t=(e=Ax(),function(t,r){xd.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])});return function(e){var r=e.styles,n=e.dynamic;return t(r,n),null}},Cx={left:0,top:0,right:0,gap:0},Nx=function(e){return parseInt(e||"",10)||0},Ex=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return Cx;var t=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Nx(r),Nx(n),Nx(i)]}(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},jx=Mx(),Gx="data-scroll-locked",Px=function(e,t,r,n){var i=e.left,a=e.top,s=e.right,o=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(o,"px ").concat(n,";\n  }\n  body[").concat(Gx,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(px," {\n    right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(fx," {\n    margin-right: ").concat(o,"px ").concat(n,";\n  }\n  \n  .").concat(px," .").concat(px," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(fx," .").concat(fx," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(Gx,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},Rx=function(){var e=parseInt(document.body.getAttribute(Gx)||"0",10);return isFinite(e)?e:0},Tx=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=void 0===n?"margin":n;xd.useEffect(function(){return document.body.setAttribute(Gx,(Rx()+1).toString()),function(){var e=Rx()-1;e<=0?document.body.removeAttribute(Gx):document.body.setAttribute(Gx,e.toString())}},[]);var a=xd.useMemo(function(){return Ex(i)},[i]);return xd.createElement(jx,{styles:Px(a,!t,i,r?"":"!important")})},Lx=!1;if("undefined"!=typeof window)try{var Dx=Object.defineProperty({},"passive",{get:function(){return Lx=!0,!0}});window.addEventListener("test",Dx,Dx),window.removeEventListener("test",Dx,Dx)}catch(JA){Lx=!1}var Ix=!!Lx&&{passive:!1},Fx=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===r[t])},Ox=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),zx(e,n)){var i=Wx(e,n);if(i[1]>i[2])return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zx=function(e,t){return"v"===e?function(e){return Fx(e,"overflowY")}(t):function(e){return Fx(e,"overflowX")}(t)},Wx=function(e,t){return"v"===e?[(r=t).scrollTop,r.scrollHeight,r.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var r},$x=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bx=function(e){return[e.deltaX,e.deltaY]},Vx=function(e){return e&&"current"in e?e.current:e},Hx=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Ux=0,qx=[];function Xx(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Kx=(Yx=function(e){var t=xd.useRef([]),r=xd.useRef([0,0]),n=xd.useRef(),i=xd.useState(Ux++)[0],a=xd.useState(Mx)[0],s=xd.useRef(e);xd.useEffect(function(){s.current=e},[e]),xd.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Vx),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=xd.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,a=$x(e),o=r.current,l="deltaX"in e?e.deltaX:o[0]-a[0],c="deltaY"in e?e.deltaY:o[1]-a[1],d=e.target,u=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var h=Ox(u,d);if(!h)return!0;if(h?i=u:(i="v"===u?"h":"v",h=Ox(u,d)),!h)return!1;if(!n.current&&"changedTouches"in e&&(l||c)&&(n.current=i),!i)return!0;var p=n.current||i;return function(e,t,r,n){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*n,s=r.target,o=t.contains(s),l=!1,c=a>0,d=0,u=0;do{if(!s)break;var h=Wx(e,s),p=h[0],f=h[1]-h[2]-i*p;(p||f)&&zx(e,s)&&(d+=f,u+=p);var m=s.parentNode;s=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!o&&s!==document.body||o&&(t.contains(s)||t===s));return(c&&Math.abs(d)<1||!c&&Math.abs(u)<1)&&(l=!0),l}(p,t,e,"h"===p?l:c)},[]),l=xd.useCallback(function(e){var r=e;if(qx.length&&qx[qx.length-1]===a){var n="deltaY"in r?Bx(r):$x(r),i=t.current.filter(function(e){return e.name===r.type&&(e.target===r.target||r.target===e.shadowParent)&&(t=e.delta,i=n,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)r.cancelable&&r.preventDefault();else if(!i){var l=(s.current.shards||[]).map(Vx).filter(Boolean).filter(function(e){return e.contains(r.target)});(l.length>0?o(r,l[0]):!s.current.noIsolation)&&r.cancelable&&r.preventDefault()}}},[]),c=xd.useCallback(function(e,r,n,i){var a={name:e,delta:r,target:n,should:i,shadowParent:Xx(n)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),d=xd.useCallback(function(e){r.current=$x(e),n.current=void 0},[]),u=xd.useCallback(function(t){c(t.type,Bx(t),t.target,o(t,e.lockRef.current))},[]),h=xd.useCallback(function(t){c(t.type,$x(t),t.target,o(t,e.lockRef.current))},[]);xd.useEffect(function(){return qx.push(a),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Ix),document.addEventListener("touchmove",l,Ix),document.addEventListener("touchstart",d,Ix),function(){qx=qx.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,Ix),document.removeEventListener("touchmove",l,Ix),document.removeEventListener("touchstart",d,Ix)}},[]);var p=e.removeScrollBar,f=e.inert;return xd.createElement(xd.Fragment,null,f?xd.createElement(a,{styles:Hx(i)}):null,p?xd.createElement(Tx,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},xx.useMedium(Yx),bx);var Yx,Qx=xd.forwardRef(function(e,t){return xd.createElement(kx,ux({},e,{ref:t,sideCar:Kx}))});Qx.classNames=kx.classNames;var Jx=new WeakMap,Zx=new WeakMap,ew={},tw=0,rw=function(e){return e&&(e.host||rw(e.parentNode))},nw=function(e,t,r,n){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var r=rw(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);ew[r]||(ew[r]=new WeakMap);var a=ew[r],s=[],o=new Set,l=new Set(i),c=function(e){e&&!o.has(e)&&(o.add(e),c(e.parentNode))};i.forEach(c);var d=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(o.has(e))d(e);else try{var t=e.getAttribute(n),i=null!==t&&"false"!==t,l=(Jx.get(e)||0)+1,c=(a.get(e)||0)+1;Jx.set(e,l),a.set(e,c),s.push(e),1===l&&i&&Zx.set(e,!0),1===c&&e.setAttribute(r,"true"),i||e.setAttribute(n,"true")}catch(u){console.error("aria-hidden: cannot operate on ",e,u)}})};return d(t),o.clear(),tw++,function(){s.forEach(function(e){var t=Jx.get(e)-1,i=a.get(e)-1;Jx.set(e,t),a.set(e,i),t||(Zx.has(e)||e.removeAttribute(n),Zx.delete(e)),i||e.removeAttribute(r)}),--tw||(Jx=new WeakMap,Jx=new WeakMap,Zx=new WeakMap,ew={})}},iw=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),nw(n,i,r,"aria-hidden")):function(){return null}},aw="Dialog",[sw,ow]=db(aw),[lw,cw]=sw(aw),dw=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=xd.useRef(null),l=xd.useRef(null),[c,d]=Ob({prop:n,defaultProp:null!=i&&i,onChange:a,caller:aw});return bd.jsx(lw,{scope:t,triggerRef:o,contentRef:l,contentId:Ib(),titleId:Ib(),descriptionId:Ib(),open:c,onOpenChange:d,onOpenToggle:xd.useCallback(()=>d(e=>!e),[d]),modal:s,children:r})};dw.displayName=aw;var uw="DialogTrigger";xd.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,i=__objRest(r,["__scopeDialog"]),a=cw(uw,n),s=Qd(t,a.triggerRef);return bd.jsx(fb.button,__spreadProps(__spreadValues({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":jw(a.open)},i),{ref:s,onClick:Rb(e.onClick,a.onOpenToggle)}))}).displayName=uw;var hw="DialogPortal",[pw,fw]=sw(hw,{forceMount:void 0}),mw=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=cw(hw,t);return bd.jsx(pw,{scope:t,forceMount:r,children:xd.Children.map(n,e=>bd.jsx(sx,{present:r||a.open,children:bd.jsx(ax,{asChild:!0,container:i,children:e})}))})};mw.displayName=hw;var _w="DialogOverlay",vw=xd.forwardRef((e,t)=>{const r=fw(_w,e.__scopeDialog),n=e,{forceMount:i=r.forceMount}=n,a=__objRest(n,["forceMount"]),s=cw(_w,e.__scopeDialog);return s.modal?bd.jsx(sx,{present:i||s.open,children:bd.jsx(yw,__spreadProps(__spreadValues({},a),{ref:t}))}):null});vw.displayName=_w;var gw=Jd("DialogOverlay.RemoveScroll"),yw=xd.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,i=__objRest(r,["__scopeDialog"]),a=cw(_w,n);return bd.jsx(Qx,{as:gw,allowPinchZoom:!0,shards:[a.contentRef],children:bd.jsx(fb.div,__spreadProps(__spreadValues({"data-state":jw(a.open)},i),{ref:t,style:__spreadValues({pointerEvents:"auto"},i.style)}))})}),bw="DialogContent",xw=xd.forwardRef((e,t)=>{const r=fw(bw,e.__scopeDialog),n=e,{forceMount:i=r.forceMount}=n,a=__objRest(n,["forceMount"]),s=cw(bw,e.__scopeDialog);return bd.jsx(sx,{present:i||s.open,children:s.modal?bd.jsx(ww,__spreadProps(__spreadValues({},a),{ref:t})):bd.jsx(kw,__spreadProps(__spreadValues({},a),{ref:t}))})});xw.displayName=bw;var ww=xd.forwardRef((e,t)=>{const r=cw(bw,e.__scopeDialog),n=xd.useRef(null),i=Qd(t,r.contentRef,n);return xd.useEffect(()=>{const e=n.current;if(e)return iw(e)},[]),bd.jsx(Sw,__spreadProps(__spreadValues({},e),{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rb(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null==(t=r.triggerRef.current)||t.focus()}),onPointerDownOutside:Rb(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:Rb(e.onFocusOutside,e=>e.preventDefault())}))}),kw=xd.forwardRef((e,t)=>{const r=cw(bw,e.__scopeDialog),n=xd.useRef(!1),i=xd.useRef(!1);return bd.jsx(Sw,__spreadProps(__spreadValues({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(n.current||null==(s=r.triggerRef.current)||s.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=r.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),Sw=xd.forwardRef((e,t)=>{const r=e,{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s}=r,o=__objRest(r,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),l=cw(bw,n),c=xd.useRef(null),d=Qd(t,c);return cx(),bd.jsxs(bd.Fragment,{children:[bd.jsx(Jb,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:bd.jsx(Ub,__spreadProps(__spreadValues({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":jw(l.open)},o),{ref:d,onDismiss:()=>l.onOpenChange(!1)}))}),bd.jsxs(bd.Fragment,{children:[bd.jsx(Tw,{titleId:l.titleId}),bd.jsx(Lw,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Aw="DialogTitle",Mw=xd.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,i=__objRest(r,["__scopeDialog"]),a=cw(Aw,n);return bd.jsx(fb.h2,__spreadProps(__spreadValues({id:a.titleId},i),{ref:t}))});Mw.displayName=Aw;var Cw="DialogDescription";xd.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,i=__objRest(r,["__scopeDialog"]),a=cw(Cw,n);return bd.jsx(fb.p,__spreadProps(__spreadValues({id:a.descriptionId},i),{ref:t}))}).displayName=Cw;var Nw="DialogClose",Ew=xd.forwardRef((e,t)=>{const r=e,{__scopeDialog:n}=r,i=__objRest(r,["__scopeDialog"]),a=cw(Nw,n);return bd.jsx(fb.button,__spreadProps(__spreadValues({type:"button"},i),{ref:t,onClick:Rb(e.onClick,()=>a.onOpenChange(!1))}))});function jw(e){return e?"open":"closed"}Ew.displayName=Nw;var Gw="DialogTitleWarning",[Pw,Rw]=function(e,t){const r=xd.createContext(t),n=e=>{const t=e,{children:n}=t,i=__objRest(t,["children"]),a=xd.useMemo(()=>i,Object.values(i));return bd.jsx(r.Provider,{value:a,children:n})};return n.displayName=e+"Provider",[n,function(n){const i=xd.useContext(r);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${n}\` must be used within \`${e}\``)}]}(Gw,{contentName:bw,titleName:Aw,docsSlug:"dialog"}),Tw=({titleId:e})=>{const t=Rw(Gw),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return xd.useEffect(()=>{if(e){document.getElementById(e)||console.error(r)}},[r,e]),null},Lw=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Rw("DialogDescriptionWarning").contentName}}.`;return xd.useEffect(()=>{var n;const i=null==(n=e.current)?void 0:n.getAttribute("aria-describedby");if(t&&i){document.getElementById(t)||console.warn(r)}},[r,e,t]),null},Dw=dw,Iw=mw,Fw=vw,Ow=xw,zw=Mw,Ww=Ew;function $w(e){var t=__objRest(e,[]);return bd.jsx(Dw,__spreadValues({"data-slot":"dialog"},t))}function Bw(e){var t=__objRest(e,[]);return bd.jsx(Iw,__spreadValues({"data-slot":"dialog-portal"},t))}function Vw(e){var t=e,{className:r}=t,n=__objRest(t,["className"]);return bd.jsx(Fw,__spreadValues({"data-slot":"dialog-overlay",className:fh("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",r)},n))}function Hw(t){var r=t,{className:n,children:i}=r,a=__objRest(r,["className","children"]);return bd.jsxs(Bw,{"data-slot":"dialog-portal",children:[bd.jsx(Vw,{}),bd.jsxs(Ow,__spreadProps(__spreadValues({"data-slot":"dialog-content",className:fh("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n)},a),{children:[i,bd.jsxs(Ww,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[bd.jsx(e.XIcon,{}),bd.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function Uw(e){var t=e,{className:r}=t,n=__objRest(t,["className"]);return bd.jsx("div",__spreadValues({"data-slot":"dialog-header",className:fh("flex flex-col gap-2 text-center sm:text-left",r)},n))}function qw(e){var t=e,{className:r}=t,n=__objRest(t,["className"]);return bd.jsx(zw,__spreadValues({"data-slot":"dialog-title",className:fh("text-lg leading-none font-semibold",r)},n))}"undefined"==typeof window||nv.workerSrc||(nv.workerSrc="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js");class Xw{static getCanvas(){if(!(this.canvas&&this.context||(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context)))throw new Error("Cannot create canvas context");return{canvas:this.canvas,context:this.context}}static generatePageThumbnail(e,t){return __async(this,arguments,function*(e,t,r={}){try{const{scale:n=.3,quality:i=.8,format:a="jpeg"}=r,s=yield Tv(e).promise,o=yield s.getPage(t),l=o.getViewport({scale:n}),{canvas:c,context:d}=this.getCanvas();c.height=l.height,c.width=l.width,yield o.render({canvasContext:d,viewport:l}).promise;return{pageNumber:t,dataUrl:c.toDataURL(`image/${a}`,i),width:l.width,height:l.height}}catch(n){return console.error(`Error generating thumbnail for page ${t}:`,n),null}})}static generateThumbnails(e){return __async(this,arguments,function*(e,t={}){try{const{maxPages:r=5,scale:n=.3,quality:i=.8,format:a="jpeg"}=t,s=(yield Tv(e).promise).numPages,o=Math.min(s,r);console.log(`📄 Generating thumbnails for ${o} pages of ${s}`);const l=[];for(let t=1;t<=o;t++)l.push(this.generatePageThumbnail(e,t,{scale:n,quality:i,format:a}));const c=(yield Promise.allSettled(l)).map((e,t)=>"fulfilled"===e.status&&e.value?e.value:(console.warn(`Failed to generate thumbnail for page ${t+1}`),null)).filter(e=>null!==e);return console.log(`✅ Generated ${c.length} thumbnails`),c}catch(r){return console.error("Error generating PDF thumbnails:",r),[]}})}static generateCoverThumbnail(e){return __async(this,arguments,function*(e,t={}){const r=yield this.generatePageThumbnail(e,1,t);return(null==r?void 0:r.dataUrl)||null})}static generateThumbnailsWithProgress(e){return __async(this,arguments,function*(e,t={},r){try{const{maxPages:n=5}=t,i=(yield Tv(e).promise).numPages,a=Math.min(i,n),s=[];for(let o=1;o<=a;o++){null==r||r(o-1,a);const n=yield this.generatePageThumbnail(e,o,t);n&&s.push(n),null==r||r(o,a)}return s}catch(n){return console.error("Error generating PDF thumbnails with progress:",n),[]}})}static createPlaceholderThumbnail(e,t=150,r=200){const n=document.createElement("canvas"),i=n.getContext("2d");return n.width=t,n.height=r,i.fillStyle="#f3f4f6",i.fillRect(0,0,t,r),i.strokeStyle="#d1d5db",i.lineWidth=2,i.strokeRect(1,1,t-2,r-2),i.fillStyle="#6b7280",i.font="16px sans-serif",i.textAlign="center",i.textBaseline="middle",i.fillText(e.toString(),t/2,r/2),{pageNumber:e,dataUrl:n.toDataURL("image/jpeg",.8),width:t,height:r}}}function Kw({title:e,url:t,pages:r,thumbnails:n=[],onDownload:i,onShare:a,metadata:s,showThumbnailFirst:o=!0}){const{theme:l}=qd(),[c,d]=xd.useState(!1),[u,h]=xd.useState(!1),[p,f]=xd.useState("iframe"),[m,_]=xd.useState(!0),[v,g]=xd.useState(0),[y,b]=xd.useState(null),[x,w]=xd.useState(1),[k,S]=xd.useState(1),[A,M]=xd.useState(0),[C,N]=xd.useState(null),[E,j]=xd.useState(!1),[G,P]=xd.useState(5e3),{thumbnails:R,coverThumbnail:T,isGenerating:L,progress:D,error:I,regenerate:F}=function(e,t={}){const[r,n]=wd.useState([]),[i,a]=wd.useState(null),[s,o]=wd.useState(!1),[l,c]=wd.useState(0),[d,u]=wd.useState(null),h=wd.useCallback(()=>__async(null,null,function*(){if(e){o(!0),u(null),c(0);try{const r=yield Xw.generateCoverThumbnail(e,__spreadValues({scale:.5},t));a(r);const i=yield Xw.generateThumbnailsWithProgress(e,t,(e,t)=>c(e/t*100));n(i)}catch(JA){u(JA instanceof Error?JA.message:"Failed to generate thumbnails"),console.error("Thumbnail generation error:",JA)}finally{o(!1)}}}),[e,t]);return wd.useEffect(()=>{h()},[h]),{thumbnails:r,coverThumbnail:i,isGenerating:s,progress:l,error:d,regenerate:h}}(t,{scale:.3,maxPages:10,quality:.8,format:"jpeg"}),O=n.length>0?n:R.map(e=>e.dataUrl),z=n[0]||T,W=e.toLowerCase().includes("pitch")||e.toLowerCase().includes("deck")||e.toLowerCase().includes("presentation"),$=e.replace(/\.(pdf|PDF)$/,""),B=()=>{const e=y||r;return W?`${e}-slide presentation ready to view`:1===e?"Document ready to view":`${e}-page document ready to view`};xd.useEffect(()=>{const e=()=>h(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),xd.useEffect(()=>{if(!(W&&E&&y&&c))return;const e=setInterval(()=>{w(e=>e>=y?(j(!1),1):e+1)},G);return()=>clearInterval(e)},[E,W,y,G,c]);const V=xd.useCallback(e=>__async(null,null,function*(){try{if(g(20),e.startsWith("blob:")){const t=yield fetch(e);if(!t.ok)throw new Error(`Failed to fetch PDF: ${t.status}`);g(50);const r=yield t.arrayBuffer(),n=new Uint8Array(r);if("%PDF"!==String.fromCharCode(...n.slice(0,4)))throw new Error("Invalid PDF format");return g(80),N(n),!0}return N(e),!0}catch(t){return console.error("❌ PDF validation failed:",t),f("error"),!1}finally{g(100)}}),[]),H=xd.useCallback(({numPages:e})=>{b(e),_(!1),g(100)},[]),U=xd.useCallback(e=>{console.error("❌ PDF.js failed:",e.message),f("error"),_(!1)},[]),q=()=>{_(!1),g(100)},X=()=>{f("pdfjs"),C||V(t)};xd.useEffect(()=>{c&&!C&&(_(!0),g(0),V(t))},[c,C,t,V]);const K=()=>bd.jsxs(ob,{className:"overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>d(!0),style:{backgroundColor:l.colors.surface},children:[bd.jsxs("div",{className:"relative h-[400px] bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[L&&bd.jsxs("div",{className:"absolute inset-0 bg-white/90 flex flex-col items-center justify-center z-10",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mb-3",style:{color:l.colors.primary}}),bd.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Generating preview..."}),bd.jsx(Gb,{value:D,className:"w-32"})]}),z?bd.jsx("img",{src:z,alt:`${$} preview`,className:"w-full h-full object-contain bg-white"}):L?null:bd.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[bd.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center shadow-lg mb-4",style:{backgroundColor:l.colors.primary},children:bd.jsx(zh,{className:"w-10 h-10",style:{color:l.colors.surface}})}),bd.jsx("p",{className:"text-lg font-semibold text-gray-700 mb-2",children:$}),bd.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[r," pages • ",null==s?void 0:s.size]}),I&&bd.jsxs("div",{className:"text-center",children:[bd.jsx("p",{className:"text-xs text-red-600 mb-2",children:"Preview generation failed"}),bd.jsxs(_h,{onClick:e=>{e.stopPropagation(),F()},variant:"outline",size:"sm",children:[bd.jsx(pp,{className:"w-3 h-3 mr-1"}),"Retry"]})]})]}),bd.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 flex items-center justify-center",children:bd.jsx("div",{className:"opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300",children:bd.jsxs(_h,{size:"lg",className:"px-6 py-3 text-lg font-semibold shadow-xl",style:{backgroundColor:l.colors.primary,color:l.colors.surface},children:[bd.jsx(Ih,{className:"w-5 h-5 mr-2"}),"Expand to Full View"]})})}),bd.jsx("div",{className:"absolute top-4 right-4",children:bd.jsxs(gh,{variant:"secondary",className:"bg-black/70 text-white border-0 backdrop-blur-sm",children:["PDF • ",r," pages"]})}),O.length>1&&bd.jsx("div",{className:"absolute bottom-4 left-4",children:bd.jsxs(gh,{variant:"secondary",className:"bg-white/90 text-gray-800 border-0 backdrop-blur-sm text-xs",children:[O.length," previews ready"]})})]}),bd.jsxs(lb,{className:"p-4 sm:p-6",children:[bd.jsx("h3",{className:"text-xl font-bold mb-2 line-clamp-2",style:{color:l.colors.textPrimary},children:$}),bd.jsx("p",{className:"text-sm text-gray-600 mb-4",children:B()}),W&&bd.jsxs(gh,{variant:"secondary",className:"mb-4",style:{backgroundColor:l.colors.success+"15",color:l.colors.success,border:`1px solid ${l.colors.success}30`},children:[bd.jsx(Ch,{className:"w-3 h-3 mr-1"}),"Presentation"]}),bd.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[bd.jsxs(_h,{onClick:e=>{e.stopPropagation(),d(!0)},variant:"outline",className:"flex-1",style:{borderColor:l.colors.primary,color:l.colors.primary},children:[bd.jsx(Oh,{className:"w-4 h-4 mr-2"}),"View"]}),bd.jsxs(_h,{onClick:e=>{e.stopPropagation(),null==i||i()},className:"flex-1",style:{backgroundColor:l.colors.primary,color:l.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})]});return bd.jsxs("section",{className:"py-6 sm:py-8 lg:py-12",style:{backgroundColor:l.colors.backgroundSecondary},children:[bd.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6 sm:mb-8",children:bd.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[bd.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold mb-3 sm:mb-4 leading-tight px-2",style:{color:l.colors.textPrimary},children:$}),bd.jsx("p",{className:"text-base sm:text-lg lg:text-xl mb-4 sm:mb-6 opacity-80 px-4",style:{color:l.colors.textSecondary},children:B()}),W&&bd.jsx("div",{className:"flex items-center justify-center mb-6 sm:mb-8",children:bd.jsxs(gh,{variant:"secondary",className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-full",style:{backgroundColor:l.colors.success+"15",color:l.colors.success,border:`1px solid ${l.colors.success}30`},children:[bd.jsx(Ch,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1.5 sm:mr-2"}),y||r," Slides"]})})]})}),bd.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:o?bd.jsx(K,{}):bd.jsxs(ob,{className:"overflow-hidden shadow-lg sm:shadow-xl relative",style:{backgroundColor:l.colors.surface},children:[m&&bd.jsx("div",{className:"absolute top-0 left-0 right-0 z-50",children:bd.jsx(Gb,{value:v,className:"h-1"})}),bd.jsxs("div",{className:`bg-gray-100 flex items-center justify-center overflow-auto relative ${u?"h-[70vh]":"h-[80vh] max-h-[800px]"} min-h-[500px]`,children:[bd.jsx("iframe",{src:t,width:"100%",height:"100%",style:{border:"none",height:u?"70vh":"80vh",maxHeight:"800px",minHeight:"500px"},onLoad:q,onError:X,title:`PDF: ${$}`}),m&&bd.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90",children:bd.jsxs("div",{className:"text-center",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:l.colors.primary}}),bd.jsx("p",{className:"text-gray-600",children:"Loading PDF viewer..."})]})})]})]})}),bd.jsx($w,{open:c,onOpenChange:d,children:bd.jsxs(Hw,{className:"max-w-[95vw] max-h-[95vh] w-full h-full p-0 overflow-hidden",children:[bd.jsxs(Uw,{className:"border-b border-gray-200 bg-gray-50 px-6 py-4 flex flex-row items-center justify-between",children:[bd.jsxs(qw,{className:"text-xl font-bold flex items-center gap-3",children:[bd.jsx(zh,{className:"w-6 h-6",style:{color:l.colors.primary}}),$]}),bd.jsxs("div",{className:"flex items-center gap-2",children:[W&&y&&bd.jsxs(bd.Fragment,{children:[bd.jsx(_h,{onClick:()=>w(1),variant:"outline",size:"sm",disabled:1===x,children:bd.jsx(yp,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>w(e=>Math.max(1,e-1)),variant:"outline",size:"sm",disabled:x<=1,children:bd.jsx(jh,{className:"w-4 h-4"})}),bd.jsxs("span",{className:"text-sm font-medium px-3 py-1 bg-white rounded border min-w-[80px] text-center",children:[x," / ",y]}),bd.jsx(_h,{onClick:()=>w(e=>Math.min(y||r,e+1)),variant:"outline",size:"sm",disabled:x>=y,children:bd.jsx(Gh,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>w(y),variant:"outline",size:"sm",disabled:x===y,children:bd.jsx(bp,{className:"w-4 h-4"})}),bd.jsx(_h,{onClick:()=>j(!E),variant:"outline",size:"sm",children:E?bd.jsx(dp,{className:"w-4 h-4"}):bd.jsx(up,{className:"w-4 h-4"})})]}),bd.jsx(_h,{onClick:()=>window.open(t,"_blank"),variant:"outline",size:"sm",children:bd.jsx(np,{className:"w-4 h-4"})})]})]}),bd.jsxs("div",{className:"h-[90vh] bg-gray-100 flex items-center justify-center overflow-auto relative",children:["iframe"===p&&bd.jsx("iframe",{src:t,width:"100%",height:"100%",style:{border:"none"},onLoad:q,onError:X,title:`PDF Modal: ${$}`}),"pdfjs"===p&&C&&bd.jsx("div",{className:"w-full flex justify-center py-4",children:bd.jsx(Wy,{file:C,onLoadSuccess:H,onLoadError:U,loading:bd.jsx("div",{className:"flex items-center justify-center py-20",children:bd.jsxs("div",{className:"text-center",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:l.colors.primary}}),bd.jsx("p",{className:"text-gray-600",children:"Rendering PDF..."}),bd.jsx(Gb,{value:v,className:"w-48 mt-4"})]})}),className:"flex justify-center",children:bd.jsx(sb,{pageNumber:x,scale:(()=>{if("undefined"==typeof window)return k;const e=Math.min(window.innerWidth-64,1e3),t=Math.min(e/612,k);return Math.max(.8,t)})(),rotate:A,className:"shadow-lg border border-gray-300 max-w-full",loading:bd.jsx("div",{className:"w-full h-96 bg-white border border-gray-300 flex items-center justify-center",children:bd.jsx(tp,{className:"w-6 h-6 animate-spin",style:{color:l.colors.primary}})})})})}),m&&bd.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-90",children:bd.jsxs("div",{className:"text-center",children:[bd.jsx(tp,{className:"w-8 h-8 animate-spin mx-auto mb-4",style:{color:l.colors.primary}}),bd.jsx("p",{className:"text-gray-600",children:"Loading full PDF viewer..."}),bd.jsx(Gb,{value:v,className:"w-48 mt-4"})]})})]})]})}),bd.jsx("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 mt-6 sm:mt-8",children:bd.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[bd.jsxs(_h,{onClick:i,size:"lg",className:"w-full sm:flex-1 sm:max-w-xs px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-semibold rounded-xl shadow-lg transition-all duration-300 hover:scale-105",style:{backgroundColor:l.colors.primary,color:l.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 sm:mr-3"}),"Download PDF"]}),a&&bd.jsxs(_h,{onClick:a,variant:"outline",size:"lg",className:"flex-1 sm:flex-none px-4 sm:px-6 py-3 sm:py-4 text-sm sm:text-base rounded-xl shadow-lg transition-all duration-300 hover:scale-105",style:{borderColor:l.colors.border,backgroundColor:l.colors.surface,color:l.colors.textPrimary},children:[bd.jsx(gp,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1.5 sm:mr-2"}),"Share"]})]})})]})}function Yw({title:e,url:t,poster:r,duration:n,onDownload:i,metadata:a}){const{theme:s}=qd(),[o,l]=xd.useState(!1),[c,d]=xd.useState(!1),[u,h]=xd.useState(75),[p,f]=xd.useState(0),[m,_]=xd.useState(!1),[v,g]=xd.useState(!0),[y,b]=xd.useState(!1),[x,w]=xd.useState(1),k=180,S=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,A=()=>{l(!o)},M=e=>{const t=Math.max(0,Math.min(k,p+e));f(t)};return bd.jsx("section",{className:"py-6 sm:py-8 lg:py-12 px-3 sm:px-4 lg:px-6 pb-8 sm:pb-12 lg:pb-20",style:{backgroundColor:s.colors.backgroundSecondary},children:bd.jsxs("div",{className:"max-w-6xl mx-auto",children:[bd.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-6 sm:mb-8",children:[bd.jsxs("div",{className:"mb-4 sm:mb-6 lg:mb-0",children:[bd.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-2 sm:mb-3",children:[bd.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{backgroundColor:s.colors.warning},children:bd.jsx(Mp,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:s.colors.surface}})}),bd.jsxs(gh,{className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:s.colors.warning+"20",color:s.colors.warning},children:["Video • ",n||S(k)]})]}),bd.jsx("h2",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-bold mb-2",style:{color:s.colors.textPrimary},children:e}),a&&bd.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-xs sm:text-sm",children:[bd.jsxs("span",{style:{color:s.colors.textSecondary},children:["Size: ",a.size]}),bd.jsxs("span",{style:{color:s.colors.textSecondary},children:["Format: ",a.format]}),a.resolution&&bd.jsxs("span",{style:{color:s.colors.textSecondary},children:["Resolution: ",a.resolution]}),a.bitrate&&bd.jsxs("span",{style:{color:s.colors.textSecondary},children:["Bitrate: ",a.bitrate]})]})]}),bd.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 lg:gap-4",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>b(!y),className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105 text-xs sm:text-sm",style:{borderColor:s.colors.border},children:[bd.jsx(Kh,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 transition-colors "+(y?"fill-current":""),style:{color:y?s.colors.error:s.colors.textSecondary}}),bd.jsx("span",{className:"hidden sm:inline",children:y?"Liked":"Like"})]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105 text-xs sm:text-sm",style:{borderColor:s.colors.border},children:[bd.jsx(gp,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),bd.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),bd.jsxs(_h,{size:"sm",onClick:i,className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105 text-xs sm:text-sm",style:{backgroundColor:s.colors.warning,color:s.colors.surface},children:[bd.jsx(Lh,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),bd.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})]}),bd.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[bd.jsx("div",{className:"lg:col-span-3",children:bd.jsx(ob,{className:"overflow-hidden shadow-2xl",style:{backgroundColor:s.colors.surface},children:bd.jsxs("div",{className:"relative aspect-video bg-black group cursor-pointer",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!o),onClick:A,children:[bd.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r?bd.jsx("img",{src:r,alt:"Video poster",className:"w-full h-full object-cover"}):bd.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{backgroundColor:s.colors.backgroundTertiary},children:bd.jsx(Mp,{className:"w-24 h-24",style:{color:s.colors.textMuted}})})}),!o&&bd.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:bd.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-2xl transform hover:scale-110 transition-transform duration-200",style:{backgroundColor:s.colors.surface+"90"},children:bd.jsx(up,{className:"w-8 h-8 ml-1",style:{color:s.colors.primary}})})}),bd.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent transition-opacity duration-300 "+(v?"opacity-100":"opacity-0"),children:bd.jsxs("div",{className:"p-6 space-y-4",children:[bd.jsx("div",{className:"relative",children:bd.jsx("div",{className:"h-1 rounded-full cursor-pointer",style:{backgroundColor:s.colors.overlay},onClick:e=>{const t=e.currentTarget.getBoundingClientRect();(e=>{f(e)})((e.clientX-t.left)/t.width*k)},children:bd.jsx("div",{className:"h-full rounded-full relative",style:{backgroundColor:s.colors.primary,width:p/k*100+"%"},children:bd.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-3 h-3 rounded-full shadow-lg",style:{backgroundColor:s.colors.surface}})})})}),bd.jsxs("div",{className:"flex items-center justify-between text-white",children:[bd.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[bd.jsx(_h,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),A()},className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full text-white hover:bg-white/20",children:o?bd.jsx(dp,{className:"w-4 h-4 sm:w-5 sm:h-5"}):bd.jsx(up,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-0.5"})}),bd.jsx(_h,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),M(-10)},className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full text-white hover:bg-white/20",children:bd.jsx(yp,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),bd.jsx(_h,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),M(10)},className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full text-white hover:bg-white/20",children:bd.jsx(bp,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),bd.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[bd.jsx(_h,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),d(!c)},className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full text-white hover:bg-white/20",children:c||0===u?bd.jsx(Np,{className:"w-3 h-3 sm:w-4 sm:h-4"}):bd.jsx(Cp,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),bd.jsx("div",{className:"w-16 sm:w-20 hidden md:block",children:bd.jsx("input",{type:"range",min:"0",max:"100",value:c?0:u,onChange:e=>{return t=Number(e.target.value),h(t),void d(0===t);var t},className:"w-full h-1 bg-white/30 rounded-lg appearance-none cursor-pointer",onClick:e=>e.stopPropagation()})})]}),bd.jsxs("div",{className:"text-xs sm:text-sm font-mono hidden sm:block",children:[S(p)," / ",S(k)]})]}),bd.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[bd.jsxs("div",{className:"relative group hidden sm:block",children:[bd.jsxs(_h,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 text-xs",onClick:e=>e.stopPropagation(),children:[x,"x"]}),bd.jsx("div",{className:"absolute bottom-full mb-2 right-0 bg-black/90 rounded-lg p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:bd.jsx("div",{className:"flex flex-col space-y-1",children:[.5,.75,1,1.25,1.5,2].map(e=>bd.jsxs("button",{onClick:t=>{t.stopPropagation(),w(e)},className:"px-3 py-1 text-xs rounded "+(e===x?"bg-white/20":"hover:bg-white/10"),children:[e,"x"]},e))})})]}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"w-8 h-8 rounded-full text-white hover:bg-white/20",onClick:e=>e.stopPropagation(),children:bd.jsx(vp,{className:"w-4 h-4"})}),bd.jsx(_h,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),_(!m)},className:"w-8 h-8 rounded-full text-white hover:bg-white/20",children:bd.jsx(ip,{className:"w-4 h-4"})})]})]})]})})]})})}),bd.jsxs("div",{className:"space-y-6",children:[bd.jsx(ob,{style:{backgroundColor:s.colors.surface},children:bd.jsxs(lb,{className:"p-4",children:[bd.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[bd.jsx(Oh,{className:"w-5 h-5",style:{color:s.colors.primary}}),bd.jsx("h3",{className:"font-semibold",style:{color:s.colors.textPrimary},children:"Video Info"})]}),bd.jsxs("div",{className:"space-y-3 text-sm",children:[bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Duration:"}),bd.jsx("span",{style:{color:s.colors.textPrimary},children:n||S(k)})]}),bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Size:"}),bd.jsx("span",{style:{color:s.colors.textPrimary},children:null==a?void 0:a.size})]}),bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Format:"}),bd.jsx("span",{style:{color:s.colors.textPrimary},children:null==a?void 0:a.format})]}),(null==a?void 0:a.resolution)&&bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Resolution:"}),bd.jsx("span",{style:{color:s.colors.textPrimary},children:a.resolution})]}),(null==a?void 0:a.bitrate)&&bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Bitrate:"}),bd.jsx("span",{style:{color:s.colors.textPrimary},children:a.bitrate})]})]})]})}),bd.jsx(ob,{style:{backgroundColor:s.colors.surface},children:bd.jsxs(lb,{className:"p-4",children:[bd.jsx("h3",{className:"font-semibold mb-4",style:{color:s.colors.textPrimary},children:"Playback"}),bd.jsxs("div",{className:"space-y-3 text-sm",children:[bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Current Time:"}),bd.jsx("span",{style:{color:s.colors.textPrimary},children:S(p)})]}),bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Speed:"}),bd.jsxs("span",{style:{color:s.colors.textPrimary},children:[x,"x"]})]}),bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Volume:"}),bd.jsx("span",{style:{color:s.colors.textPrimary},children:c?"Muted":`${u}%`})]}),bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:s.colors.textSecondary},children:"Progress:"}),bd.jsxs("span",{style:{color:s.colors.textPrimary},children:[Math.round(p/k*100),"%"]})]})]})]})}),bd.jsx(ob,{style:{backgroundColor:s.colors.surface},children:bd.jsxs(lb,{className:"p-4",children:[bd.jsx("h3",{className:"font-semibold mb-4",style:{color:s.colors.textPrimary},children:"Quick Actions"}),bd.jsxs("div",{className:"space-y-2",children:[bd.jsxs(_h,{variant:"outline",size:"sm",className:"w-full justify-start rounded-xl",onClick:()=>f(0),children:[bd.jsx(fp,{className:"w-4 h-4 mr-2"}),"Restart Video"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"w-full justify-start rounded-xl",onClick:()=>window.open(t,"_blank"),children:[bd.jsx(Oh,{className:"w-4 h-4 mr-2"}),"Open in New Tab"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"w-full justify-start rounded-xl",onClick:()=>{const r=document.createElement("a");r.href=t,r.download=e,r.click()},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download Video"]})]})]})})]})]})]})})}__publicField(Xw,"canvas",null),__publicField(Xw,"context",null),nv.workerSrc="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js";const Qw=e=>{switch(e){case"document":return bd.jsx(zh,{className:"w-4 h-4"});case"image":return bd.jsx(Yh,{className:"w-4 h-4"});case"video":return bd.jsx(Mp,{className:"w-4 h-4"});case"audio":return bd.jsx(lp,{className:"w-4 h-4"});case"archive":return bd.jsx(Ah,{className:"w-4 h-4"});default:return bd.jsx(Wh,{className:"w-4 h-4"})}},Jw=(e,t)=>{switch(t){case"document":return e.colors.info;case"image":return e.colors.success;case"video":return e.colors.warning;case"audio":return e.colors.accent;case"archive":return e.colors.textSecondary;default:return e.colors.textMuted}};function Zw({title:e,files:t,totalFiles:r,onDownload:n,metadata:i}){const{theme:a}=qd(),[s,o]=xd.useState(new Set),[l,c]=xd.useState(""),[d,u]=xd.useState(new Set),[h,p]=xd.useState("tree"),[f,m]=xd.useState("name"),[_,v]=xd.useState(!1),g=e=>{const t=new Set(d);t.has(e)?t.delete(e):t.add(e),u(t)},y=(e,t=0,r="")=>e.map((e,n)=>{const i=`${r}/${e.name}`,l=s.has(i),c=d.has(i);return bd.jsxs("div",{className:"select-none",children:[bd.jsxs("div",{className:"flex items-center p-3 rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md "+(c?"ring-2 ring-offset-2":""),style:__spreadValues({paddingLeft:20*t+12+"px",backgroundColor:c?a.colors.primaryLight:a.colors.surface,ringColor:a.colors.primary},t>0&&{marginLeft:8*t+"px"}),onClick:()=>{"folder"===e.type?(e=>{const t=new Set(s);t.has(e)?t.delete(e):t.add(e),o(t)})(i):g(i)},children:["folder"===e.type&&bd.jsx("div",{className:"mr-2 w-4 h-4 flex items-center justify-center",children:l?bd.jsx(Eh,{className:"w-3 h-3",style:{color:a.colors.textSecondary}}):bd.jsx(Gh,{className:"w-3 h-3",style:{color:a.colors.textSecondary}})}),bd.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3 shadow-sm",style:{backgroundColor:"folder"===e.type?a.colors.warning+"20":Jw(a,e.fileType)+"20",color:"folder"===e.type?a.colors.warning:Jw(a,e.fileType)},children:"folder"===e.type?l?bd.jsx(Bh,{className:"w-4 h-4"}):bd.jsx(Vh,{className:"w-4 h-4"}):Qw(e.fileType)}),bd.jsx("div",{className:"flex-1 min-w-0",children:bd.jsxs("div",{className:"flex items-center justify-between",children:[bd.jsxs("div",{className:"flex-1 min-w-0",children:[bd.jsx("p",{className:"font-medium truncate",style:{color:a.colors.textPrimary},children:e.name}),bd.jsxs("div",{className:"flex items-center space-x-3 text-xs mt-1",children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:e.size}),e.modified&&bd.jsx("span",{style:{color:a.colors.textMuted},children:e.modified}),e.fileType&&"file"===e.type&&bd.jsx(gh,{className:"px-2 py-0.5 text-xs",style:{backgroundColor:Jw(a,e.fileType)+"20",color:Jw(a,e.fileType)},children:e.fileType})]})]}),"file"===e.type&&bd.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.url&&bd.jsx(_h,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:t=>{t.stopPropagation(),window.open(e.url,"_blank")},children:bd.jsx(Oh,{className:"w-3 h-3"})}),bd.jsx(_h,{variant:"ghost",size:"sm",className:"w-8 h-8 p-0 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation()},children:bd.jsx(Lh,{className:"w-3 h-3"})})]})]})})]}),"folder"===e.type&&l&&e.children&&bd.jsx("div",{className:"ml-2",children:y(e.children,t+1,i)})]},`${i}-${n}`)}),b=t.filter(e=>e.name.toLowerCase().includes(l.toLowerCase()));return bd.jsx("section",{className:"py-12 px-6 pb-20",style:{backgroundColor:a.colors.backgroundSecondary},children:bd.jsxs("div",{className:"max-w-7xl mx-auto",children:[bd.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-8",children:[bd.jsxs("div",{className:"mb-6 lg:mb-0",children:[bd.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[bd.jsx("div",{className:"w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg",style:{backgroundColor:a.colors.textSecondary},children:bd.jsx(Ah,{className:"w-6 h-6",style:{color:a.colors.surface}})}),bd.jsxs(gh,{className:"px-3 py-1 text-sm font-medium",style:{backgroundColor:a.colors.textSecondary+"20",color:a.colors.textSecondary},children:["Archive • ",r," files"]})]}),bd.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-2",style:{color:a.colors.textPrimary},children:e}),i&&bd.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Size: ",i.size]}),bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Format: ",i.format]}),i.compressed&&bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Compressed: ",i.compressed]}),i.ratio&&bd.jsxs("span",{style:{color:a.colors.textSecondary},children:["Compression: ",i.ratio]})]})]}),bd.jsxs("div",{className:"flex items-center space-x-4",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>v(!_),className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border},children:[bd.jsx(Kh,{className:"w-4 h-4 mr-2 transition-colors "+(_?"fill-current":""),style:{color:_?a.colors.error:a.colors.textSecondary}}),_?"Liked":"Like"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{borderColor:a.colors.border},children:[bd.jsx(gp,{className:"w-4 h-4 mr-2"}),"Share"]}),bd.jsxs(_h,{size:"sm",onClick:n,className:"rounded-xl shadow-md transition-all duration-300 hover:scale-105",style:{backgroundColor:a.colors.textSecondary,color:a.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download Archive"]})]})]}),bd.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[bd.jsx("div",{className:"lg:col-span-3",children:bd.jsxs(ob,{className:"overflow-hidden shadow-lg",style:{backgroundColor:a.colors.surface},children:[bd.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",style:{backgroundColor:a.colors.backgroundSecondary,borderColor:a.colors.border},children:[bd.jsxs("div",{className:"flex items-center space-x-4",children:[bd.jsxs("div",{className:"relative",children:[bd.jsx(_p,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4",style:{color:a.colors.textMuted}}),bd.jsx("input",{type:"text",placeholder:"Search files...",value:l,onChange:e=>c(e.target.value),className:"pl-10 pr-4 py-2 rounded-lg border text-sm min-w-[250px] focus:outline-none focus:ring-2 focus:ring-offset-1",style:{backgroundColor:a.colors.surface,borderColor:a.colors.border,color:a.colors.textPrimary,focusRingColor:a.colors.primary}})]}),bd.jsxs("select",{value:f,onChange:e=>m(e.target.value),className:"px-3 py-2 rounded-lg border text-sm focus:outline-none focus:ring-2 focus:ring-offset-1",style:{backgroundColor:a.colors.surface,borderColor:a.colors.border,color:a.colors.textPrimary},children:[bd.jsx("option",{value:"name",children:"Sort by Name"}),bd.jsx("option",{value:"size",children:"Sort by Size"}),bd.jsx("option",{value:"type",children:"Sort by Type"}),bd.jsx("option",{value:"date",children:"Sort by Date"})]})]}),bd.jsx("div",{className:"flex items-center space-x-2",children:d.size>0&&bd.jsxs(_h,{variant:"outline",size:"sm",className:"rounded-lg",children:["Download Selected (",d.size,")"]})})]}),bd.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:bd.jsx("div",{className:"p-4 space-y-1",children:l?b.length>0?b.map((e,t)=>bd.jsx("div",{children:bd.jsxs("div",{className:"flex items-center p-3 rounded-lg cursor-pointer transition-all duration-200 hover:shadow-md",style:{backgroundColor:a.colors.backgroundSecondary},onClick:()=>g(e.name),children:[bd.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3 shadow-sm",style:{backgroundColor:Jw(a,e.fileType)+"20",color:Jw(a,e.fileType)},children:Qw(e.fileType)}),bd.jsxs("div",{className:"flex-1",children:[bd.jsx("p",{className:"font-medium",style:{color:a.colors.textPrimary},children:e.name}),bd.jsx("p",{className:"text-sm",style:{color:a.colors.textSecondary},children:e.size})]})]})},t)):bd.jsxs("div",{className:"text-center py-12",children:[bd.jsx(_p,{className:"w-12 h-12 mx-auto mb-4",style:{color:a.colors.textMuted}}),bd.jsxs("p",{style:{color:a.colors.textSecondary},children:['No files found matching "',l,'"']})]}):bd.jsx("div",{className:"space-y-1",children:y(t)})})})]})}),bd.jsxs("div",{className:"space-y-6",children:[bd.jsx(ob,{style:{backgroundColor:a.colors.surface},children:bd.jsxs(lb,{className:"p-4",children:[bd.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[bd.jsx(Oh,{className:"w-5 h-5",style:{color:a.colors.primary}}),bd.jsx("h3",{className:"font-semibold",style:{color:a.colors.textPrimary},children:"Archive Info"})]}),bd.jsxs("div",{className:"space-y-3 text-sm",children:[bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:"Files:"}),bd.jsx("span",{style:{color:a.colors.textPrimary},children:r})]}),bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:"Size:"}),bd.jsx("span",{style:{color:a.colors.textPrimary},children:null==i?void 0:i.size})]}),bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:"Format:"}),bd.jsx("span",{style:{color:a.colors.textPrimary},children:null==i?void 0:i.format})]}),(null==i?void 0:i.compressed)&&bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:"Compressed:"}),bd.jsx("span",{style:{color:a.colors.textPrimary},children:i.compressed})]}),(null==i?void 0:i.ratio)&&bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:"Ratio:"}),bd.jsx("span",{style:{color:a.colors.textPrimary},children:i.ratio})]})]})]})}),d.size>0&&bd.jsx(ob,{style:{backgroundColor:a.colors.surface},children:bd.jsxs(lb,{className:"p-4",children:[bd.jsx("h3",{className:"font-semibold mb-4",style:{color:a.colors.textPrimary},children:"Selected Files"}),bd.jsxs("div",{className:"space-y-2 text-sm",children:[bd.jsxs("div",{className:"flex justify-between",children:[bd.jsx("span",{style:{color:a.colors.textSecondary},children:"Count:"}),bd.jsx("span",{style:{color:a.colors.textPrimary},children:d.size})]}),bd.jsx(_h,{variant:"outline",size:"sm",className:"w-full rounded-xl",onClick:()=>u(new Set),children:"Clear Selection"}),bd.jsxs(_h,{size:"sm",className:"w-full rounded-xl",style:{backgroundColor:a.colors.primary,color:a.colors.surface},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-2"}),"Download Selected"]})]})]})}),bd.jsx(ob,{style:{backgroundColor:a.colors.surface},children:bd.jsxs(lb,{className:"p-4",children:[bd.jsx("h3",{className:"font-semibold mb-4",style:{color:a.colors.textPrimary},children:"Quick Actions"}),bd.jsxs("div",{className:"space-y-2",children:[bd.jsxs(_h,{variant:"outline",size:"sm",className:"w-full justify-start rounded-xl",onClick:()=>{o(new Set(t.map(e=>e.name)))},children:[bd.jsx(Bh,{className:"w-4 h-4 mr-2"}),"Expand All"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"w-full justify-start rounded-xl",onClick:()=>o(new Set),children:[bd.jsx(Vh,{className:"w-4 h-4 mr-2"}),"Collapse All"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"w-full justify-start rounded-xl",children:[bd.jsx(Hh,{className:"w-4 h-4 mr-2"}),"Filter by Type"]})]})]})})]})]})]})})}function ek({title:e,content:t,onDownload:r,metadata:n}){const{theme:i}=qd(),[a,s]=xd.useState(""),[o,l]=xd.useState(14),[c,d]=xd.useState(!1),[u,h]=xd.useState(!0),[p,f]=xd.useState(!0),[m,_]=xd.useState(!0),[v,g]=xd.useState("preview"),[y,b]=xd.useState(!1),x=t.split("\n");!a||x.map((e,t)=>({lineNumber:t+1,line:e,matches:e.toLowerCase().includes(a.toLowerCase())})).filter(e=>e.matches);const w=e=>{switch(null==e?void 0:e.toLowerCase()){case"javascript":case"js":return"#f7df1e";case"typescript":case"ts":return"#3178c6";case"python":return"#306998";case"java":return"#ed8b00";case"html":return"#e34f26";case"css":return"#1572b6";case"json":return"#000000";case"markdown":case"md":return"#083fa1";case"xml":return"#0060ac";case"sql":return"#336791";default:return i.colors.textSecondary}};return bd.jsx("section",{className:"py-6 sm:py-12 px-3 sm:px-6 pb-8 sm:pb-20",style:{backgroundColor:i.colors.backgroundSecondary},children:bd.jsx("div",{className:"max-w-6xl mx-auto",children:y?bd.jsxs("div",{className:"space-y-6",children:[bd.jsx("div",{className:"space-y-4 sm:space-y-0 sm:flex sm:items-center sm:justify-between",children:bd.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-3 sm:space-y-0 sm:space-x-6 lg:space-x-8",children:[bd.jsx(_h,{variant:"outline",onClick:()=>b(!1),className:"rounded-lg w-fit px-4 py-2 h-10",size:"sm",children:"← Back to Card"}),bd.jsxs("div",{className:"min-w-0",children:[bd.jsx("h2",{className:"text-xl sm:text-2xl font-bold leading-tight mb-1",style:{color:i.colors.textPrimary},children:e}),bd.jsx("p",{className:"text-sm",style:{color:i.colors.textMuted},children:"Full document preview"})]})]})}),bd.jsxs(ob,{className:"overflow-hidden shadow-xl",style:{backgroundColor:i.colors.surface},children:[bd.jsxs("div",{className:"flex flex-col space-y-3 px-3 sm:px-6 py-3 sm:py-4 border-b lg:flex-row lg:items-center lg:justify-between lg:space-y-0",style:{backgroundColor:i.colors.backgroundSecondary,borderColor:i.colors.border},children:[bd.jsxs("div",{className:"flex rounded-lg border overflow-hidden w-full lg:w-auto",style:{borderColor:i.colors.border},children:[bd.jsxs(_h,{variant:"preview"===v?"default":"ghost",size:"sm",onClick:()=>g("preview"),className:"rounded-none px-3 sm:px-4 flex-1 lg:flex-none text-xs sm:text-sm h-8",style:"preview"===v?{backgroundColor:i.colors.primary,color:i.colors.surface}:{},children:[bd.jsx(Mh,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Preview"]}),bd.jsxs(_h,{variant:"raw"===v?"default":"ghost",size:"sm",onClick:()=>g("raw"),className:"rounded-none px-3 sm:px-4 flex-1 lg:flex-none text-xs sm:text-sm h-8",style:"raw"===v?{backgroundColor:i.colors.primary,color:i.colors.surface}:{},children:[bd.jsx(zh,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Raw"]})]}),bd.jsxs("div",{className:"flex items-center justify-between lg:justify-start lg:space-x-2",children:[bd.jsx("span",{className:"text-xs sm:text-sm text-center",style:{color:i.colors.textMuted},children:"Font Size"}),bd.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[bd.jsx(_h,{variant:"ghost",size:"sm",onClick:()=>l(Math.max(10,o-2)),disabled:o<=10,className:"p-1 sm:p-2 h-8 w-8",children:bd.jsx(Pp,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),bd.jsxs("span",{className:"text-xs sm:text-sm font-mono min-w-[2.5rem] sm:min-w-[3rem] text-center px-2 py-1 rounded",style:{color:i.colors.textSecondary,backgroundColor:i.colors.background},children:[o,"px"]}),bd.jsx(_h,{variant:"ghost",size:"sm",onClick:()=>l(Math.min(24,o+2)),disabled:o>=24,className:"p-1 sm:p-2 h-8 w-8",children:bd.jsx(Gp,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]}),bd.jsx("div",{className:"max-h-[400px] sm:max-h-[500px] lg:max-h-[600px] overflow-auto",children:"preview"===v?bd.jsx("div",{className:"p-3 sm:p-6",children:bd.jsx("pre",{className:(p?"whitespace-pre-wrap":"whitespace-pre")+" leading-relaxed overflow-x-auto",style:{fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace',fontSize:`${o}px`,color:i.colors.textPrimary,backgroundColor:"transparent"},children:t.split("\n").map((e,t)=>bd.jsxs("div",{className:"flex",children:[u&&bd.jsx("span",{className:"select-none pr-2 sm:pr-4 text-right flex-shrink-0",style:{color:i.colors.textMuted,minWidth:"1.5rem",fontSize:`${Math.max(10,o-2)}px`},children:t+1}),bd.jsx("span",{className:"min-w-0 break-words flex-1",children:e})]},t))})}):bd.jsx("div",{className:"p-3 sm:p-6",children:bd.jsx("textarea",{value:t,readOnly:!0,className:"w-full h-[350px] sm:h-[450px] lg:h-[500px] resize-none focus:outline-none",style:{fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace',fontSize:`${o}px`,color:i.colors.textPrimary,backgroundColor:"transparent",border:"none"}})})})]})]}):bd.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 sm:gap-6 lg:gap-8",children:[bd.jsx("div",{className:"lg:col-span-8 order-1",children:bd.jsxs(ob,{className:"overflow-hidden shadow-xl border-0",style:{backgroundColor:i.colors.surface},children:[bd.jsx("div",{className:"p-3 sm:p-6 border-b",style:{borderColor:i.colors.border},children:bd.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-start sm:justify-between sm:space-y-0 sm:gap-3",children:[bd.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4 flex-1 min-w-0",children:[bd.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0",style:{backgroundColor:w(null==n?void 0:n.language)},children:bd.jsx(zh,{className:"w-5 h-5 sm:w-6 sm:h-6",style:{color:i.colors.surface}})}),bd.jsxs("div",{className:"min-w-0 flex-1",children:[bd.jsx("h2",{className:"text-base sm:text-xl font-bold mb-2 sm:mb-1 leading-tight",style:{color:i.colors.textPrimary},children:e}),bd.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 sm:gap-3 text-xs sm:text-sm",children:[bd.jsx(gh,{className:"px-1.5 py-0.5 sm:px-2 sm:py-1 text-xs",style:{backgroundColor:i.colors.info+"20",color:i.colors.info},children:"Text Document"}),(null==n?void 0:n.language)&&bd.jsx(gh,{className:"px-1.5 py-0.5 sm:px-2 sm:py-1 text-xs",style:{backgroundColor:w(n.language)+"20",color:w(n.language)},children:n.language.toUpperCase()}),bd.jsx("span",{style:{color:i.colors.textMuted},children:null==n?void 0:n.size})]})]})]}),bd.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-start flex-shrink-0",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>d(!c),className:"rounded-lg px-2 sm:px-3 h-8",style:{borderColor:i.colors.border,backgroundColor:i.colors.surface,color:i.colors.textPrimary},children:[bd.jsx(Kh,{className:"w-4 h-4 sm:mr-1 "+(c?"fill-current":""),style:{color:c?i.colors.error:i.colors.textSecondary}}),bd.jsx("span",{className:"hidden sm:inline",children:c?"Liked":"Like"})]}),bd.jsxs(_h,{variant:"outline",size:"sm",onClick:r,className:"rounded-lg px-2 sm:px-3 h-8",style:{borderColor:i.colors.info,backgroundColor:i.colors.info+"10",color:i.colors.info},children:[bd.jsx(Lh,{className:"w-4 h-4 sm:mr-1"}),bd.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})]})}),bd.jsxs("div",{className:"p-3 sm:p-6",children:[bd.jsxs("div",{className:"relative rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 min-h-[240px] sm:min-h-[300px] border border-dashed cursor-pointer transition-all hover:border-solid",style:{backgroundColor:i.colors.background,borderColor:i.colors.border},onClick:()=>b(!0),children:[bd.jsxs("div",{className:"space-y-1.5 sm:space-y-3",children:[t.split("\n").slice(0,12).map((e,t)=>bd.jsxs("div",{className:"flex text-xs sm:text-sm opacity-70 hover:opacity-100 transition-opacity",children:[bd.jsx("span",{className:"w-5 sm:w-8 text-right pr-2 sm:pr-3 select-none flex-shrink-0",style:{color:i.colors.textMuted},children:t+1}),bd.jsx("span",{className:"font-mono leading-relaxed min-w-0 break-words",style:{color:i.colors.textPrimary},children:e.length>50?e.substring(0,50)+"...":e||" "})]},t)),t.split("\n").length>12&&bd.jsx("div",{className:"text-center pt-2 sm:pt-4",children:bd.jsxs("span",{className:"text-xs sm:text-sm italic",style:{color:i.colors.textMuted},children:["+",t.split("\n").length-12," more lines..."]})})]}),bd.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent rounded-lg pointer-events-none"}),bd.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity bg-black/5 rounded-lg",children:bd.jsxs(_h,{size:"lg",className:"shadow-xl gap-2",style:{backgroundColor:i.colors.primary,color:i.colors.surface},children:[bd.jsx(Mh,{className:"w-5 h-5"}),bd.jsx("span",{className:"hidden sm:inline",children:"Open Preview"}),bd.jsx("span",{className:"sm:hidden",children:"Preview"})]})})]}),bd.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"flex-1 sm:flex-none text-xs sm:text-sm min-w-0 h-8",children:[bd.jsx(Oh,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Preview"]}),bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(t),className:"flex-1 sm:flex-none text-xs sm:text-sm min-w-0 h-8",children:[bd.jsx(Th,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Copy"]}),bd.jsxs(_h,{variant:"outline",size:"sm",className:"w-full sm:flex-none text-xs sm:text-sm min-w-0 h-8",children:[bd.jsx(gp,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Share"]})]})]})]})}),bd.jsx("div",{className:"lg:col-span-4 order-2",children:bd.jsx(ob,{style:{backgroundColor:i.colors.surface},children:bd.jsxs(lb,{className:"p-3 sm:p-6",children:[bd.jsx("h3",{className:"font-semibold mb-3 sm:mb-4 text-sm sm:text-base",style:{color:i.colors.textPrimary},children:"Quick Actions"}),bd.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[bd.jsxs(_h,{variant:"outline",className:"w-full justify-start text-sm py-2.5 h-10 hover:scale-[1.02] transition-transform",onClick:()=>b(!0),style:{borderColor:i.colors.primary+"40",backgroundColor:i.colors.primary+"05"},children:[bd.jsx(Mh,{className:"w-4 h-4 mr-3 flex-shrink-0",style:{color:i.colors.primary}}),bd.jsx("span",{style:{color:i.colors.textPrimary},children:"Full Preview"})]}),bd.jsxs(_h,{variant:"outline",className:"w-full justify-start text-sm py-2.5 h-10 hover:scale-[1.02] transition-transform",onClick:r,style:{borderColor:i.colors.success+"40",backgroundColor:i.colors.success+"05"},children:[bd.jsx(Lh,{className:"w-4 h-4 mr-3 flex-shrink-0",style:{color:i.colors.success}}),bd.jsx("span",{style:{color:i.colors.textPrimary},children:"Download File"})]}),bd.jsxs(_h,{variant:"outline",className:"w-full justify-start text-sm py-2.5 h-10 hover:scale-[1.02] transition-transform",onClick:()=>{navigator.clipboard.writeText(t)},style:{borderColor:i.colors.info+"40",backgroundColor:i.colors.info+"05"},children:[bd.jsx(Th,{className:"w-4 h-4 mr-3 flex-shrink-0",style:{color:i.colors.info}}),bd.jsx("span",{style:{color:i.colors.textPrimary},children:"Copy Content"})]}),bd.jsxs(_h,{variant:"outline",className:"w-full justify-start text-sm py-2.5 h-10 hover:scale-[1.02] transition-transform",onClick:()=>{navigator.share?navigator.share({title:e,text:`Check out this document: ${e}`,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},style:{borderColor:i.colors.warning+"40",backgroundColor:i.colors.warning+"05"},children:[bd.jsx(gp,{className:"w-4 h-4 mr-3 flex-shrink-0",style:{color:i.colors.warning}}),bd.jsx("span",{style:{color:i.colors.textPrimary},children:"Share Document"})]}),bd.jsxs("div",{className:"border-t pt-3 mt-3",style:{borderColor:i.colors.border},children:[bd.jsxs(_h,{variant:"ghost",className:"w-full justify-start text-xs py-2 h-8 opacity-75 hover:opacity-100",onClick:()=>window.print(),children:[bd.jsx(hp,{className:"w-3 h-3 mr-3 flex-shrink-0",style:{color:i.colors.textMuted}}),bd.jsx("span",{style:{color:i.colors.textMuted},children:"Print Document"})]}),bd.jsxs(_h,{variant:"ghost",className:"w-full justify-start text-xs py-2 h-8 opacity-75 hover:opacity-100",onClick:()=>d(!c),children:[bd.jsx(Kh,{className:"w-3 h-3 mr-3 flex-shrink-0 "+(c?"fill-current":""),style:{color:c?i.colors.error:i.colors.textMuted}}),bd.jsx("span",{style:{color:i.colors.textMuted},children:c?"Remove from Favorites":"Add to Favorites"})]})]})]})]})})})]})})})}const tk=({files:e,title:t,description:r})=>{const[n,i]=xd.useState("pdf"),[a,s]=xd.useState(0),o=e.find(e=>e.powerPointData);if(!(null==o?void 0:o.powerPointData))return bd.jsx("div",{className:"text-center py-8",children:bd.jsx("p",{className:"text-gray-500",children:"No PowerPoint data available"})});const{originalFileUrl:l,pdfUrl:c,thumbnailUrls:d,slideCount:u,pdfViewerUrl:h}=o.powerPointData,p=()=>{window.open(h||c,"_blank")};return bd.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[bd.jsxs("div",{className:"mb-6",children:[bd.jsxs("div",{className:"flex items-center justify-between mb-4",children:[bd.jsxs("div",{className:"flex items-center space-x-3",children:[bd.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:bd.jsx(Ph,{className:"w-6 h-6 text-orange-600"})}),bd.jsxs("div",{children:[bd.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t}),bd.jsxs("p",{className:"text-sm text-gray-600",children:[u," slides"]})]})]}),bd.jsxs("div",{className:"flex items-center space-x-2",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>{window.open(l,"_blank")},className:"flex items-center space-x-2",children:[bd.jsx(Lh,{className:"w-4 h-4"}),bd.jsx("span",{children:"Download PPTX"})]}),bd.jsxs(_h,{variant:"outline",size:"sm",onClick:p,className:"flex items-center space-x-2",children:[bd.jsx(Fh,{className:"w-4 h-4"}),bd.jsx("span",{children:"Open PDF"})]})]})]}),r&&bd.jsx("p",{className:"text-gray-600 mb-4",children:r}),bd.jsxs("div",{className:"flex items-center space-x-2",children:[bd.jsxs(_h,{variant:"pdf"===n?"default":"outline",size:"sm",onClick:()=>i("pdf"),className:"flex items-center space-x-2",children:[bd.jsx(zh,{className:"w-4 h-4"}),bd.jsx("span",{children:"PDF Viewer"})]}),bd.jsxs(_h,{variant:"gallery"===n?"default":"outline",size:"sm",onClick:()=>i("gallery"),className:"flex items-center space-x-2",children:[bd.jsx(Oh,{className:"w-4 h-4"}),bd.jsx("span",{children:"Slide View"})]}),bd.jsxs(_h,{variant:"thumbnails"===n?"default":"outline",size:"sm",onClick:()=>i("thumbnails"),className:"flex items-center space-x-2",children:[bd.jsx(Xh,{className:"w-4 h-4"}),bd.jsx("span",{children:"All Slides"})]}),bd.jsxs(gh,{variant:"secondary",className:"ml-auto",children:[u," slides"]})]})]}),"pdf"===n&&bd.jsx(ob,{className:"w-full",children:bd.jsx(lb,{className:"p-0",children:bd.jsxs("div",{className:"relative w-full",style:{height:"600px"},children:[bd.jsx("iframe",{src:`${c}#view=FitH&toolbar=1&navpanes=1`,className:"w-full h-full border-0 rounded-lg",title:`${t} - PDF Viewer`,allow:"fullscreen"}),bd.jsx("div",{className:"absolute top-2 right-2",children:bd.jsx(_h,{variant:"secondary",size:"sm",onClick:p,className:"bg-white/90 hover:bg-white",children:bd.jsx(np,{className:"w-4 h-4"})})})]})})}),"gallery"===n&&bd.jsx(ob,{className:"w-full",children:bd.jsx(lb,{className:"p-6",children:bd.jsxs("div",{className:"relative",children:[bd.jsx("div",{className:"flex items-center justify-center mb-4",children:bd.jsx("img",{src:d[a],alt:`Slide ${a+1}`,className:"max-w-full max-h-96 object-contain rounded-lg shadow-lg"})}),bd.jsxs("div",{className:"flex items-center justify-between",children:[bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>{s(e=>(e-1+d.length)%d.length)},disabled:d.length<=1,children:[bd.jsx(jh,{className:"w-4 h-4"}),"Previous"]}),bd.jsx("div",{className:"flex items-center space-x-2",children:bd.jsxs("span",{className:"text-sm text-gray-600",children:["Slide ",a+1," of ",d.length]})}),bd.jsxs(_h,{variant:"outline",size:"sm",onClick:()=>{s(e=>(e+1)%d.length)},disabled:d.length<=1,children:["Next",bd.jsx(Gh,{className:"w-4 h-4"})]})]})]})})}),"thumbnails"===n&&bd.jsx(ob,{className:"w-full",children:bd.jsx(lb,{className:"p-6",children:bd.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map((e,t)=>bd.jsxs("div",{className:"relative cursor-pointer transition-all duration-200 hover:scale-105 "+(a===t?"ring-2 ring-blue-500":""),onClick:()=>{s(t),i("gallery")},children:[bd.jsx("img",{src:e,alt:`Slide ${t+1}`,className:"w-full h-32 object-cover rounded-lg shadow-md"}),bd.jsx("div",{className:"absolute bottom-2 left-2",children:bd.jsx(gh,{variant:"secondary",className:"text-xs",children:t+1})})]},t))})})}),bd.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:bd.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[bd.jsxs("div",{children:[bd.jsx("span",{className:"font-medium",children:"Original:"})," ",o.name]}),bd.jsxs("div",{className:"flex items-center space-x-4",children:[bd.jsxs("span",{children:[(o.size/1024/1024).toFixed(1)," MB"]}),bd.jsx("span",{children:"•"}),bd.jsxs("span",{children:[u," slides"]}),bd.jsx("span",{children:"•"}),bd.jsx("span",{children:"PDF + Thumbnails available"})]})]})})]})},rk=(e,t)=>{var r;const n=(null==(r=e.split(".").pop())?void 0:r.toLowerCase())||"";return"pdf"===n||"application/pdf"===t?"pdf":["ppt","pptx","key","odp"].includes(n)||(null==t?void 0:t.includes("presentation"))||(null==t?void 0:t.includes("powerpoint"))||"application/vnd.ms-powerpoint"===t||"application/vnd.openxmlformats-officedocument.presentationml.presentation"===t||"application/mspowerpoint"===t||"application/powerpoint"===t||"application/x-mspowerpoint"===t?"presentation":["jpg","jpeg","png","gif","bmp","webp","svg","tiff","ico","heic","heif","avif"].includes(n)||(null==t?void 0:t.startsWith("image/"))?"gallery":["mp4","avi","mov","wmv","flv","webm","mkv","3gp","ogv","m4v"].includes(n)||(null==t?void 0:t.startsWith("video/"))?"video":["zip","rar","7z","tar","gz","bz2","xz","cab","iso"].includes(n)||["application/zip","application/x-rar-compressed","application/x-7z-compressed"].includes(t||"")?"archive":"document"};function nk({fileType:e,title:t,description:r,files:n=[],content:i="",onDownload:a,metadata:s}){var o,l,c,d,u,h;switch(e){case"gallery":const e=n.map(e=>e.url||"").filter(e=>e),p=e.length;return 1===p?bd.jsx(Rp,{title:t,image:e[0],caption:r,credit:null==s?void 0:s.credit,onDownload:a,metadata:s}):p>=2&&p<=6?bd.jsx(Tp,{title:t,images:e,onDownload:a,metadata:s}):p>=7&&p<=20?bd.jsx(Lp,{title:t,images:e,onDownload:a,metadata:s}):p>20?bd.jsx(Dp,{title:t,images:e,totalImages:n.length,onDownload:a,metadata:s}):bd.jsx(Ip,{title:t,images:e,totalImages:n.length,onDownload:a,metadata:s});case"pdf":const f=n.filter(e=>"application/pdf"===e.type||e.name.toLowerCase().endsWith(".pdf")).map((e,t)=>({id:e.url||`pdf-${t}`,name:e.name,url:e.url||"",size:e.size,pages:(null==s?void 0:s.pages)||1,thumbnails:(null==s?void 0:s.thumbnails)||[],isPitchDeck:e.name.toLowerCase().includes("pitch")||e.name.toLowerCase().includes("deck")||e.name.toLowerCase().includes("presentation"),coverPage:e.thumbnailUrl,metadata:{author:null==s?void 0:s.author,created:e.uploadedAt,modified:e.uploadedAt}}));return f.length>1?bd.jsx(Pb,{files:f,onDownload:e=>{console.log(`Download PDF: ${e}`),null==a||a()},onShare:e=>{console.log(`Share PDF: ${e}`)},autoPlay:(null==s?void 0:s.autoPlay)||!1,showThumbnails:!1!==(null==s?void 0:s.showThumbnails)}):1===f.length?bd.jsx(Kw,{title:t,url:f[0].url,pages:f[0].pages,thumbnails:f[0].thumbnails,onDownload:a,onShare:()=>console.log(`Share PDF: ${f[0].id}`),metadata:{size:f[0].size,author:null==(o=f[0].metadata)?void 0:o.author,created:null==(l=f[0].metadata)?void 0:l.created},showThumbnailFirst:!1!==(null==s?void 0:s.showThumbnailFirst)}):bd.jsx(cb,{title:t,url:(null==(c=n[0])?void 0:c.url)||"",pages:(null==s?void 0:s.pages)||1,thumbnails:(null==s?void 0:s.thumbnails)||[],onDownload:a,metadata:s});case"video":return bd.jsx(Yw,{title:t,url:(null==(d=n[0])?void 0:d.url)||"",poster:null==(u=n[0])?void 0:u.thumbnailUrl,duration:null==s?void 0:s.duration,onDownload:a,metadata:s});case"archive":const m=n.map(e=>({name:e.name,size:e.size,type:"file",fileType:ik(e.name),modified:e.uploadedAt,url:e.url}));return bd.jsx(Zw,{title:t,files:m,totalFiles:n.length,onDownload:a,metadata:s});case"mixed":if(!n)return null;const _=n.filter(e=>"gallery"===rk(e.name,e.type)),v=n.filter(e=>"gallery"!==rk(e.name,e.type));return bd.jsxs("div",{className:"space-y-8",children:[_.length>0&&bd.jsx(nk,{fileType:"gallery",title:_.length===n.length?t:`${t} - Images`,description:r,files:_,onDownload:a,metadata:s}),v.map((e,t)=>{const r=rk(e.name,e.type);return bd.jsx("div",{children:bd.jsx(nk,{fileType:r,title:e.name,description:e.description,files:[e],onDownload:a,metadata:s})},`${r}-${t}-${e.name}`)})]});case"presentation":const g=n.find(e=>e.powerPointData);if(null==g?void 0:g.powerPointData)return bd.jsx(tk,{files:n,title:t,description:r});const y=n.find(e=>{var t,r,n;return(null==(t=e.type)?void 0:t.includes("presentation"))||(null==(r=e.name)?void 0:r.toLowerCase().endsWith(".ppt"))||(null==(n=e.name)?void 0:n.toLowerCase().endsWith(".pptx"))});return y?bd.jsx(Kw,{title:t,url:y.url||"#",pages:(null==s?void 0:s.slides)||12,thumbnails:[],onDownload:a,metadata:{size:(null==s?void 0:s.size)||"0 MB",author:null==s?void 0:s.author,created:null==s?void 0:s.created}}):bd.jsx(Kw,{title:t,url:(null==(h=n[0])?void 0:h.url)||"#",pages:(null==s?void 0:s.slides)||12,thumbnails:[],onDownload:a,metadata:{size:(null==s?void 0:s.size)||"0 MB"}});default:return bd.jsx(ek,{title:t,content:i,onDownload:a,metadata:s})}}const ik=e=>{var t;const r=(null==(t=e.split(".").pop())?void 0:t.toLowerCase())||"";return["jpg","jpeg","png","gif","bmp","webp","svg","tiff","ico"].includes(r)?"image":["mp4","avi","mov","wmv","flv","webm","mkv","3gp","ogv"].includes(r)?"video":["mp3","wav","flac","aac","ogg","m4a","wma"].includes(r)?"audio":["zip","rar","7z","tar","gz","bz2","xz","cab","iso"].includes(r)?"archive":["txt","doc","docx","pdf","rtf","odt","md","html","css","js","ts","json","xml","csv"].includes(r)?"document":"other"};function ak({creatorName:e,contactInfo:t,primaryCTA:r={text:"Get in touch",action:()=>window.location.href=`mailto:${t.email}`},secondaryCTA:n,showLytsiteBranding:i=!0,onNavigateHome:a}){const{theme:s}=qd(),o=[{icon:rp,url:t.email?`mailto:${t.email}`:null,label:"Email"},{icon:qh,url:t.website,label:"Website"},{icon:Ap,url:t.twitter,label:"Twitter"},{icon:Zh,url:t.linkedin,label:"LinkedIn"},{icon:Uh,url:t.github,label:"GitHub"}].filter(e=>e.url);return bd.jsxs(bd.Fragment,{children:[bd.jsx("div",{className:"py-8",style:{backgroundColor:s.colors.backgroundSecondary}}),bd.jsxs("footer",{className:"py-20 px-6",style:{backgroundColor:s.colors.background,borderTop:`2px solid ${s.colors.border}`,position:"relative"},children:[bd.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[bd.jsx("div",{className:"absolute -top-32 -right-32 w-64 h-64 rounded-full opacity-5 blur-3xl",style:{backgroundColor:s.colors.primary}}),bd.jsx("div",{className:"absolute -bottom-32 -left-32 w-64 h-64 rounded-full opacity-5 blur-3xl",style:{backgroundColor:s.colors.accent}})]}),bd.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[bd.jsxs("div",{className:"text-center mb-12",children:[bd.jsxs("div",{className:"mb-8",children:[bd.jsxs("h3",{className:"text-2xl md:text-3xl font-bold mb-3",style:{color:s.colors.textPrimary,textShadow:"dark"===s.mode?"0 2px 4px rgba(0, 0, 0, 0.5)":"none"},children:["Connect with ",e]}),bd.jsx("p",{className:"text-lg max-w-2xl mx-auto leading-relaxed font-medium",style:{color:s.colors.textSecondary,textShadow:"dark"===s.mode?"0 1px 2px rgba(0, 0, 0, 0.3)":"none"},children:"Have questions or want to work together? I'd love to hear from you."})]}),bd.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[bd.jsxs(_h,{size:"lg",className:"px-8 py-4 text-base font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",onClick:r.action,style:{backgroundColor:s.colors.primary,color:s.colors.surface},children:[bd.jsx(ap,{className:"w-5 h-5 mr-3"}),r.text]}),n&&bd.jsxs(_h,{variant:"outline",size:"lg",className:"px-8 py-4 text-base font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",onClick:n.action,style:{borderColor:s.colors.border,backgroundColor:s.colors.surface,color:s.colors.textPrimary},children:[bd.jsx(Lh,{className:"w-5 h-5 mr-3",style:{color:s.colors.textSecondary}}),n.text]})]}),o.length>0&&bd.jsx("div",{className:"flex justify-center space-x-3",children:o.map((e,t)=>{const r=e.icon;return bd.jsx(_h,{variant:"outline",size:"sm",className:"w-12 h-12 p-0 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",onClick:()=>{e.url&&window.open(e.url,"_blank")},title:e.label,style:{borderColor:s.colors.border,backgroundColor:s.colors.surface,color:s.colors.textPrimary},children:bd.jsx(r,{className:"w-5 h-5",style:{color:s.colors.textSecondary}})},t)})})]}),bd.jsx(ob,{className:"mb-8 shadow-lg border-0",style:{backgroundColor:s.colors.backgroundSecondary},children:bd.jsx(lb,{className:"p-8",children:bd.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[bd.jsxs("div",{className:"text-center md:text-left",children:[bd.jsx("h4",{className:"text-xl font-bold mb-3",style:{color:s.colors.textPrimary},children:"Want to create your own professional file sharing site?"}),bd.jsx("p",{className:"text-base leading-relaxed",style:{color:s.colors.textSecondary},children:"Transform any file into a beautiful presentation in seconds."})]}),bd.jsxs(_h,{variant:"outline",className:"shrink-0 px-6 py-3 font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02]",onClick:()=>{null==a||a()},style:{borderColor:s.colors.primary,backgroundColor:s.colors.surface,color:s.colors.primary},children:[bd.jsx(Fh,{className:"w-4 h-4 mr-2",style:{color:s.colors.primary}}),"Try Lytsite Free"]})]})})}),i&&bd.jsxs("div",{className:"text-center pt-8 border-t",style:{borderColor:s.colors.border},children:[bd.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[bd.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:s.colors.primary},children:bd.jsx(jp,{className:"w-4 h-4",style:{color:s.colors.surface}})}),bd.jsxs("span",{className:"text-base font-medium",style:{color:s.colors.textSecondary},children:["Powered by"," ",bd.jsx("button",{onClick:a,className:"font-bold hover:underline transition-colors",style:{color:s.colors.primary},children:"Lytsite"})]})]}),bd.jsx("p",{className:"text-sm font-medium",style:{color:s.colors.textSecondary},children:"Professional file sharing made simple"})]})]})]})]})}const sk=["top","right","bottom","left"],ok=Math.min,lk=Math.max,ck=Math.round,dk=Math.floor,uk=e=>({x:e,y:e}),hk={left:"right",right:"left",bottom:"top",top:"bottom"},pk={start:"end",end:"start"};function fk(e,t,r){return lk(e,ok(t,r))}function mk(e,t){return"function"==typeof e?e(t):e}function _k(e){return e.split("-")[0]}function vk(e){return e.split("-")[1]}function gk(e){return"x"===e?"y":"x"}function yk(e){return"y"===e?"height":"width"}const bk=new Set(["top","bottom"]);function xk(e){return bk.has(_k(e))?"y":"x"}function wk(e){return gk(xk(e))}function kk(e){return e.replace(/start|end/g,e=>pk[e])}const Sk=["left","right"],Ak=["right","left"],Mk=["top","bottom"],Ck=["bottom","top"];function Nk(e,t,r,n){const i=vk(e);let a=function(e,t,r){switch(e){case"top":case"bottom":return r?t?Ak:Sk:t?Sk:Ak;case"left":case"right":return t?Mk:Ck;default:return[]}}(_k(e),"start"===r,n);return i&&(a=a.map(e=>e+"-"+i),t&&(a=a.concat(a.map(kk)))),a}function Ek(e){return e.replace(/left|right|bottom|top/g,e=>hk[e])}function jk(e){return"number"!=typeof e?function(e){return __spreadValues({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Gk(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function Pk(e,t,r){let{reference:n,floating:i}=e;const a=xk(t),s=wk(t),o=yk(s),l=_k(t),c="y"===a,d=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:u};break;case"left":p={x:n.x-i.width,y:u};break;default:p={x:n.x,y:n.y}}switch(vk(t)){case"start":p[s]-=h*(r&&c?-1:1);break;case"end":p[s]+=h*(r&&c?-1:1)}return p}function Rk(e,t){return __async(this,null,function*(){var r;void 0===t&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:p=0}=mk(t,e),f=jk(p),m=o[h?"floating"===u?"reference":"floating":u],_=Gk(yield a.getClippingRect({element:null==(r=yield null==a.isElement?void 0:a.isElement(m))||r?m:m.contextElement||(yield null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),v="floating"===u?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,g=yield null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating),y=(yield null==a.isElement?void 0:a.isElement(g))&&(yield null==a.getScale?void 0:a.getScale(g))||{x:1,y:1},b=Gk(a.convertOffsetParentRelativeRectToViewportRelativeRect?yield a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:g,strategy:l}):v);return{top:(_.top-b.top+f.top)/y.y,bottom:(b.bottom-_.bottom+f.bottom)/y.y,left:(_.left-b.left+f.left)/y.x,right:(b.right-_.right+f.right)/y.x}})}function Tk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lk(e){return sk.some(t=>e[t]>=0)}const Dk=new Set(["left","top"]);function Ik(){return"undefined"!=typeof window}function Fk(e){return Wk(e)?(e.nodeName||"").toLowerCase():"#document"}function Ok(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function zk(e){var t;return null==(t=(Wk(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Wk(e){return!!Ik()&&(e instanceof Node||e instanceof Ok(e).Node)}function $k(e){return!!Ik()&&(e instanceof Element||e instanceof Ok(e).Element)}function Bk(e){return!!Ik()&&(e instanceof HTMLElement||e instanceof Ok(e).HTMLElement)}function Vk(e){return!(!Ik()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Ok(e).ShadowRoot)}const Hk=new Set(["inline","contents"]);function Uk(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=iS(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Hk.has(i)}const qk=new Set(["table","td","th"]);function Xk(e){return qk.has(Fk(e))}const Kk=[":popover-open",":modal"];function Yk(e){return Kk.some(t=>{try{return e.matches(t)}catch(r){return!1}})}const Qk=["transform","translate","scale","rotate","perspective"],Jk=["transform","translate","scale","rotate","perspective","filter"],Zk=["paint","layout","strict","content"];function eS(e){const t=tS(),r=$k(e)?iS(e):e;return Qk.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||Jk.some(e=>(r.willChange||"").includes(e))||Zk.some(e=>(r.contain||"").includes(e))}function tS(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const rS=new Set(["html","body","#document"]);function nS(e){return rS.has(Fk(e))}function iS(e){return Ok(e).getComputedStyle(e)}function aS(e){return $k(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sS(e){if("html"===Fk(e))return e;const t=e.assignedSlot||e.parentNode||Vk(e)&&e.host||zk(e);return Vk(t)?t.host:t}function oS(e){const t=sS(e);return nS(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bk(t)&&Uk(t)?t:oS(t)}function lS(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);const i=oS(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),s=Ok(i);if(a){const e=cS(s);return t.concat(s,s.visualViewport||[],Uk(i)?i:[],e&&r?lS(e):[])}return t.concat(i,lS(i,[],r))}function cS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dS(e){const t=iS(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Bk(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=ck(r)!==a||ck(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function uS(e){return $k(e)?e:e.contextElement}function hS(e){const t=uS(e);if(!Bk(t))return uk(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=dS(t);let s=(a?ck(r.width):r.width)/n,o=(a?ck(r.height):r.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}const pS=uk(0);function fS(e){const t=Ok(e);return tS()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:pS}function mS(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r=!1);const i=e.getBoundingClientRect(),a=uS(e);let s=uk(1);t&&(n?$k(n)&&(s=hS(n)):s=hS(e));const o=function(e,t,r){return void 0===t&&(t=!1),!(!r||t&&r!==Ok(e))&&t}(a,r,n)?fS(a):uk(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,d=i.width/s.x,u=i.height/s.y;if(a){const e=Ok(a),t=n&&$k(n)?Ok(n):n;let r=e,i=cS(r);for(;i&&n&&t!==r;){const e=hS(i),t=i.getBoundingClientRect(),n=iS(i),a=t.left+(i.clientLeft+parseFloat(n.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(n.paddingTop))*e.y;l*=e.x,c*=e.y,d*=e.x,u*=e.y,l+=a,c+=s,r=Ok(i),i=cS(r)}}return Gk({width:d,height:u,x:l,y:c})}function _S(e,t){const r=aS(e).scrollLeft;return t?t.left+r:mS(zk(e)).left+r}function vS(e,t){const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-_S(e,r),y:r.top+t.scrollTop}}const gS=new Set(["absolute","fixed"]);function yS(e,t,r){let n;if("viewport"===t)n=function(e,t){const r=Ok(e),n=zk(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=tS();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}const c=_S(n);if(c<=0){const e=n.ownerDocument,t=e.body,r=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,s=Math.abs(n.clientWidth-t.clientWidth-i);s<=25&&(a-=s)}else c<=25&&(a+=c);return{width:a,height:s,x:o,y:l}}(e,r);else if("document"===t)n=function(e){const t=zk(e),r=aS(e),n=e.ownerDocument.body,i=lk(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=lk(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+_S(e);const o=-r.scrollTop;return"rtl"===iS(n).direction&&(s+=lk(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}(zk(e));else if($k(t))n=function(e,t){const r=mS(e,!0,"fixed"===t),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Bk(e)?hS(e):uk(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:n*a.y}}(t,r);else{const r=fS(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Gk(n)}function bS(e,t){const r=sS(e);return!(r===t||!$k(r)||nS(r))&&("fixed"===iS(r).position||bS(r,t))}function xS(e,t,r){const n=Bk(t),i=zk(t),a="fixed"===r,s=mS(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=uk(0);function c(){l.x=_S(i)}if(n||!n&&!a)if(("body"!==Fk(t)||Uk(i))&&(o=aS(t)),n){const e=mS(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();a&&!n&&i&&c();const d=!i||n||a?uk(0):vS(i,o);return{x:s.left+o.scrollLeft-l.x-d.x,y:s.top+o.scrollTop-l.y-d.y,width:s.width,height:s.height}}function wS(e){return"static"===iS(e).position}function kS(e,t){if(!Bk(e)||"fixed"===iS(e).position)return null;if(t)return t(e);let r=e.offsetParent;return zk(e)===r&&(r=r.ownerDocument.body),r}function SS(e,t){const r=Ok(e);if(Yk(e))return r;if(!Bk(e)){let t=sS(e);for(;t&&!nS(t);){if($k(t)&&!wS(t))return t;t=sS(t)}return r}let n=kS(e,t);for(;n&&Xk(n)&&wS(n);)n=kS(n,t);return n&&nS(n)&&wS(n)&&!eS(n)?r:n||function(e){let t=sS(e);for(;Bk(t)&&!nS(t);){if(eS(t))return t;if(Yk(t))return null;t=sS(t)}return null}(e)||r}const AS={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a="fixed"===i,s=zk(n),o=!!t&&Yk(t.floating);if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},c=uk(1);const d=uk(0),u=Bk(n);if((u||!u&&!a)&&(("body"!==Fk(n)||Uk(s))&&(l=aS(n)),Bk(n))){const e=mS(n);c=hS(n),d.x=e.x+n.clientLeft,d.y=e.y+n.clientTop}const h=!s||u||a?uk(0):vS(s,l);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:r.y*c.y-l.scrollTop*c.y+d.y+h.y}},getDocumentElement:zk,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const a=[..."clippingAncestors"===r?Yk(t)?[]:function(e,t){const r=t.get(e);if(r)return r;let n=lS(e,[],!1).filter(e=>$k(e)&&"body"!==Fk(e)),i=null;const a="fixed"===iS(e).position;let s=a?sS(e):e;for(;$k(s)&&!nS(s);){const t=iS(s),r=eS(s);r||"fixed"!==t.position||(i=null),(a?!r&&!i:!r&&"static"===t.position&&i&&gS.has(i.position)||Uk(s)&&!r&&bS(e,s))?n=n.filter(e=>e!==s):i=t,s=sS(s)}return t.set(e,n),n}(t,this._c):[].concat(r),n],s=a[0],o=a.reduce((e,r)=>{const n=yS(t,r,i);return e.top=lk(n.top,e.top),e.right=ok(n.right,e.right),e.bottom=ok(n.bottom,e.bottom),e.left=lk(n.left,e.left),e},yS(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:SS,getElementRects:function(e){return __async(this,null,function*(){const t=this.getOffsetParent||SS,r=this.getDimensions,n=yield r(e.floating);return{reference:xS(e.reference,yield t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:r}=dS(e);return{width:t,height:r}},getScale:hS,isElement:$k,isRTL:function(e){return"rtl"===iS(e).direction}};function MS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CS(e,t,r,n){void 0===n&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=n,c=uS(e),d=i||a?[...c?lS(c):[],...lS(t)]:[];d.forEach(e=>{i&&e.addEventListener("scroll",r,{passive:!0}),a&&e.addEventListener("resize",r)});const u=c&&o?function(e,t){let r,n=null;const i=zk(e);function a(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:u,width:h,height:p}=c;if(o||t(),!h||!p)return;const f={rootMargin:-dk(u)+"px "+-dk(i.clientWidth-(d+h))+"px "+-dk(i.clientHeight-(u+p))+"px "+-dk(d)+"px",threshold:lk(0,ok(1,l))||1};let m=!0;function _(t){const n=t[0].intersectionRatio;if(n!==l){if(!m)return s();n?s(!1,n):r=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==n||MS(c,e.getBoundingClientRect())||s(),m=!1}try{n=new IntersectionObserver(_,__spreadProps(__spreadValues({},f),{root:i.ownerDocument}))}catch(v){n=new IntersectionObserver(_,f)}n.observe(e)}(!0),a}(c,r):null;let h,p=-1,f=null;s&&(f=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var e;null==(e=f)||e.observe(t)})),r()}),c&&!l&&f.observe(c),f.observe(t));let m=l?mS(e):null;return l&&function t(){const n=mS(e);m&&!MS(m,n)&&r();m=n,h=requestAnimationFrame(t)}(),r(),()=>{var e;d.forEach(e=>{i&&e.removeEventListener("scroll",r),a&&e.removeEventListener("resize",r)}),null==u||u(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}const NS=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return __async(this,null,function*(){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,l=yield function(e,t){return __async(this,null,function*(){const{placement:r,platform:n,elements:i}=e,a=yield null==n.isRTL?void 0:n.isRTL(i.floating),s=_k(r),o=vk(r),l="y"===xk(r),c=Dk.has(s)?-1:1,d=a&&l?-1:1,u=mk(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*d,y:h*c}:{x:h*c,y:p*d}})}(t,e);return s===(null==(r=o.offset)?void 0:r.placement)&&null!=(n=o.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:__spreadProps(__spreadValues({},l),{placement:s})}})}}},ES=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn(t){return __async(this,null,function*(){const{x:r,y:n,placement:i}=t,a=mk(e,t),{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=a,c=__objRest(a,["mainAxis","crossAxis","limiter"]),d={x:r,y:n},u=yield Rk(t,c),h=xk(_k(i)),p=gk(h);let f=d[p],m=d[h];if(s){const e="y"===p?"bottom":"right";f=fk(f+u["y"===p?"top":"left"],f,f-u[e])}if(o){const e="y"===h?"bottom":"right";m=fk(m+u["y"===h?"top":"left"],m,m-u[e])}const _=l.fn(__spreadProps(__spreadValues({},t),{[p]:f,[h]:m}));return __spreadProps(__spreadValues({},_),{data:{x:_.x-r,y:_.y-n,enabled:{[p]:s,[h]:o}}})})}}},jS=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return __async(this,null,function*(){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=t,d=mk(e,t),{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0}=d,v=__objRest(d,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(r=a.arrow)&&r.alignmentOffset)return{};const g=_k(i),y=xk(o),b=_k(o)===o,x=yield null==l.isRTL?void 0:l.isRTL(c.floating),w=p||(b||!_?[Ek(o)]:function(e){const t=Ek(e);return[kk(e),t,kk(t)]}(o)),k="none"!==m;!p&&k&&w.push(...Nk(o,_,m,x));const S=[o,...w],A=yield Rk(t,v),M=[];let C=(null==(n=a.flip)?void 0:n.overflows)||[];if(u&&M.push(A[g]),h){const e=function(e,t,r){void 0===r&&(r=!1);const n=vk(e),i=wk(e),a=yk(i);let s="x"===i?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Ek(s)),[s,Ek(s)]}(i,s,x);M.push(A[e[0]],A[e[1]])}if(C=[...C,{placement:i,overflows:M}],!M.every(e=>e<=0)){var N,E;const e=((null==(N=a.flip)?void 0:N.index)||0)+1,t=S[e];if(t){if(!("alignment"===h&&y!==xk(t))||C.every(e=>xk(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:C},reset:{placement:t}}}let r=null==(E=C.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:E.placement;if(!r)switch(f){case"bestFit":{var j;const e=null==(j=C.filter(e=>{if(k){const t=xk(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:j[0];e&&(r=e);break}case"initialPlacement":r=o}if(i!==r)return{reset:{placement:r}}}return{}})}}},GS=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn(t){return __async(this,null,function*(){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,l=mk(e,t),{apply:c=()=>{}}=l,d=__objRest(l,["apply"]),u=yield Rk(t,d),h=_k(i),p=vk(i),f="y"===xk(i),{width:m,height:_}=a.floating;let v,g;"top"===h||"bottom"===h?(v=h,g=p===((yield null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(g=h,v="end"===p?"top":"bottom");const y=_-u.top-u.bottom,b=m-u.left-u.right,x=ok(_-u[v],y),w=ok(m-u[g],b),k=!t.middlewareData.shift;let S=x,A=w;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(A=b),null!=(n=t.middlewareData.shift)&&n.enabled.y&&(S=y),k&&!p){const e=lk(u.left,0),t=lk(u.right,0),r=lk(u.top,0),n=lk(u.bottom,0);f?A=m-2*(0!==e||0!==t?e+t:lk(u.left,u.right)):S=_-2*(0!==r||0!==n?r+n:lk(u.top,u.bottom))}yield c(__spreadProps(__spreadValues({},t),{availableWidth:A,availableHeight:S}));const M=yield s.getDimensions(o.floating);return m!==M.width||_!==M.height?{reset:{rects:!0}}:{}})}}},PS=function(e){return void 0===e&&(e={}),{name:"hide",options:e,fn(t){return __async(this,null,function*(){const{rects:r}=t,n=mk(e,t),{strategy:i="referenceHidden"}=n,a=__objRest(n,["strategy"]);switch(i){case"referenceHidden":{const e=Tk(yield Rk(t,__spreadProps(__spreadValues({},a),{elementContext:"reference"})),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Lk(e)}}}case"escaped":{const e=Tk(yield Rk(t,__spreadProps(__spreadValues({},a),{altBoundary:!0})),r.floating);return{data:{escapedOffsets:e,escaped:Lk(e)}}}default:return{}}})}}},RS=e=>({name:"arrow",options:e,fn(t){return __async(this,null,function*(){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:l}=t,{element:c,padding:d=0}=mk(e,t)||{};if(null==c)return{};const u=jk(d),h={x:r,y:n},p=wk(i),f=yk(p),m=yield s.getDimensions(c),_="y"===p,v=_?"top":"left",g=_?"bottom":"right",y=_?"clientHeight":"clientWidth",b=a.reference[f]+a.reference[p]-h[p]-a.floating[f],x=h[p]-a.reference[p],w=yield null==s.getOffsetParent?void 0:s.getOffsetParent(c);let k=w?w[y]:0;k&&(yield null==s.isElement?void 0:s.isElement(w))||(k=o.floating[y]||a.floating[f]);const S=b/2-x/2,A=k/2-m[f]/2-1,M=ok(u[v],A),C=ok(u[g],A),N=M,E=k-m[f]-C,j=k/2-m[f]/2+S,G=fk(N,j,E),P=!l.arrow&&null!=vk(i)&&j!==G&&a.reference[f]/2-(j<N?M:C)-m[f]/2<0,R=P?j<N?j-N:j-E:0;return{[p]:h[p]+R,data:__spreadValues({[p]:G,centerOffset:j-G-R},P&&{alignmentOffset:R}),reset:P}})}}),TS=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=mk(e,t),d={x:r,y:n},u=xk(i),h=gk(u);let p=d[h],f=d[u];const m=mk(o,t),_="number"==typeof m?{mainAxis:m,crossAxis:0}:__spreadValues({mainAxis:0,crossAxis:0},m);if(l){const e="y"===h?"height":"width",t=a.reference[h]-a.floating[e]+_.mainAxis,r=a.reference[h]+a.reference[e]-_.mainAxis;p<t?p=t:p>r&&(p=r)}if(c){var v,g;const e="y"===h?"width":"height",t=Dk.has(_k(i)),r=a.reference[u]-a.floating[e]+(t&&(null==(v=s.offset)?void 0:v[u])||0)+(t?0:_.crossAxis),n=a.reference[u]+a.reference[e]+(t?0:(null==(g=s.offset)?void 0:g[u])||0)-(t?_.crossAxis:0);f<r?f=r:f>n&&(f=n)}return{[h]:p,[u]:f}}}},LS=(e,t,r)=>{const n=new Map,i=__spreadValues({platform:AS},r),a=__spreadProps(__spreadValues({},i.platform),{_c:n});return((e,t,r)=>__async(null,null,function*(){const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=yield null==s.isRTL?void 0:s.isRTL(t);let c=yield s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:u}=Pk(c,n,l),h=n,p={},f=0;for(let r=0;r<o.length;r++){const{name:a,fn:m}=o[r],{x:_,y:v,data:g,reset:y}=yield m({x:d,y:u,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});d=null!=_?_:d,u=null!=v?v:u,p=__spreadProps(__spreadValues({},p),{[a]:__spreadValues(__spreadValues({},p[a]),g)}),y&&f<=50&&(f++,"object"==typeof y&&(y.placement&&(h=y.placement),y.rects&&(c=!0===y.rects?yield s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:d,y:u}=Pk(c,h,l))),r=-1)}return{x:d,y:u,placement:h,strategy:i,middlewareData:p}}))(e,t,__spreadProps(__spreadValues({},i),{platform:a}))};var DS="undefined"!=typeof document?xd.useLayoutEffect:function(){};function IS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;0!==n--;)if(!IS(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;0!==n--;){const r=i[n];if(("_owner"!==r||!e.$$typeof)&&!IS(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function FS(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function OS(e,t){const r=FS(e);return Math.round(t*r)/r}function zS(e){const t=xd.useRef(e);return DS(()=>{t.current=e}),t}const WS=(e,t)=>__spreadProps(__spreadValues({},ES(e)),{options:[e,t]}),$S=(e,t)=>__spreadProps(__spreadValues({},TS(e)),{options:[e,t]}),BS=(e,t)=>__spreadProps(__spreadValues({},jS(e)),{options:[e,t]}),VS=(e,t)=>__spreadProps(__spreadValues({},GS(e)),{options:[e,t]}),HS=(e,t)=>__spreadProps(__spreadValues({},PS(e)),{options:[e,t]}),US=(e,t)=>__spreadProps(__spreadValues({},(e=>({name:"arrow",options:e,fn(t){const{element:r,padding:n}="function"==typeof e?e(t):e;return r&&(i=r,{}.hasOwnProperty.call(i,"current"))?null!=r.current?RS({element:r.current,padding:n}).fn(t):{}:r?RS({element:r,padding:n}).fn(t):{};var i}}))(e)),{options:[e,t]});var qS=xd.forwardRef((e,t)=>{const r=e,{children:n,width:i=10,height:a=5}=r,s=__objRest(r,["children","width","height"]);return bd.jsx(fb.svg,__spreadProps(__spreadValues({},s),{ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:bd.jsx("polygon",{points:"0,0 30,0 15,10"})}))});qS.displayName="Arrow";var XS=qS;var KS="Popper",[YS,QS]=db(KS),[JS,ZS]=YS(KS),eA=e=>{const{__scopePopper:t,children:r}=e,[n,i]=xd.useState(null);return bd.jsx(JS,{scope:t,anchor:n,onAnchorChange:i,children:r})};eA.displayName=KS;var tA="PopperAnchor",rA=xd.forwardRef((e,t)=>{const r=e,{__scopePopper:n,virtualRef:i}=r,a=__objRest(r,["__scopePopper","virtualRef"]),s=ZS(tA,n),o=xd.useRef(null),l=Qd(t,o),c=xd.useRef(null);return xd.useEffect(()=>{const e=c.current;c.current=(null==i?void 0:i.current)||o.current,e!==c.current&&s.onAnchorChange(c.current)}),i?null:bd.jsx(fb.div,__spreadProps(__spreadValues({},a),{ref:l}))});rA.displayName=tA;var nA="PopperContent",[iA,aA]=YS(nA),sA=xd.forwardRef((e,t)=>{var r,n,i,a,s,o,l,c;const d=e,{__scopePopper:u,side:h="bottom",sideOffset:p=0,align:f="center",alignOffset:m=0,arrowPadding:_=0,avoidCollisions:v=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:k}=d,S=__objRest(d,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),A=ZS(nA,u),[M,C]=xd.useState(null),N=Qd(t,e=>C(e)),[E,j]=xd.useState(null),G=function(e){const[t,r]=xd.useState(void 0);return Tb(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver(t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let i,a;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(E),P=null!=(r=null==G?void 0:G.width)?r:0,R=null!=(n=null==G?void 0:G.height)?n:0,T=h+("center"!==f?"-"+f:""),L="number"==typeof y?y:__spreadValues({top:0,right:0,bottom:0,left:0},y),D=Array.isArray(g)?g:[g],I=D.length>0,F={padding:L,boundary:D.filter(dA),altBoundary:I},{refs:O,floatingStyles:z,placement:W,isPositioned:$,middlewareData:B}=function(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[d,u]=xd.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=xd.useState(n);IS(h,n)||p(n);const[f,m]=xd.useState(null),[_,v]=xd.useState(null),g=xd.useCallback(e=>{e!==w.current&&(w.current=e,m(e))},[]),y=xd.useCallback(e=>{e!==k.current&&(k.current=e,v(e))},[]),b=a||f,x=s||_,w=xd.useRef(null),k=xd.useRef(null),S=xd.useRef(d),A=null!=l,M=zS(l),C=zS(i),N=zS(c),E=xd.useCallback(()=>{if(!w.current||!k.current)return;const e={placement:t,strategy:r,middleware:h};C.current&&(e.platform=C.current),LS(w.current,k.current,e).then(e=>{const t=__spreadProps(__spreadValues({},e),{isPositioned:!1!==N.current});j.current&&!IS(S.current,t)&&(S.current=t,hb.flushSync(()=>{u(t)}))})},[h,t,r,C,N]);DS(()=>{!1===c&&S.current.isPositioned&&(S.current.isPositioned=!1,u(e=>__spreadProps(__spreadValues({},e),{isPositioned:!1})))},[c]);const j=xd.useRef(!1);DS(()=>(j.current=!0,()=>{j.current=!1}),[]),DS(()=>{if(b&&(w.current=b),x&&(k.current=x),b&&x){if(M.current)return M.current(b,x,E);E()}},[b,x,E,M,A]);const G=xd.useMemo(()=>({reference:w,floating:k,setReference:g,setFloating:y}),[g,y]),P=xd.useMemo(()=>({reference:b,floating:x}),[b,x]),R=xd.useMemo(()=>{const e={position:r,left:0,top:0};if(!P.floating)return e;const t=OS(P.floating,d.x),n=OS(P.floating,d.y);return o?__spreadValues(__spreadProps(__spreadValues({},e),{transform:"translate("+t+"px, "+n+"px)"}),FS(P.floating)>=1.5&&{willChange:"transform"}):{position:r,left:t,top:n}},[r,o,P.floating,d.x,d.y]);return xd.useMemo(()=>__spreadProps(__spreadValues({},d),{update:E,refs:G,elements:P,floatingStyles:R}),[d,E,G,P,R])}({strategy:"fixed",placement:T,whileElementsMounted:(...e)=>CS(...e,{animationFrame:"always"===w}),elements:{reference:A.anchor},middleware:[(V={mainAxis:p+R,alignmentAxis:m},__spreadProps(__spreadValues({},NS(V)),{options:[V,H]})),v&&WS(__spreadValues({mainAxis:!0,crossAxis:!1,limiter:"partial"===b?$S():void 0},F)),v&&BS(__spreadValues({},F)),VS(__spreadProps(__spreadValues({},F),{apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{const{width:i,height:a}=t.reference,s=e.floating.style;s.setProperty("--radix-popper-available-width",`${r}px`),s.setProperty("--radix-popper-available-height",`${n}px`),s.setProperty("--radix-popper-anchor-width",`${i}px`),s.setProperty("--radix-popper-anchor-height",`${a}px`)}})),E&&US({element:E,padding:_}),uA({arrowWidth:P,arrowHeight:R}),x&&HS(__spreadValues({strategy:"referenceHidden"},F))]});var V,H;const[U,q]=hA(W),X=zb(k);Tb(()=>{$&&(null==X||X())},[$,X]);const K=null==(i=B.arrow)?void 0:i.x,Y=null==(a=B.arrow)?void 0:a.y,Q=0!==(null==(s=B.arrow)?void 0:s.centerOffset),[J,Z]=xd.useState();return Tb(()=>{M&&Z(window.getComputedStyle(M).zIndex)},[M]),bd.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:__spreadValues(__spreadProps(__spreadValues({},z),{transform:$?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[null==(o=B.transformOrigin)?void 0:o.x,null==(l=B.transformOrigin)?void 0:l.y].join(" ")}),(null==(c=B.hide)?void 0:c.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:e.dir,children:bd.jsx(iA,{scope:u,placedSide:U,onArrowChange:j,arrowX:K,arrowY:Y,shouldHideArrow:Q,children:bd.jsx(fb.div,__spreadProps(__spreadValues({"data-side":U,"data-align":q},S),{ref:N,style:__spreadProps(__spreadValues({},S.style),{animation:$?void 0:"none"})}))})})});sA.displayName=nA;var oA="PopperArrow",lA={top:"bottom",right:"left",bottom:"top",left:"right"},cA=xd.forwardRef(function(e,t){const r=e,{__scopePopper:n}=r,i=__objRest(r,["__scopePopper"]),a=aA(oA,n),s=lA[a.placedSide];return bd.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:bd.jsx(XS,__spreadProps(__spreadValues({},i),{ref:t,style:__spreadProps(__spreadValues({},i.style),{display:"block"})}))})});function dA(e){return null!==e}cA.displayName=oA;var uA=e=>({name:"transformOrigin",options:e,fn(t){var r,n,i,a,s;const{placement:o,rects:l,middlewareData:c}=t,d=0!==(null==(r=c.arrow)?void 0:r.centerOffset),u=d?0:e.arrowWidth,h=d?0:e.arrowHeight,[p,f]=hA(o),m={start:"0%",center:"50%",end:"100%"}[f],_=(null!=(i=null==(n=c.arrow)?void 0:n.x)?i:0)+u/2,v=(null!=(s=null==(a=c.arrow)?void 0:a.y)?s:0)+h/2;let g="",y="";return"bottom"===p?(g=d?m:`${_}px`,y=-h+"px"):"top"===p?(g=d?m:`${_}px`,y=`${l.floating.height+h}px`):"right"===p?(g=-h+"px",y=d?m:`${v}px`):"left"===p&&(g=`${l.floating.width+h}px`,y=d?m:`${v}px`),{data:{x:g,y:y}}}});function hA(e){const[t,r="center"]=e.split("-");return[t,r]}var pA=eA,fA=rA,mA=sA,_A=cA,vA="Popover",[gA,yA]=db(vA,[QS]),bA=QS(),[xA,wA]=gA(vA),kA=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,o=bA(t),l=xd.useRef(null),[c,d]=xd.useState(!1),[u,h]=Ob({prop:n,defaultProp:null!=i&&i,onChange:a,caller:vA});return bd.jsx(pA,__spreadProps(__spreadValues({},o),{children:bd.jsx(xA,{scope:t,contentId:Ib(),triggerRef:l,open:u,onOpenChange:h,onOpenToggle:xd.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:c,onCustomAnchorAdd:xd.useCallback(()=>d(!0),[]),onCustomAnchorRemove:xd.useCallback(()=>d(!1),[]),modal:s,children:r})}))};kA.displayName=vA;var SA="PopoverAnchor";xd.forwardRef((e,t)=>{const r=e,{__scopePopover:n}=r,i=__objRest(r,["__scopePopover"]),a=wA(SA,n),s=bA(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return xd.useEffect(()=>(o(),()=>l()),[o,l]),bd.jsx(fA,__spreadProps(__spreadValues(__spreadValues({},s),i),{ref:t}))}).displayName=SA;var AA="PopoverTrigger",MA=xd.forwardRef((e,t)=>{const r=e,{__scopePopover:n}=r,i=__objRest(r,["__scopePopover"]),a=wA(AA,n),s=bA(n),o=Qd(t,a.triggerRef),l=bd.jsx(fb.button,__spreadProps(__spreadValues({type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":FA(a.open)},i),{ref:o,onClick:Rb(e.onClick,a.onOpenToggle)}));return a.hasCustomAnchor?l:bd.jsx(fA,__spreadProps(__spreadValues({asChild:!0},s),{children:l}))});MA.displayName=AA;var CA="PopoverPortal",[NA,EA]=gA(CA,{forceMount:void 0}),jA=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=wA(CA,t);return bd.jsx(NA,{scope:t,forceMount:r,children:bd.jsx(sx,{present:r||a.open,children:bd.jsx(ax,{asChild:!0,container:i,children:n})})})};jA.displayName=CA;var GA="PopoverContent",PA=xd.forwardRef((e,t)=>{const r=EA(GA,e.__scopePopover),n=e,{forceMount:i=r.forceMount}=n,a=__objRest(n,["forceMount"]),s=wA(GA,e.__scopePopover);return bd.jsx(sx,{present:i||s.open,children:s.modal?bd.jsx(TA,__spreadProps(__spreadValues({},a),{ref:t})):bd.jsx(LA,__spreadProps(__spreadValues({},a),{ref:t}))})});PA.displayName=GA;var RA=Jd("PopoverContent.RemoveScroll"),TA=xd.forwardRef((e,t)=>{const r=wA(GA,e.__scopePopover),n=xd.useRef(null),i=Qd(t,n),a=xd.useRef(!1);return xd.useEffect(()=>{const e=n.current;if(e)return iw(e)},[]),bd.jsx(Qx,{as:RA,allowPinchZoom:!0,children:bd.jsx(DA,__spreadProps(__spreadValues({},e),{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Rb(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),a.current||null==(t=r.triggerRef.current)||t.focus()}),onPointerDownOutside:Rb(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;a.current=n},{checkForDefaultPrevented:!1}),onFocusOutside:Rb(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})}))})}),LA=xd.forwardRef((e,t)=>{const r=wA(GA,e.__scopePopover),n=xd.useRef(!1),i=xd.useRef(!1);return bd.jsx(DA,__spreadProps(__spreadValues({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;null==(a=e.onCloseAutoFocus)||a.call(e,t),t.defaultPrevented||(n.current||null==(s=r.triggerRef.current)||s.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{var a,s;null==(a=e.onInteractOutside)||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const o=t.target;(null==(s=r.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),DA=xd.forwardRef((e,t)=>{const r=e,{__scopePopover:n,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u}=r,h=__objRest(r,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),p=wA(GA,n),f=bA(n);return cx(),bd.jsx(Jb,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:bd.jsx(Ub,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>p.onOpenChange(!1),children:bd.jsx(mA,__spreadProps(__spreadValues(__spreadValues({"data-state":FA(p.open),role:"dialog",id:p.contentId},f),h),{ref:t,style:__spreadValues(__spreadValues({},h.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),IA="PopoverClose";xd.forwardRef((e,t)=>{const r=e,{__scopePopover:n}=r,i=__objRest(r,["__scopePopover"]),a=wA(IA,n);return bd.jsx(fb.button,__spreadProps(__spreadValues({type:"button"},i),{ref:t,onClick:Rb(e.onClick,()=>a.onOpenChange(!1))}))}).displayName=IA;function FA(e){return e?"open":"closed"}xd.forwardRef((e,t)=>{const r=e,{__scopePopover:n}=r,i=__objRest(r,["__scopePopover"]),a=bA(n);return bd.jsx(_A,__spreadProps(__spreadValues(__spreadValues({},a),i),{ref:t}))}).displayName="PopoverArrow";var OA=kA,zA=MA,WA=jA,$A=PA;function BA(e){var t=__objRest(e,[]);return bd.jsx(OA,__spreadValues({"data-slot":"popover"},t))}function VA(e){var t=__objRest(e,[]);return bd.jsx(zA,__spreadValues({"data-slot":"popover-trigger"},t))}function HA(e){var t=e,{className:r,align:n="center",sideOffset:i=4}=t,a=__objRest(t,["className","align","sideOffset"]);return bd.jsx(WA,{children:bd.jsx($A,__spreadValues({"data-slot":"popover-content",align:n,sideOffset:i,className:fh("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",r)},a))})}const UA={ocean:bd.jsx(Dh,{className:"w-4 h-4"}),forest:bd.jsx(Jh,{className:"w-4 h-4"}),sunset:bd.jsx(kp,{className:"w-4 h-4"}),lavender:bd.jsx($h,{className:"w-4 h-4"}),mono:bd.jsx(Rh,{className:"w-4 h-4"})},qA={ocean:"bg-sky-500",forest:"bg-green-500",sunset:"bg-orange-500",lavender:"bg-purple-500",mono:"bg-gray-500"};function XA({variant:e="button",showLabel:t=!0}){const{theme:r,setTheme:n,availableThemes:i,toggleDarkMode:a,changePalette:s}=qd(),[o,l]=xd.useState(!1),c=i.reduce((e,t)=>(e[t.palette]||(e[t.palette]=[]),e[t.palette].push(t),e),{}),d=r.palette,u=r.mode;return"minimal"===e?bd.jsxs("div",{className:"flex items-center space-x-2",children:[bd.jsx(_h,{variant:"ghost",size:"sm",onClick:a,className:"w-9 h-9 p-0",title:`Switch to ${"light"===u?"dark":"light"} mode`,children:"light"===u?bd.jsx(op,{className:"w-4 h-4"}):bd.jsx(wp,{className:"w-4 h-4"})}),bd.jsxs(BA,{open:o,onOpenChange:l,children:[bd.jsx(VA,{asChild:!0,children:bd.jsx(_h,{variant:"ghost",size:"sm",className:"w-9 h-9 p-0",title:"Change color palette",children:bd.jsx("div",{className:`w-4 h-4 rounded-full ${qA[d]}`})})}),bd.jsx(HA,{className:"w-48 p-2",align:"end",children:bd.jsxs("div",{className:"space-y-1",children:[bd.jsx("div",{className:"text-xs font-medium text-gray-500 px-2 py-1",children:"Color Palette"}),Object.entries(qA).map(([e,t])=>bd.jsxs(_h,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>s(e),children:[bd.jsx("div",{className:`w-3 h-3 rounded-full ${t} mr-2`}),bd.jsx("span",{className:"capitalize",children:e}),e===d&&bd.jsx(Nh,{className:"w-3 h-3 ml-auto"})]},e))]})})]})]}):bd.jsxs(BA,{open:o,onOpenChange:l,children:[bd.jsx(VA,{asChild:!0,children:bd.jsxs(_h,{variant:"outline",size:"sm",children:[bd.jsx(cp,{className:"w-4 h-4 mr-2"}),t&&bd.jsx("span",{className:"hidden sm:inline",children:r.name})]})}),bd.jsx(HA,{className:"w-80 p-4",align:"end",children:bd.jsxs("div",{className:"space-y-4",children:[bd.jsxs("div",{className:"flex items-center justify-between",children:[bd.jsx("h4",{className:"font-semibold",children:"Theme Settings"}),bd.jsx(gh,{variant:"secondary",className:"text-xs",children:r.name})]}),bd.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[bd.jsxs("div",{className:"flex items-center space-x-2",children:[bd.jsx(sp,{className:"w-4 h-4"}),bd.jsx("span",{className:"text-sm font-medium",children:"Display Mode"})]}),bd.jsx(_h,{variant:"outline",size:"sm",onClick:a,className:"h-8",children:"light"===u?bd.jsxs(bd.Fragment,{children:[bd.jsx(op,{className:"w-3 h-3 mr-1"}),"Dark"]}):bd.jsxs(bd.Fragment,{children:[bd.jsx(wp,{className:"w-3 h-3 mr-1"}),"Light"]})})]}),bd.jsxs("div",{className:"space-y-2",children:[bd.jsx("h5",{className:"text-sm font-medium",children:"Color Palettes"}),bd.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(c).map(([e,t])=>bd.jsx(ob,{className:"cursor-pointer transition-all hover:shadow-md "+(e===d?"ring-2 ring-blue-500 ring-opacity-50":""),onClick:()=>s(e),children:bd.jsx(lb,{className:"p-3",children:bd.jsxs("div",{className:"flex items-center justify-between",children:[bd.jsxs("div",{className:"flex items-center space-x-3",children:[bd.jsx("div",{className:`w-6 h-6 rounded-lg ${qA[e]} flex items-center justify-center text-white`,children:UA[e]}),bd.jsxs("div",{children:[bd.jsx("div",{className:"font-medium text-sm capitalize",children:e}),bd.jsxs("div",{className:"text-xs text-gray-500",children:[t.length," variants"]})]})]}),e===d&&bd.jsx(Nh,{className:"w-4 h-4 text-blue-500"})]})})},e))})]}),bd.jsxs("div",{className:"p-3 border rounded-lg",style:{background:r.gradients.surface,borderColor:r.colors.border},children:[bd.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Preview"}),bd.jsxs("div",{className:"space-y-2",children:[bd.jsx("div",{className:"h-8 rounded flex items-center px-3 text-sm font-medium",style:{background:r.colors.primary,color:r.colors.surface},children:"Primary Button"}),bd.jsxs("div",{className:"flex space-x-2",children:[bd.jsx("div",{className:"h-6 w-6 rounded",style:{background:r.colors.success}}),bd.jsx("div",{className:"h-6 w-6 rounded",style:{background:r.colors.warning}}),bd.jsx("div",{className:"h-6 w-6 rounded",style:{background:r.colors.error}})]})]})]})]})})]})}const KA={title:"Q4 Business Review 2024",subLine:"Prepared for Leadership Team",tagLine:"By Sarah Chen • TechCorp Inc.",files:[{name:"Q4_Business_Review_2024.pdf",size:"2.4 MB",type:"application/pdf",url:"https://example.com/report.pdf",thumbnailUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop",uploadedAt:"2024-01-15",uploadedBy:"Sarah Chen",description:"Comprehensive Q4 business review with financial analysis and growth projections"},{name:"chart1.png",size:"1.2 MB",type:"image/png",url:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=600&fit=crop",thumbnailUrl:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=400&h=300&fit=crop",uploadedAt:"2024-01-15",uploadedBy:"Sarah Chen",description:"Revenue growth chart for Q4 2024"},{name:"chart2.png",size:"1.1 MB",type:"image/png",url:"https://images.unsplash.com/photo-1590402494682-cd3fb53b1f70?w=800&h=600&fit=crop",thumbnailUrl:"https://images.unsplash.com/photo-1590402494682-cd3fb53b1f70?w=400&h=300&fit=crop",uploadedAt:"2024-01-15",uploadedBy:"Sarah Chen",description:"Market analysis visualization"},{name:"chart3.png",size:"0.9 MB",type:"image/png",url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=800&h=600&fit=crop",thumbnailUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop",uploadedAt:"2024-01-15",uploadedBy:"Sarah Chen",description:"Performance metrics dashboard"}],contactInfo:{email:"sarah.chen@techcorp.com",website:"https://techcorp.com",linkedin:"https://linkedin.com/in/sarahchen"}};function YA({data:e,onNavigate:t}){const r=e||KA,n=(e=>{if(0===e.length)return"document";const t=new Set(e.map(e=>rk(e.name,e.type)));return 1===t.size?Array.from(t)[0]:"mixed"})(r.files),i=r.files.some(e=>{var t,r,n;return(null==(t=e.name)?void 0:t.toLowerCase().endsWith(".ppt"))||(null==(r=e.name)?void 0:r.toLowerCase().endsWith(".pptx"))||(null==(n=e.type)?void 0:n.includes("presentation"))})?"presentation":n;return bd.jsx(Ud,{defaultThemeKey:"ocean-light",children:bd.jsxs("div",{className:"min-h-screen theme-bg theme-transition-colors",children:[bd.jsx("div",{className:"fixed top-2 sm:top-4 right-2 sm:right-4 z-50",children:bd.jsx(XA,{variant:"minimal",showLabel:!1})}),bd.jsx(Xd,{title:r.title,subLine:r.subLine,tagLine:r.tagLine}),bd.jsx(nk,{fileType:i,title:r.title,description:r.tagLine,files:r.files,content:"document"===i?(()=>{var e,t;const n=r.files.filter(e=>{var t;return(null==(t=e.type)?void 0:t.includes("text"))||e.name.match(/\.(txt|md|js|ts|py|html|css|json|xml|yaml|yml|csv)$/i)});if(n.length>0){switch(null==(e=n[0].name.split(".").pop())?void 0:e.toLowerCase()){case"md":return`# ${r.title}\n\n${r.subLine}\n\n## Overview\n\nThis document contains comprehensive information and detailed analysis prepared for the leadership team. The content includes strategic insights, data-driven recommendations, and actionable outcomes.\n\n### Key Highlights\n\n- **Performance Metrics**: Strong growth across all key indicators\n- **Market Position**: Competitive advantage maintained\n- **Future Outlook**: Positive trajectory with identified opportunities\n\n### Detailed Analysis\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.\n\n\`\`\`javascript\n// Sample code block\nconst analysis = {\n  revenue: 2400000,\n  growth: 0.15,\n  satisfaction: 0.92\n};\n\`\`\`\n\n### Recommendations\n\n1. Continue current growth strategy\n2. Expand market presence in key regions\n3. Invest in technology infrastructure\n4. Enhance customer experience initiatives\n\n---\n\n*Prepared by ${r.tagLine}*`;case"js":case"ts":return`// ${r.title}\n// ${r.subLine}\n\n/**\n * Main application configuration\n * Generated: ${(new Date).toISOString().split("T")[0]}\n */\n\nconst config = {\n  appName: "${r.title}",\n  version: "1.0.0",\n  environment: "production",\n  \n  // Database configuration\n  database: {\n    host: "localhost",\n    port: 5432,\n    name: "app_db"\n  },\n  \n  // API endpoints\n  api: {\n    baseUrl: "https://api.example.com",\n    timeout: 5000,\n    retries: 3\n  },\n  \n  // Feature flags\n  features: {\n    analytics: true,\n    notifications: true,\n    darkMode: true\n  }\n};\n\n// Export configuration\nexport default config;\n\n// Helper functions\nexport const validateConfig = (config) => {\n  return config.appName && config.version;\n};\n\nexport const getApiUrl = (endpoint) => {\n  return \`\${config.api.baseUrl}/\${endpoint}\`;\n};`;case"json":return`{\n  "name": "${r.title}",\n  "description": "${r.subLine}",\n  "version": "1.0.0",\n  "author": "${(null==(t=r.tagLine.split("•")[0])?void 0:t.trim())||"Author"}",\n  "license": "MIT",\n  "main": "index.js",\n  "scripts": {\n    "start": "node index.js",\n    "dev": "nodemon index.js",\n    "test": "jest",\n    "build": "webpack --mode production"\n  },\n  "dependencies": {\n    "express": "^4.18.0",\n    "react": "^18.2.0",\n    "react-dom": "^18.2.0",\n    "axios": "^1.4.0",\n    "lodash": "^4.17.21"\n  },\n  "devDependencies": {\n    "nodemon": "^2.0.22",\n    "jest": "^29.5.0",\n    "webpack": "^5.88.0"\n  },\n  "keywords": [\n    "business",\n    "review",\n    "analytics",\n    "reporting"\n  ]\n}`;case"py":return`# ${r.title}\n# ${r.subLine}\n\n"""\nBusiness Review Analysis Module\n${r.tagLine}\n"""\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom datetime import datetime, timedelta\n\nclass BusinessReview:\n    """\n    A comprehensive business review analysis class\n    """\n    \n    def __init__(self, data_source="quarterly_data.csv"):\n        self.data_source = data_source\n        self.data = None\n        self.metrics = {}\n    \n    def load_data(self):\n        """Load and prepare business data"""\n        try:\n            self.data = pd.read_csv(self.data_source)\n            print(f"Loaded {len(self.data)} records")\n        except FileNotFoundError:\n            print("Data file not found")\n    \n    def calculate_metrics(self):\n        """Calculate key business metrics"""\n        if self.data is None:\n            return\n        \n        self.metrics = {\n            'revenue': self.data['revenue'].sum(),\n            'growth_rate': self.data['revenue'].pct_change().mean(),\n            'customer_count': len(self.data['customer_id'].unique()),\n            'avg_order_value': self.data['revenue'].mean()\n        }\n        \n        return self.metrics\n    \n    def generate_report(self):\n        """Generate comprehensive business report"""\n        metrics = self.calculate_metrics()\n        \n        report = f"""\n        Business Review Report\n        Generated: {datetime.now().strftime('%Y-%m-%d')}\n        \n        Key Metrics:\n        - Total Revenue: \${metrics['revenue']:,.2f}\n        - Growth Rate: {metrics['growth_rate']:.2%}\n        - Customer Count: {metrics['customer_count']:,}\n        - Avg Order Value: \${metrics['avg_order_value']:,.2f}\n        """\n        \n        return report\n\n# Usage example\nif __name__ == "__main__":\n    review = BusinessReview()\n    review.load_data()\n    print(review.generate_report())`;default:return`${r.title}\n${r.subLine}\n\nEXECUTIVE SUMMARY\n================\n\nThis comprehensive business review document provides detailed insights into our Q4 performance and strategic outlook for the upcoming year. The analysis covers key performance indicators, market positioning, and recommendations for continued growth.\n\nKEY FINDINGS\n============\n\nPerformance Metrics:\n- Revenue Growth: 15% year-over-year\n- Customer Satisfaction: 92% (up from 87%)\n- Market Share: 23% (industry leader)\n- Employee Retention: 94% (above industry average)\n\nMarket Analysis:\n- Strong demand in core markets\n- Emerging opportunities in digital channels\n- Competitive landscape remains stable\n- Customer preferences shifting toward sustainability\n\nSTRATEGIC RECOMMENDATIONS\n=========================\n\n1. GROWTH INITIATIVES\n   - Expand digital presence\n   - Launch new product lines\n   - Enter emerging markets\n   - Strengthen partnerships\n\n2. OPERATIONAL EXCELLENCE\n   - Improve supply chain efficiency\n   - Invest in automation technology\n   - Enhance customer service capabilities\n   - Optimize cost structures\n\n3. PEOPLE & CULTURE\n   - Expand talent acquisition\n   - Improve employee development programs\n   - Foster innovation culture\n   - Strengthen leadership pipeline\n\nFINANCIAL PROJECTIONS\n=====================\n\nYear 1 Targets:\n- Revenue: $12.5M (25% growth)\n- Profit Margin: 18% (up from 15%)\n- Market Expansion: 3 new regions\n- Team Growth: 40 new hires\n\nCONCLUSION\n==========\n\nThe organization is well-positioned for continued growth and market leadership. With the recommended strategic initiatives, we anticipate strong performance across all key metrics in the coming year.\n\nPrepared by: ${r.tagLine}\nDocument Date: ${(new Date).toLocaleDateString()}\nVersion: 1.0`}}return""})():void 0,onDownload:()=>{console.log("Download tracked for files")},metadata:(()=>{var e;switch(n){case"gallery":return{totalImages:r.files.length,size:r.files.reduce((e,t)=>e+parseFloat(t.size),0).toFixed(1)+" MB",format:"Multiple Images"};case"pdf":const t=r.files.find(e=>"application/pdf"===e.type);return{size:(null==t?void 0:t.size)||"0 MB",format:"PDF Document",pages:1,thumbnails:[],author:"Unknown",created:(null==t?void 0:t.uploadedAt)||(new Date).toISOString().split("T")[0]};case"video":const n=r.files.find(e=>{var t;return null==(t=e.type)?void 0:t.startsWith("video/")});return{size:(null==n?void 0:n.size)||"0 MB",format:"Video",duration:"5:24",quality:"1080p"};case"archive":return{size:r.files.reduce((e,t)=>e+parseFloat(t.size),0).toFixed(1)+" MB",format:"ZIP Archive",compressed:"60%",ratio:"2.5:1"};case"document":return{size:(null==(e=r.files[0])?void 0:e.size)||"0 MB",format:"Text Document",lines:245,words:2840,characters:15420,language:"markdown"};case"presentation":const i=r.files.find(e=>{var t,r,n;return(null==(t=e.type)?void 0:t.includes("presentation"))||(null==(r=e.name)?void 0:r.toLowerCase().endsWith(".ppt"))||(null==(n=e.name)?void 0:n.toLowerCase().endsWith(".pptx"))});return{size:(null==i?void 0:i.size)||"0 MB",format:"PowerPoint → PDF",pages:12,theme:"Converted Document",modified:(null==i?void 0:i.uploadedAt)||(new Date).toISOString().split("T")[0]};default:return{size:"0 MB",format:"Unknown"}}})()}),bd.jsx(ak,{creatorName:r.tagLine.includes("•")?r.tagLine.split("•")[1].trim():"Creator",contactInfo:r.contactInfo,primaryCTA:{text:"Get in touch",action:()=>{window.location.href=`mailto:${r.contactInfo.email}`}},secondaryCTA:{text:"Download all files",action:()=>{console.log("Download all files")}},showLytsiteBranding:!0,onNavigateHome:()=>t("homepage")})]})})}function QA(){const e=document.getElementById("root"),t=window.LYTSITE_DATA;if(!e||!t)return void console.error("Lytsite: Missing root element or data");!function(){const e=Bd["ocean-light"];Object.entries(e.colors).forEach(([e,t])=>{document.body.style.setProperty(`--color-${e}`,t)}),Object.entries(e.shadows).forEach(([e,t])=>{document.body.style.setProperty(`--shadow-${e}`,t)}),Object.entries(e.gradients).forEach(([e,t])=>{document.body.style.setProperty(`--gradient-${e}`,t)}),document.body.style.setProperty("--background",e.colors.background),document.body.style.setProperty("--foreground",e.colors.textPrimary),document.body.style.setProperty("--primary",e.colors.primary),document.body.style.setProperty("--primary-foreground",e.colors.surface),document.body.style.setProperty("--secondary",e.colors.backgroundSecondary),document.body.style.setProperty("--border",e.colors.border),document.body.style.setProperty("--input","transparent"),document.body.style.setProperty("--ring",e.colors.primary),document.body.className=document.body.className.replace(/theme-\w+-\w+/g,"").concat(" theme-ocean-light").trim()}();const r={title:t.title,subLine:t.subLine,tagLine:t.tagLine,heroImage:t.heroImage||null,files:t.files,contactInfo:{email:"",website:"https://lytsite.com",linkedin:""}};Id.createRoot(e).render(bd.jsx(wd.StrictMode,{children:bd.jsx(YA,{data:r,onNavigate:()=>{}})}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",QA):QA()}(lucideReact_0_487_0);
